{"version":3,"file":"static/js/833.a279c64c.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/file-text.ts","../node_modules/lucide-react/src/icons/plus.ts","components/views/PermissionsManager.js","components/views/Settings.js","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/bar-chart-3.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name FileText\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTQuNSAySDZhMiAyIDAgMCAwLTIgMnYxNmEyIDIgMCAwIDAgMiAyaDEyYTIgMiAwIDAgMCAyLTJWNy41TDE0LjUgMnoiIC8+CiAgPHBvbHlsaW5lIHBvaW50cz0iMTQgMiAxNCA4IDIwIDgiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjEzIiB5Mj0iMTMiIC8+CiAgPGxpbmUgeDE9IjE2IiB4Mj0iOCIgeTE9IjE3IiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjEwIiB4Mj0iOCIgeTE9IjkiIHkyPSI5IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/file-text\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst FileText = createLucideIcon('FileText', [\n  [\n    'path',\n    {\n      d: 'M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z',\n      key: '1nnpy2',\n    },\n  ],\n  ['polyline', { points: '14 2 14 8 20 8', key: '1ew0cm' }],\n  ['line', { x1: '16', x2: '8', y1: '13', y2: '13', key: '14keom' }],\n  ['line', { x1: '16', x2: '8', y1: '17', y2: '17', key: '17nazh' }],\n  ['line', { x1: '10', x2: '8', y1: '9', y2: '9', key: '1a5vjj' }],\n]);\n\nexport default FileText;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import React, { useState, useEffect } from 'react';\nimport {\n  Users,\n  FileText,\n  Calendar,\n  BarChart3,\n  Settings,\n  MessageSquare,\n  CheckCircle,\n  XCircle,\n  AlertCircle,\n  Eye,\n  Plus,\n  Edit,\n  Trash2,\n  MoreHorizontal,\n  ChevronDown,\n  ChevronRight,\n  Megaphone,\n  Bell\n} from 'lucide-react';\n\nconst PermissionsManager = () => {\n  const [roles, setRoles] = useState([]);\n  const [selectedRole, setSelectedRole] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [expandedModules, setExpandedModules] = useState(new Set());\n  const [roleFormData, setRoleFormData] = useState({ name: '', description: '', permissions: [] });\n  const [isAddingRole, setIsAddingRole] = useState(false);\n  const [editingRole, setEditingRole] = useState(null);\n\n  // Dynamic permission structure - will be loaded from database\n  const [permissionModules, setPermissionModules] = useState([]);\n\n  // Simple permission toggle (no more complex scopes)\n  const hasPermission = (role, permissionName) => {\n    if (!role || !role.permissions) return false;\n    \n    let permissions;\n    try {\n      permissions = typeof role.permissions === 'string' ? JSON.parse(role.permissions) : role.permissions;\n    } catch (e) {\n      permissions = [];\n    }\n    \n    // Check for \"all\" permission first - this grants access to everything\n    if (permissions.includes('all')) {\n      return true;\n    }\n    \n    return permissions.includes(permissionName);\n  };\n\n  useEffect(() => {\n    fetchRoles();\n    fetchPermissions();\n  }, []);\n\n  // Add effect to refresh data when component comes back into focus\n  useEffect(() => {\n    const handleFocus = () => {\n      console.log('üîÑ PermissionsManager component focused - refreshing data...');\n      fetchRoles();\n    };\n\n    window.addEventListener('focus', handleFocus);\n    return () => window.removeEventListener('focus', handleFocus);\n  }, []);\n\n  const fetchRoles = async () => {\n    try {\n      setLoading(true);\n      const response = await fetch('/api/roles');\n      if (response.ok) {\n        const data = await response.json();\n        console.log('üîç Fetched roles data:', data);\n        \n        // Debug: Check permissions format for each role\n        data.forEach(role => {\n          console.log(`üîç Role \"${role.name}\" permissions:`, {\n            type: typeof role.permissions,\n            value: role.permissions,\n            isArray: Array.isArray(role.permissions)\n          });\n        });\n        \n        setRoles(data);\n        if (data.length > 0) {\n          // If we have a selectedRole, update it with fresh data from database\n          if (selectedRole) {\n            const freshSelectedRole = data.find(r => r.id === selectedRole.id);\n            if (freshSelectedRole) {\n              setSelectedRole(freshSelectedRole);\n            } else {\n              // If selected role no longer exists, select first role\n              setSelectedRole(data[0]);\n            }\n          } else {\n            // No role selected yet, select first role\n            setSelectedRole(data[0]);\n          }\n        }\n      } else {\n        throw new Error('Failed to fetch roles');\n      }\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const fetchPermissions = async () => {\n    try {\n      const response = await fetch('/api/permissions');\n      if (response.ok) {\n        const permissions = await response.json();\n        \n        // Group permissions by module based on actual database categories\n        const modules = [\n          {\n            id: 'sidebar',\n            name: 'Sidebar Navigation',\n            icon: Settings,\n            description: 'PHASE 2: Control which sidebar menu items users can see',\n            permissions: permissions.filter(p => p.category === 'Sidebar Navigation')\n          },\n          {\n            id: 'dashboard',\n            name: 'Dashboard',\n            icon: BarChart3,\n            description: 'Access to main dashboard and overview',\n            permissions: permissions.filter(p => p.category === 'Dashboard' || p.name.includes('dashboard'))\n          },\n          {\n            id: 'employees',\n            name: 'Employees',\n            icon: Users,\n            description: 'Manage employee information and records',\n            permissions: permissions.filter(p => p.category === 'Employees' || p.name.includes('employee'))\n          },\n          {\n            id: 'tasks',\n            name: 'Tasks',\n            icon: FileText,\n            description: 'Manage and assign tasks',\n            permissions: permissions.filter(p => \n              p.category === 'Task Management' || \n              p.name.toLowerCase().includes('task') ||\n              p.name.toLowerCase().includes('timer')\n            )\n          },\n          {\n            id: 'attendance',\n            name: 'Attendance',\n            icon: Calendar,\n            description: 'Track employee attendance and time',\n            permissions: permissions.filter(p => p.category === 'Attendance' || p.name.includes('attendance'))\n          },\n          {\n            id: 'tickets',\n            name: 'Tickets',\n            icon: MessageSquare,\n            description: 'Manage support tickets and communication',\n            permissions: permissions.filter(p => p.category === 'Tickets' || p.name.includes('ticket'))\n          },\n          {\n            id: 'notice_board',\n            name: 'Notice Board',\n            icon: Megaphone,\n            description: 'Manage company notices and announcements',\n            permissions: permissions.filter(p => p.category === 'Notice Board' || p.name.includes('notice'))\n          },\n          {\n            id: 'reports',\n            name: 'Reports',\n            icon: BarChart3,\n            description: 'Generate and view various reports',\n            permissions: permissions.filter(p => p.category === 'Reports' || p.name.includes('report'))\n          },\n          {\n            id: 'settings',\n            name: 'Settings',\n            icon: Settings,\n            description: 'System configuration and user management',\n            permissions: permissions.filter(p => p.category === 'Settings' || p.name.includes('setting'))\n          },\n          {\n            id: 'notifications',\n            name: 'Notifications',\n            icon: Bell,\n            description: 'Control access to different types of notifications',\n            permissions: permissions.filter(p => p.category === 'Notifications' || p.name.includes('dwm_view') || p.name.includes('clet_view') || p.name.includes('ca_view'))\n          }\n        ];\n        \n        console.log('Loaded permissions from database:', permissions);\n        console.log('Grouped into modules:', modules);\n        \n        // Debug: Log tasks module specifically\n        const tasksModule = modules.find(m => m.id === 'tasks');\n        if (tasksModule) {\n          console.log('üîç Tasks Module Debug:');\n          console.log('  - Total permissions found:', tasksModule.permissions.length);\n          console.log('  - Permissions:', tasksModule.permissions.map(p => `${p.name} (${p.category})`));\n          \n          // Additional debugging\n          console.log('üîç Raw permissions data:');\n          console.log('  - All permissions count:', permissions.length);\n          console.log('  - Permissions with \"task\" in name:', permissions.filter(p => p.name.toLowerCase().includes('task')).length);\n          console.log('  - Permissions with \"timer\" in name:', permissions.filter(p => p.name.toLowerCase().includes('timer')).length);\n          console.log('  - Permissions with category \"Task Management\":', permissions.filter(p => p.category === 'Task Management').length);\n        }\n        \n        setPermissionModules(modules);\n      } else {\n        throw new Error('Failed to fetch permissions');\n      }\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  const getPermissionValue = (role, permissionName) => {\n    if (!role || !role.permissions) {\n      console.log(`üîç getPermissionValue: No role or permissions for ${permissionName}`, { role });\n      return false;\n    }\n\n    let permissions;\n    try {\n      // Handle different data types for permissions\n      if (typeof role.permissions === 'string') {\n        permissions = JSON.parse(role.permissions);\n        console.log(`üîç Parsed string permissions for role ${role.name}:`, permissions);\n      } else if (Array.isArray(role.permissions)) {\n        permissions = role.permissions;\n        console.log(`üîç Using array permissions for role ${role.name}:`, permissions);\n      } else if (role.permissions === null || role.permissions === undefined) {\n        permissions = [];\n        console.log(`üîç No permissions for role ${role.name}, using empty array`);\n      } else {\n        // Handle object format: { \"permission_name\": true/false }\n        if (typeof role.permissions === 'object' && !Array.isArray(role.permissions)) {\n          const result = role.permissions[permissionName] === true;\n          console.log(`üîç Object permissions for role ${role.name}, ${permissionName}: ${result}`);\n          return result;\n        }\n        console.warn('Unexpected permissions format in getPermissionValue:', role.permissions);\n        permissions = [];\n      }\n      \n      // Ensure permissions is always an array for array-based logic\n      if (!Array.isArray(permissions)) {\n        console.warn('Permissions is not an array after parsing in getPermissionValue, resetting to empty array');\n        permissions = [];\n      }\n    } catch (e) {\n      console.error('Error parsing permissions in getPermissionValue:', e);\n      permissions = [];\n    }\n\n    // Check for \"all\" permission first - this grants access to everything\n    if (permissions.includes('all')) {\n      console.log(`üîç Permission check for ${permissionName} in role ${role.name}: true (permissions: all - universal grant)`);\n      return true;\n    }\n    \n    const hasPermission = permissions.includes(permissionName);\n    console.log(`üîç Permission check for ${permissionName} in role ${role.name}: ${hasPermission} (permissions: ${JSON.stringify(permissions)})`);\n    console.log(`üîç Looking for: \"${permissionName}\" in array: [${permissions.map(p => `\"${p}\"`).join(', ')}]`);\n    return hasPermission;\n  };\n\n  const handlePermissionChange = (permissionName, checked) => {\n    if (!selectedRole) return;\n\n    let permissions;\n    try {\n      // Handle different data types for permissions\n      if (typeof selectedRole.permissions === 'string') {\n        permissions = JSON.parse(selectedRole.permissions);\n      } else if (Array.isArray(selectedRole.permissions)) {\n        permissions = [...selectedRole.permissions]; // Create a copy\n      } else if (selectedRole.permissions === null || selectedRole.permissions === undefined) {\n        permissions = {};\n      } else if (typeof selectedRole.permissions === 'object' && !Array.isArray(selectedRole.permissions)) {\n        // Handle object format: { \"permission_name\": true/false }\n        permissions = { ...selectedRole.permissions }; // Create a copy\n      } else {\n        console.warn('Unexpected permissions format:', selectedRole.permissions);\n        permissions = {};\n      }\n      \n      // Handle object-based permissions\n      if (typeof permissions === 'object' && !Array.isArray(permissions)) {\n        permissions[permissionName] = checked;\n        \n        setSelectedRole({\n          ...selectedRole,\n          permissions: permissions\n        });\n        return;\n      }\n      \n      // Handle array-based permissions (fallback)\n      if (!Array.isArray(permissions)) {\n        console.warn('Permissions is not an array after parsing, resetting to empty array');\n        permissions = [];\n      }\n\n      if (checked) {\n        // Add permission if not already present\n        if (!permissions.includes(permissionName)) {\n          permissions.push(permissionName);\n        }\n      } else {\n        // Remove permission if present\n        permissions = permissions.filter(p => p !== permissionName);\n      }\n\n      setSelectedRole({\n        ...selectedRole,\n        permissions: permissions\n      });\n    } catch (e) {\n      console.error('Error parsing permissions:', e);\n      permissions = {};\n      \n      // Set the permission directly\n      permissions[permissionName] = checked;\n      \n      setSelectedRole({\n        ...selectedRole,\n        permissions: permissions\n      });\n    }\n  };\n\n  const handleSavePermissions = async () => {\n    if (!selectedRole) return;\n\n    try {\n      setLoading(true);\n      \n      // Debug: Log what we're about to save\n      console.log('üíæ Saving permissions for role:', selectedRole.name);\n      console.log('üíæ Permissions being saved:', selectedRole.permissions);\n      console.log('üíæ Permissions type:', typeof selectedRole.permissions);\n      \n      const response = await fetch(`/api/roles/${selectedRole.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          name: selectedRole.name,\n          description: selectedRole.description,\n          permissions: selectedRole.permissions\n        }),\n      });\n\n      if (response.ok) {\n        const updatedRole = await response.json();\n        setRoles(roles.map(r => r.id === updatedRole.id ? updatedRole : r));\n        setSelectedRole(updatedRole);\n        alert('Permissions saved successfully!');\n      } else {\n        throw new Error('Failed to save permissions');\n      }\n    } catch (err) {\n      setError(err.message);\n      alert('Error saving permissions: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleModuleExpansion = (moduleId) => {\n    const newExpanded = new Set(expandedModules);\n    if (newExpanded.has(moduleId)) {\n      newExpanded.delete(moduleId);\n    } else {\n      newExpanded.add(moduleId);\n    }\n    setExpandedModules(newExpanded);\n  };\n\n  const handleAddRole = () => {\n    setIsAddingRole(true);\n    setRoleFormData({ name: '', description: '', permissions: [] });\n  };\n\n  const handleEditRole = (role) => {\n    setEditingRole(role);\n    setRoleFormData({ \n      name: role.name, \n      description: role.description || '',\n      permissions: role.permissions || []\n    });\n  };\n\n  const handleRoleSubmit = async () => {\n    try {\n      setLoading(true);\n      const url = editingRole\n        ? `/api/roles/${editingRole.id}`\n        : '/api/roles';\n\n      const method = editingRole ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          ...roleFormData,\n          permissions: roleFormData.permissions || []\n        }),\n      });\n\n      if (response.ok) {\n        await fetchRoles();\n        setIsAddingRole(false);\n        setEditingRole(null);\n        setRoleFormData({ name: '', description: '', permissions: [] });\n      } else {\n        throw new Error('Failed to save role');\n      }\n    } catch (err) {\n      setError(err.message);\n      alert('Error saving role: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleDeleteRole = async (roleId) => {\n    if (!confirm('Are you sure you want to delete this role?')) return;\n\n    try {\n      setLoading(true);\n      const response = await fetch(`/api/roles/${roleId}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        await fetchRoles();\n        if (selectedRole?.id === roleId) {\n          setSelectedRole(roles.find(r => r.id !== roleId) || null);\n        }\n      } else {\n        throw new Error('Failed to delete role');\n      }\n    } catch (err) {\n      setError(err.message);\n      alert('Error deleting role: ' + err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Debug: Log current state\n  console.log('üîç PermissionsManager render state:', {\n    loading,\n    rolesCount: roles.length,\n    permissionModulesCount: permissionModules.length,\n    selectedRole: selectedRole ? {\n      id: selectedRole.id,\n      name: selectedRole.name,\n      permissionsType: typeof selectedRole.permissions,\n      permissionsValue: selectedRole.permissions,\n      permissionsCount: selectedRole.permissions ? \n        (Array.isArray(selectedRole.permissions) ? selectedRole.permissions.length : 'not array') : \n        'no permissions'\n    } : 'no role selected'\n  });\n  \n  // Debug: Log selected role permissions in detail\n  if (selectedRole && selectedRole.permissions) {\n    console.log('üîç Selected Role Permissions Debug:', {\n      roleName: selectedRole.name,\n      permissionsType: typeof selectedRole.permissions,\n      permissionsRaw: selectedRole.permissions,\n      permissionsParsed: typeof selectedRole.permissions === 'string' ? JSON.parse(selectedRole.permissions) : selectedRole.permissions\n    });\n  }\n\n  if (loading && (roles.length === 0 || permissionModules.length === 0)) {\n    return <div className=\"flex justify-center items-center h-64\">Loading permissions...</div>;\n  }\n\n  return (\n    <div className=\"p-6\">\n      <div className=\"mb-6\">\n        <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Roles & Permissions Management</h2>\n        <p className=\"text-gray-600\">Manage user roles and their access permissions across different modules</p>\n      </div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-6\">\n        {/* Left Column - Role Management */}\n        <div className=\"lg:col-span-1\">\n          <div className=\"bg-white rounded-lg shadow p-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h3 className=\"text-lg font-semibold text-gray-900\">Roles</h3>\n              <button\n                onClick={handleAddRole}\n                className=\"bg-blue-600 text-white px-3 py-1 rounded-md text-sm hover:bg-blue-700 flex items-center gap-2\"\n              >\n                <Plus size={16} />\n                Add Role\n              </button>\n            </div>\n\n            {/* Role List */}\n            <div className=\"space-y-2\">\n              {roles.map((role) => (\n                <div\n                  key={role.id}\n                  className={`p-3 rounded-md cursor-pointer transition-colors ${\n                    selectedRole?.id === role.id\n                      ? 'bg-blue-100 border border-blue-300'\n                      : 'bg-gray-50 hover:bg-gray-100'\n                  }`}\n                  onClick={() => setSelectedRole(role)}\n                >\n                  <div className=\"flex justify-between items-center\">\n                    <div>\n                      <div className=\"font-medium text-gray-900\">{role.name}</div>\n                      {role.description && (\n                        <div className=\"text-sm text-gray-500\">{role.description}</div>\n                      )}\n                    </div>\n                    <div className=\"flex gap-1\">\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleEditRole(role);\n                        }}\n                        className=\"text-blue-600 hover:text-blue-800 p-1\"\n                      >\n                        <Edit size={14} />\n                      </button>\n                      <button\n                        onClick={(e) => {\n                          e.stopPropagation();\n                          handleDeleteRole(role.id);\n                        }}\n                        className=\"text-red-600 hover:text-red-800 p-1\"\n                      >\n                        <Trash2 size={14} />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n\n            {/* Add/Edit Role Form */}\n            {(isAddingRole || editingRole) && (\n              <div className=\"mt-4 p-4 bg-gray-50 rounded-md\">\n                <h4 className=\"font-medium mb-3\">\n                  {editingRole ? 'Edit Role' : 'Add New Role'}\n                </h4>\n                <div className=\"space-y-3\">\n                  <input\n                    type=\"text\"\n                    placeholder=\"Role Name\"\n                    value={roleFormData.name}\n                    onChange={(e) => setRoleFormData({ ...roleFormData, name: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                  <input\n                    type=\"text\"\n                    placeholder=\"Description (optional)\"\n                    value={roleFormData.description}\n                    onChange={(e) => setRoleFormData({ ...roleFormData, description: e.target.value })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                  <div className=\"flex gap-2\">\n                    <button\n                      onClick={handleRoleSubmit}\n                      className=\"bg-blue-600 text-white px-3 py-2 rounded-md text-sm hover:bg-blue-700\"\n                    >\n                      {editingRole ? 'Update' : 'Create'}\n                    </button>\n                    <button\n                      onClick={() => {\n                        setIsAddingRole(false);\n                        setEditingRole(null);\n                        setRoleFormData({ name: '', description: '', permissions: [] });\n                      }}\n                      className=\"bg-gray-500 text-white px-3 py-2 rounded-md text-sm hover:bg-gray-600\"\n                    >\n                      Cancel\n                    </button>\n                  </div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Right Column - Permissions Matrix */}\n        <div className=\"lg:col-span-3\">\n          {selectedRole ? (\n            <div className=\"bg-white rounded-lg shadow\">\n              {/* Header */}\n              <div className=\"p-6 border-b border-gray-200\">\n                <div className=\"flex justify-between items-center\">\n                  <div>\n                    <h3 className=\"text-xl font-semibold text-gray-900\">\n                      Permissions for: {selectedRole.name}\n                    </h3>\n                    {selectedRole.description && (\n                      <p className=\"text-gray-600 mt-1\">{selectedRole.description}</p>\n                    )}\n                  </div>\n                  <button\n                    onClick={handleSavePermissions}\n                    disabled={loading}\n                    className=\"bg-purple-600 text-white px-4 py-2 rounded-md hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2\"\n                  >\n                    <CheckCircle size={16} />\n                    Save Changes\n                  </button>\n                </div>\n              </div>\n\n              {/* Permissions Matrix */}\n              <div className=\"p-6\">\n                <div className=\"space-y-4\">\n                  {permissionModules.length === 0 ? (\n                    <div className=\"text-center py-8\">\n                      <div className=\"text-gray-400 mb-4\">\n                        <Settings size={48} className=\"mx-auto\" />\n                      </div>\n                      <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Loading Permissions</h3>\n                      <p className=\"text-gray-600\">Please wait while permissions are loaded from the database...</p>\n                    </div>\n                  ) : (\n                    permissionModules.map((module) => {\n                      const isExpanded = expandedModules.has(module.id);\n                      const IconComponent = module.icon;\n\n                      return (\n                        <div key={module.id} className=\"border border-gray-200 rounded-lg\">\n                          {/* Module Header */}\n                          <div\n                            className=\"p-4 bg-gray-50 cursor-pointer hover:bg-gray-100 transition-colors\"\n                            onClick={() => toggleModuleExpansion(module.id)}\n                          >\n                            <div className=\"flex items-center justify-between\">\n                              <div className=\"flex items-center gap-3\">\n                                <IconComponent className=\"text-blue-600\" size={20} />\n                                <div>\n                                  <h4 className=\"font-medium text-gray-900\">{module.name}</h4>\n                                  <p className=\"text-sm text-gray-600\">{module.description}</p>\n                                </div>\n                              </div>\n                              <div className=\"flex items-center gap-2\">\n                                <span className=\"text-sm text-gray-500\">\n                                  {module.permissions.length} permissions\n                                </span>\n                                {isExpanded ? <ChevronDown size={16} /> : <ChevronRight size={16} />}\n                              </div>\n                            </div>\n                          </div>\n\n                          {/* Module Permissions */}\n                          {isExpanded && (\n                            <div className=\"p-4 border-t border-gray-200\">\n                              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                                {module.permissions.map((permission) => (\n                                  <div key={permission.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-md\">\n                                    <div>\n                                      <div className=\"font-medium text-gray-900\">{permission.name}</div>\n                                      <div className=\"text-sm text-gray-600\">{permission.description}</div>\n                                    </div>\n                                    <label className=\"flex items-center gap-2 cursor-pointer\">\n                                      <input\n                                        type=\"checkbox\"\n                                        checked={getPermissionValue(selectedRole, permission.name)}\n                                        onChange={(e) => handlePermissionChange(permission.name, e.target.checked)}\n                                        className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"\n                                      />\n                                      <span className=\"text-sm text-gray-600\">Allow</span>\n                                    </label>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })\n                  )}\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"bg-white rounded-lg shadow p-12 text-center\">\n              <div className=\"text-gray-400 mb-4\">\n                <Settings size={48} className=\"mx-auto\" />\n              </div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-2\">Select a Role</h3>\n              <p className=\"text-gray-600\">Choose a role from the left panel to manage its permissions</p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {error && (\n        <div className=\"fixed bottom-4 right-4 bg-red-500 text-white px-4 py-2 rounded-md shadow-lg\">\n          {error}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PermissionsManager;\n\n\n\n\n\n\n\n\n\n\n\n\n\n","import React, { useState, useEffect } from 'react';\nimport { useAuth } from '../../contexts/AuthContext';\nimport PermissionsManager from './PermissionsManager';\n\nexport default function Settings() {\n  const { user } = useAuth();\n  const [activeTab, setActiveTab] = useState('roles');\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold text-gray-900\">Settings</h1>\n      </div>\n\n      {/* Tab Navigation */}\n      <div className=\"border-b border-gray-200\">\n        <nav className=\"-mb-px flex space-x-8\">\n          <button\n            onClick={() => setActiveTab('roles')}\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\n              activeTab === 'roles'\n                ? 'border-blue-500 text-blue-600'\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\n            }`}\n          >\n            Roles & Permissions\n          </button>\n        </nav>\n      </div>\n\n      {/* Roles & Permissions Tab */}\n      {activeTab === 'roles' && <PermissionsManager />}\n    </div>\n  );\n} ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name BarChart3\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyAzdjE4aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOCAxN1Y5IiAvPgogIDxwYXRoIGQ9Ik0xMyAxN1Y1IiAvPgogIDxwYXRoIGQ9Ik04IDE3di0zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/bar-chart-3\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst BarChart3 = createLucideIcon('BarChart3', [\n  ['path', { d: 'M3 3v18h18', key: '1s2lah' }],\n  ['path', { d: 'M18 17V9', key: '2bz60n' }],\n  ['path', { d: 'M13 17V5', key: '1frdt8' }],\n  ['path', { d: 'M8 17v-3', key: '17ska0' }],\n]);\n\nexport default BarChart3;\n"],"names":["FileText","createLucideIcon","d","key","points","x1","x2","y1","y2","Plus","PermissionsManager","roles","setRoles","useState","selectedRole","setSelectedRole","loading","setLoading","error","setError","expandedModules","setExpandedModules","Set","roleFormData","setRoleFormData","name","description","permissions","isAddingRole","setIsAddingRole","editingRole","setEditingRole","permissionModules","setPermissionModules","useEffect","fetchRoles","fetchPermissions","handleFocus","console","log","window","addEventListener","removeEventListener","async","response","fetch","ok","Error","data","json","forEach","role","type","value","isArray","Array","length","freshSelectedRole","find","r","id","err","message","modules","icon","Settings","filter","p","category","BarChart3","includes","Users","toLowerCase","Calendar","MessageSquare","Megaphone","Bell","tasksModule","m","map","getPermissionValue","permissionName","JSON","parse","undefined","result","warn","e","hasPermission","stringify","join","rolesCount","permissionModulesCount","permissionsType","permissionsValue","permissionsCount","roleName","permissionsRaw","permissionsParsed","_jsxs","className","children","_jsx","onClick","handleAddRole","size","stopPropagation","handleEditRole","Edit","confirm","roleId","method","alert","handleDeleteRole","Trash2","placeholder","onChange","target","url","headers","body","updatedRole","disabled","CheckCircle","module","isExpanded","has","IconComponent","moduleId","newExpanded","delete","add","toggleModuleExpansion","ChevronDown","ChevronRight","permission","checked","handlePermissionChange","push","user","useAuth","activeTab","setActiveTab","PenSquare"],"sourceRoot":""}