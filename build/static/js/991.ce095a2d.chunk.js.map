{"version":3,"file":"static/js/991.ce095a2d.chunk.js","mappings":"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,cAAe,IACfC,aAAc,IACdC,UAAW,IACXC,eAAgB,IAChBC,iBAAkB,IAClBC,eAAgB,IAChBC,MAAO,IACPC,WAAY,IACZC,WAAY,IACZC,MAAO,GACPC,QAAS,IAEf,KAEKO,EAAaC,IAAkB5N,EAAAA,EAAAA,UAAS,KAC7C,IACE,MAAMoL,EAAQC,aAAaC,QAAQ,oBAAuB,OAAJ1L,QAAI,IAAJA,OAAI,EAAJA,EAAMX,KAAM,aAC5D4O,EAAe,CACnB,WACA,OACA,QACA,aACA,aACA,cACA,WACA,aACA,SACA,iBACA,wBACA,gBACA,QACA,OACA,SACA,SACA,QACA,iBACA,UACA,KACA,gBACA,UACA,aACA,WACA,mBACA,cACA,cACA,cACA,YACA,WACA,UACA,SACA,WACA,aACA,eACA,QACA,SACA,eACA,gBACA,eACA,YACA,iBACA,mBACA,aACA,cAGF,GAAIzC,EAAO,CACT,MAAMiC,EAASC,KAAKC,MAAMnC,GAEpB0C,EAAiBD,EAAaE,OAAOC,IAAQX,EAAOY,SAASD,IACnE,MAAO,IAAIX,KAAWS,EACxB,CAEA,OAAOD,CACT,CAAE,MAAOxM,GACP,MAAO,CACL,WACA,OACA,QACA,aACA,aACA,cACA,WACA,aACA,SACA,iBACA,wBACA,gBACA,QACA,OACA,SACA,SACA,QACA,iBACA,UACA,KACA,gBACA,UACA,aACA,WACA,mBACA,cACA,cACA,cACA,YACA,WACA,UACA,SACA,WACA,aACA,eACA,QACA,SACA,eACA,gBACA,eACA,YACA,iBACA,mBACA,aACA,aAEJ,KAIFd,EAAAA,EAAAA,WAAU,KACJuE,IACFoJ,GAAc,CACZxI,aAAcZ,EACdoB,iBAAiB,KAEnBiI,EAAAA,EAAAA,iBAAgB,KACdC,GAAgBtJ,EAAgB7F,MAE9B8F,GAA0BA,MAE/B,CAACD,EAAiBC,KAGrBxE,EAAAA,EAAAA,WAAU,KACA,OAAJX,QAAI,IAAJA,GAAAA,EAAMX,KACRoM,aAAagD,QAAQ,eAAezO,EAAKX,KAAMqO,KAAKgB,UAAUpD,IAC9DG,aAAagD,QAAQ,oBAAoBzO,EAAKX,KAAMqO,K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","sources":["../node_modules/lucide-react/src/icons/plus.ts","components/ui/Input.js","../node_modules/lucide-react/src/icons/pen-square.ts","../node_modules/lucide-react/src/icons/more-vertical.ts","components/ui/ActionMenu.js","../node_modules/lucide-react/src/icons/upload.ts","../node_modules/lucide-react/src/icons/play.ts","utils/performanceMonitor.js","components/views/Tasks.js"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Plus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNNSAxMmgxNCIgLz4KICA8cGF0aCBkPSJNMTIgNXYxNCIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Plus = createLucideIcon('Plus', [\n  ['path', { d: 'M5 12h14', key: '1ays0h' }],\n  ['path', { d: 'M12 5v14', key: 's699le' }],\n]);\n\nexport default Plus;\n","import React from 'react';\n\nconst Input = ({ \n  label, \n  name, \n  type = 'text', \n  placeholder = '', \n  required = false, \n  disabled = false,\n  defaultValue = '',\n  className = '',\n  onChange,\n  error,\n  ...props \n}) => {\n  return (\n    <div className={className}>\n      {label && (\n        <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <input\n        id={name}\n        name={name}\n        type={type}\n        placeholder={placeholder}\n        required={required}\n        disabled={disabled}\n        onChange={onChange}\n        className={`\n          w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\n          focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\n          disabled:bg-gray-50 disabled:text-gray-500\n          ${error ? 'border-red-500 focus:ring-red-500 focus:border-red-500' : ''}\n        `}\n        {...props}\n      />\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Input; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name PenSquare\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTEgNEg0YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgxNGEyIDIgMCAwIDAgMi0ydi03IiAvPgogIDxwYXRoIGQ9Ik0xOC41IDIuNWEyLjEyIDIuMTIgMCAwIDEgMyAzTDEyIDE1bC00IDEgMS00WiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen-square\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PenSquare = createLucideIcon('PenSquare', [\n  [\n    'path',\n    {\n      d: 'M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7',\n      key: '1qinfi',\n    },\n  ],\n  [\n    'path',\n    { d: 'M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z', key: 'w2jsv5' },\n  ],\n]);\n\nexport default PenSquare;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MoreVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/more-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MoreVertical = createLucideIcon('MoreVertical', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '12', cy: '5', r: '1', key: 'gxeob9' }],\n  ['circle', { cx: '12', cy: '19', r: '1', key: 'lyex9k' }],\n]);\n\nexport default MoreVertical;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { MoreVertical, Eye, Edit, Trash2 } from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst ActionMenu = ({ onSelect, onEdit, onDelete, isErrorMenu = false, itemType = 'item' }) => {\n  const { user } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null);\n\n  const handleToggle = (e) => {\n    e.stopPropagation();\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({ \n        top: rect.bottom + 2, \n        left: rect.right - 160 \n      });\n    }\n    setIsOpen(prev => !prev);\n  };\n\n  useEffect(() => {\n    const close = () => setIsOpen(false);\n    if (isOpen) {\n      window.addEventListener('click', close);\n      window.addEventListener('scroll', close, true);\n    }\n    return () => {\n      window.removeEventListener('click', close);\n      window.removeEventListener('scroll', close, true);\n    };\n  }, [isOpen]);\n\n  // All actions are accessible (no permission restrictions)\n  const canView = true;\n  const canEdit = true;\n  const canDelete = true;\n\n  // All permissions are granted (no restrictions)\n  const getSpecificPermissions = () => {\n    return {\n      canView: true,\n      canEdit: true,\n      canDelete: true\n    };\n  };\n\n  const specificPermissions = getSpecificPermissions();\n\n  // Debug the final permission check\n  console.log(' Final Permission Check:', specificPermissions);\n  console.log(' Can View:', specificPermissions.canView);\n  console.log(' Can Edit:', specificPermissions.canEdit);\n  console.log(' Can Delete:', specificPermissions.canDelete);\n\n  // Always show the menu (no permission restrictions)\n\n  return (\n    <>\n      <button \n        ref={buttonRef} \n        onClick={handleToggle} \n        className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n        title=\"Actions\"\n      >\n        <MoreVertical size={16} />\n      </button>\n      \n      {isOpen && (\n        <div \n          style={{ \n            position: 'fixed', \n            top: `${position.top}px`, \n            left: `${position.left}px` \n          }} \n          className=\"w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50\" \n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"py-1\" role=\"menu\" aria-orientation=\"vertical\">\n            {/* View Action */}\n            {!isErrorMenu && specificPermissions.canView && onSelect && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onSelect(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Eye size={14} className=\"mr-3 flex-shrink-0\"/> \n                View\n              </button>\n            )}\n            \n            {/* Edit Action */}\n            {specificPermissions.canEdit && onEdit && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onEdit(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Edit size={14} className=\"mr-3 flex-shrink-0\"/> \n                Edit\n              </button>\n            )}\n            \n            {/* Delete Action */}\n            {specificPermissions.canDelete && onDelete && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onDelete(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Trash2 size={14} className=\"mr-3 flex-shrink-0\"/> \n                Delete\n              </button>\n            )}\n            \n            {/* Show message if no actions available */}\n            {!specificPermissions.canView && !specificPermissions.canEdit && !specificPermissions.canDelete && (\n              <div className=\"px-4 py-2 text-sm text-gray-500 italic\">\n                No actions available\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ActionMenu;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Upload\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgMTV2NGEyIDIgMCAwIDEtMiAySDVhMiAyIDAgMCAxLTItMnYtNCIgLz4KICA8cG9seWxpbmUgcG9pbnRzPSIxNyA4IDEyIDMgNyA4IiAvPgogIDxsaW5lIHgxPSIxMiIgeDI9IjEyIiB5MT0iMyIgeTI9IjE1IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/upload\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Upload = createLucideIcon('Upload', [\n  ['path', { d: 'M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4', key: 'ih7n3h' }],\n  ['polyline', { points: '17 8 12 3 7 8', key: 't8dd8p' }],\n  ['line', { x1: '12', x2: '12', y1: '3', y2: '15', key: 'widbto' }],\n]);\n\nexport default Upload;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Play\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cG9seWdvbiBwb2ludHM9IjUgMyAxOSAxMiA1IDIxIDUgMyIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/play\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Play = createLucideIcon('Play', [\n  ['polygon', { points: '5 3 19 12 5 21 5 3', key: '191637' }],\n]);\n\nexport default Play;\n","// Performance monitoring utility for EMS application\r\nclass PerformanceMonitor {\r\n  constructor() {\r\n    this.metrics = {};\r\n    this.isEnabled = process.env.NODE_ENV === 'development';\r\n  }\r\n\r\n  // Start timing a performance metric\r\n  startTiming(label) {\r\n    if (!this.isEnabled) return;\r\n    this.metrics[label] = {\r\n      startTime: performance.now(),\r\n      endTime: null,\r\n      duration: null\r\n    };\r\n  }\r\n\r\n  // End timing and calculate duration\r\n  endTiming(label) {\r\n    if (!this.isEnabled || !this.metrics[label]) return;\r\n    \r\n    const metric = this.metrics[label];\r\n    metric.endTime = performance.now();\r\n    metric.duration = metric.endTime - metric.startTime;\r\n    \r\n    // Log slow operations\r\n    if (metric.duration > 1000) {\r\n      console.warn(` Slow operation detected: ${label} took ${metric.duration.toFixed(2)}ms`);\r\n    } else if (metric.duration > 500) {\r\n      console.info(`  Moderate operation: ${label} took ${metric.duration.toFixed(2)}ms`);\r\n    } else {\r\n      console.log(` Fast operation: ${label} took ${metric.duration.toFixed(2)}ms`);\r\n    }\r\n    \r\n    return metric.duration;\r\n  }\r\n\r\n  // Measure API call performance\r\n  measureApiCall(url, fetchPromise) {\r\n    if (!this.isEnabled) return fetchPromise;\r\n    \r\n    const label = `API: ${url}`;\r\n    this.startTiming(label);\r\n    \r\n    return fetchPromise\r\n      .then(response => {\r\n        this.endTiming(label);\r\n        return response;\r\n      })\r\n      .catch(error => {\r\n        this.endTiming(label);\r\n        throw error;\r\n      });\r\n  }\r\n\r\n  // Get performance report\r\n  getReport() {\r\n    if (!this.isEnabled) return {};\r\n    \r\n    const report = {};\r\n    Object.keys(this.metrics).forEach(label => {\r\n      const metric = this.metrics[label];\r\n      if (metric.duration !== null) {\r\n        report[label] = {\r\n          duration: metric.duration,\r\n          startTime: metric.startTime,\r\n          endTime: metric.endTime\r\n        };\r\n      }\r\n    });\r\n    \r\n    return report;\r\n  }\r\n\r\n  // Clear metrics\r\n  clear() {\r\n    this.metrics = {};\r\n  }\r\n}\r\n\r\n// Create singleton instance\r\nconst performanceMonitor = new PerformanceMonitor();\r\n\r\n// Helper functions for common operations\r\nexport const measureTaskLoading = (fetchPromise) => {\r\n  return performanceMonitor.measureApiCall('Task Loading', fetchPromise);\r\n};\r\n\r\nexport const measureTimerOperation = (operation, fetchPromise) => {\r\n  return performanceMonitor.measureApiCall(`Timer ${operation}`, fetchPromise);\r\n};\r\n\r\nexport const measureTaskDetails = (taskId, fetchPromise) => {\r\n  return performanceMonitor.measureApiCall(`Task Details ${taskId}`, fetchPromise);\r\n};\r\n\r\nexport default performanceMonitor;\r\n\r\n","import React, { useState, useEffect, useMemo, useCallback, memo, startTransition, useRef } from 'react';\nimport { Plus, Edit, Trash2, Upload, Download, Search, Filter, Clock, CheckCircle, AlertTriangle, Briefcase, X, Play, Square, ChevronDown, Settings } from 'lucide-react';\nimport Modal from '../ui/Modal';\nimport Button from '../ui/Button';\nimport Input from '../ui/Input';\nimport MultiSelect from '../ui/MultiSelect';\nimport ActionMenu from '../ui/ActionMenu';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useTaskConfig } from '../../contexts/TaskConfigContext';\nimport performanceMonitor, { measureTaskLoading, measureTimerOperation, measureTaskDetails } from '../../utils/performanceMonitor';\n\nconst Tasks = memo(function Tasks({ initialOpenTask, onConsumeInitialOpenTask }) {\n  const { user } = useAuth();\n  \n  // Debug: Log component initialization\n  console.log(' Tasks component initialized');\n  \n  // Consolidated data state\n  const [dataState, setDataState] = useState({\n    tasks: [],\n    departments: [],\n    employees: [],\n    labels: [],\n    loading: true,\n    error: null\n  });\n\n  // Consolidated UI state\n  const [uiState, setUiState] = useState({\n    searchTerm: '',\n    selectedTask: null,\n    selectedTasks: new Set(),\n    taskDetailTab: 'files',\n    showModal: false,\n    showImportModal: false,\n    showFilterModal: false,\n    showColumnModal: false,\n    showDetailModal: false,\n    showBulkStatusModal: false,\n    showTaskCalculationModal: false,\n    showStopTimerModal: false,\n    showDeleteHistoryModal: false,\n    showDeleteAllHistoryModal: false,\n    showChecklistWarningModal: false,\n    showExportModal: false,\n    showUpdateModal: false,\n    totalTasks: 0,\n    currentPage: 1,\n    hasMoreTasks: true,\n    loadingMore: false\n  });\n\n  // Consolidated task detail state\n  const [taskDetailState, setTaskDetailState] = useState({\n    files: [],\n    subtasks: [],\n    comments: [],\n    timesheet: [],\n    timesheetTotal: 0,\n    notes: '',\n    history: [],\n    newComment: '',\n    newSubtask: '',\n    uploadedFile: null,\n    editingSubtaskId: null,\n    editingSubtaskTitle: '',\n    editingCommentId: null,\n    editingCommentText: ''\n  });\n\n  // Memoized timesheet total calculation for efficiency\n  const taskTimesheetTotal = useMemo(() => {\n    return taskDetailState.timesheet.reduce((total, entry) => {\n      return total + (entry.hours_logged_seconds || 0);\n    }, 0);\n  }, [taskDetailState.timesheet]);\n\n\n  // Consolidated form state\n  const [formState, setFormState] = useState({\n    editingTask: null,\n    importLoading: false,\n    selectedFile: null,\n    importResult: null,\n    bulkStatus: '',\n    newValues: {\n      impact: '',\n      priority: '',\n      complexity: '',\n      effort: '',\n      labels: ''\n    },\n    newScores: {\n      impact: 50,\n      priority: 50,\n      complexity: 50,\n      effort: 50,\n      labels: 50\n    },\n    editingItem: null,\n    editingScore: 0\n  });\n\n  // Consolidated filter state\n  const [filterState, setFilterState] = useState({\n    status: '',\n    priority: '',\n    complexity: '',\n    impact: '',\n    effortEstimateLabel: '',\n    unit: '',\n    target: '',\n    department: '',\n    assignedTo: [],\n    labels: [],\n    responsible: [],\n    accountable: [],\n    consulted: [],\n    informed: [],\n    trained: []\n  });\n\n  // Consolidated timer state\n  const [timerState, setTimerState] = useState({\n    activeTimers: {},\n    intervals: {},\n    tick: 0, // Add tick counter to force re-renders\n    stopTimerTaskId: null,\n    stopTimerMemo: '',\n    stopTimerStartTime: '',\n    stopTimerEndTime: '',\n    stopTimerTotalTime: ''\n  });\n\n  // Consolidated modal state\n  const [modalState, setModalState] = useState({\n    historyToDelete: null,\n    checklistWarningTask: null,\n    checklistCompletion: {}\n  });\n\n  // Checklist completion state (renamed to avoid conflict)\n  const [taskChecklistCompletion, setTaskChecklistCompletion] = useState({});\n\n  // Column customization state (kept separate for localStorage functionality)\n  const [visibleColumns, setVisibleColumns] = useState(() => {\n    try {\n      const saved = localStorage.getItem(`taskColumns_${user?.id || 'default'}`);\n      const defaultColumns = {\n        checkbox: true,\n        id: false,\n        title: true,\n        task: true, // Backward compatibility\n        department: true,\n        task_category: false,\n        project: false,\n        start_date: false,\n        due_date: true,\n        without_due_date: false,\n        assigned_to: true,\n        assignedTo: true, // Backward compatibility\n        status: true,\n        description: false,\n        responsible: false,\n        accountable: false,\n        consulted: false,\n        informed: false,\n        trained: false,\n        labels: true,\n        label_id: false,\n        milestones: false,\n        priority: true,\n        complexity: true,\n        impact: true,\n        unit: true,\n        target: true,\n        effort_estimate_label: true,\n        effortEstimate: true, // Backward compatibility\n        time_estimate: true,\n        make_private: false,\n        share: false,\n        repeat: false,\n        is_dependent: false,\n        validation_by: false,\n        effort_label: false,\n        checklist: false,\n        workflow_guide: false,\n        timer_started_at: false,\n        logged_seconds: true,\n        timer: true, // Backward compatibility\n        created_at: false,\n        updated_at: false,\n        score: true,\n        actions: true\n      };\n      \n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // Ensure all columns exist in the saved data\n        return { ...defaultColumns, ...parsed };\n      }\n      return defaultColumns;\n    } catch (e) {\n      return {\n        checkbox: true,\n        id: false,\n        title: true,\n        department: true,\n        task_category: false,\n        project: false,\n        start_date: false,\n        due_date: true,\n        without_due_date: false,\n        assigned_to: true,\n        status: true,\n        description: false,\n        responsible: false,\n        accountable: false,\n        consulted: false,\n        informed: false,\n        trained: false,\n        labels: true,\n        label_id: false,\n        milestones: false,\n        priority: true,\n        complexity: true,\n        impact: true,\n        unit: true,\n        target: true,\n        effort_estimate_label: true,\n        time_estimate: true,\n        make_private: false,\n        share: false,\n        repeat: false,\n        is_dependent: false,\n        validation_by: false,\n        effort_label: false,\n        checklist: false,\n        workflow_guide: false,\n        timer_started_at: false,\n        logged_seconds: true,\n        created_at: false,\n        updated_at: false,\n        score: true,\n        actions: true\n      };\n    }\n  });\n  const [columnWidths, setColumnWidths] = useState(() => {\n    try {\n      const saved = localStorage.getItem(`taskColumnWidths_${user?.id || 'default'}`);\n      const defaultWidths = {\n        checkbox: 60,\n        id: 80,\n        title: 300,\n        task: 300, // Backward compatibility\n        department: 120,\n        task_category: 120,\n        project: 120,\n        start_date: 100,\n        due_date: 100,\n        without_due_date: 100,\n        assigned_to: 150,\n        assignedTo: 150, // Backward compatibility\n        status: 100,\n        description: 200,\n        responsible: 120,\n        accountable: 120,\n        consulted: 120,\n        informed: 120,\n        trained: 120,\n        labels: 120,\n        label_id: 80,\n        milestones: 120,\n        priority: 100,\n        complexity: 100,\n        impact: 100,\n        unit: 80,\n        target: 80,\n        effort_estimate_label: 120,\n        effortEstimate: 120, // Backward compatibility\n        time_estimate: 120,\n        make_private: 100,\n        share: 80,\n        repeat: 80,\n        is_dependent: 100,\n        validation_by: 120,\n        effort_label: 120,\n        checklist: 150,\n        workflow_guide: 150,\n        timer_started_at: 120,\n        logged_seconds: 100,\n        timer: 120, // Backward compatibility\n        created_at: 120,\n        updated_at: 120,\n        score: 80,\n        actions: 100\n      };\n      \n      if (saved) {\n        const parsed = JSON.parse(saved);\n        return { ...defaultWidths, ...parsed };\n      }\n      return defaultWidths;\n    } catch (e) {\n              return {\n          checkbox: 60,\n          id: 80,\n          title: 300,\n          task: 300, // Backward compatibility\n          department: 120,\n          task_category: 120,\n          project: 120,\n          start_date: 100,\n          due_date: 100,\n          without_due_date: 100,\n          assigned_to: 150,\n          assignedTo: 150, // Backward compatibility\n          status: 100,\n          description: 200,\n          responsible: 120,\n          accountable: 120,\n          consulted: 120,\n          informed: 120,\n          trained: 120,\n          labels: 120,\n          label_id: 80,\n          milestones: 120,\n          priority: 100,\n          complexity: 100,\n          impact: 100,\n          unit: 80,\n          target: 80,\n          effort_estimate_label: 120,\n          effortEstimate: 120, // Backward compatibility\n          time_estimate: 120,\n          make_private: 100,\n          share: 80,\n          repeat: 80,\n          is_dependent: 100,\n          validation_by: 120,\n          effort_label: 120,\n          checklist: 150,\n          workflow_guide: 150,\n          timer_started_at: 120,\n          logged_seconds: 100,\n          timer: 120, // Backward compatibility\n          created_at: 120,\n          updated_at: 120,\n          score: 80,\n          actions: 100\n        };\n    }\n  });\n  const [columnOrder, setColumnOrder] = useState(() => {\n    try {\n      const saved = localStorage.getItem(`taskColumnOrder_${user?.id || 'default'}`);\n      const defaultOrder = [\n        'checkbox',\n        'task', // Backward compatibility\n        'title',\n        'department',\n        'assignedTo', // Backward compatibility  \n        'assigned_to',\n        'priority',\n        'complexity',\n        'impact',\n        'effortEstimate', // Backward compatibility\n        'effort_estimate_label',\n        'time_estimate',\n        'score',\n        'unit',\n        'target',\n        'status',\n        'timer', // Backward compatibility\n        'logged_seconds',\n        'actions',\n        'id',\n        'task_category',\n        'project',\n        'start_date',\n        'due_date',\n        'without_due_date',\n        'description',\n        'responsible',\n        'accountable',\n        'consulted',\n        'informed',\n        'trained',\n        'labels',\n        'label_id',\n        'milestones',\n        'make_private',\n        'share',\n        'repeat',\n        'is_dependent',\n        'validation_by',\n        'effort_label',\n        'checklist',\n        'workflow_guide',\n        'timer_started_at',\n        'created_at',\n        'updated_at'\n      ];\n      \n      if (saved) {\n        const parsed = JSON.parse(saved);\n        // Ensure all new columns are included in saved order\n        const missingColumns = defaultOrder.filter(col => !parsed.includes(col));\n        return [...parsed, ...missingColumns];\n      }\n      \n      return defaultOrder;\n    } catch (e) {\n      return [\n        'checkbox',\n        'task', // Backward compatibility\n        'title',\n        'department',\n        'assignedTo', // Backward compatibility  \n        'assigned_to',\n        'priority',\n        'complexity',\n        'impact',\n        'effortEstimate', // Backward compatibility\n        'effort_estimate_label',\n        'time_estimate',\n        'score',\n        'unit',\n        'target',\n        'status',\n        'timer', // Backward compatibility\n        'logged_seconds',\n        'actions',\n        'id',\n        'task_category',\n        'project',\n        'start_date',\n        'due_date',\n        'without_due_date',\n        'description',\n        'responsible',\n        'accountable',\n        'consulted',\n        'informed',\n        'trained',\n        'labels',\n        'label_id',\n        'milestones',\n        'make_private',\n        'share',\n        'repeat',\n        'is_dependent',\n        'validation_by',\n        'effort_label',\n        'checklist',\n        'workflow_guide',\n        'timer_started_at',\n        'created_at',\n        'updated_at'\n      ];\n    }\n  });\n  \n  // Open detail modal if App provided a task to open\n  useEffect(() => {\n    if (initialOpenTask) {\n      updateUiState({ \n        selectedTask: initialOpenTask,\n        showDetailModal: true \n      });\n      startTransition(() => {\n        loadTaskDetails(initialOpenTask.id);\n      });\n      if (onConsumeInitialOpenTask) onConsumeInitialOpenTask();\n    }\n  }, [initialOpenTask, onConsumeInitialOpenTask]);\n\n  // Save column preferences to localStorage\n  useEffect(() => {\n    if (user?.id) {\n      localStorage.setItem(`taskColumns_${user.id}`, JSON.stringify(visibleColumns));\n      localStorage.setItem(`taskColumnWidths_${user.id}`, JSON.stringify(columnWidths));\n      localStorage.setItem(`taskColumnOrder_${user.id}`, JSON.stringify(columnOrder));\n    }\n  }, [visibleColumns, columnWidths, columnOrder, user?.id]);\n\n  // Column customization helper functions\n  const toggleColumn = (columnKey) => {\n    setVisibleColumns(prev => ({\n      ...prev,\n      [columnKey]: !prev[columnKey]\n    }));\n  };\n\n\n\n  const updateColumnWidth = (columnKey, width) => {\n    setColumnWidths(prev => ({\n      ...prev,\n      [columnKey]: Math.max(60, Math.min(500, width)) // Min 60px, Max 500px\n    }));\n  };\n\n  const moveColumnUp = (columnKey) => {\n    setColumnOrder(prev => {\n      const newOrder = [...prev];\n      const currentIndex = newOrder.indexOf(columnKey);\n      if (currentIndex > 0) {\n        [newOrder[currentIndex], newOrder[currentIndex - 1]] = [newOrder[currentIndex - 1], newOrder[currentIndex]];\n      }\n      return newOrder;\n    });\n  };\n\n  const moveColumnDown = (columnKey) => {\n    setColumnOrder(prev => {\n      const newOrder = [...prev];\n      const currentIndex = newOrder.indexOf(columnKey);\n      if (currentIndex < newOrder.length - 1) {\n        [newOrder[currentIndex], newOrder[currentIndex + 1]] = [newOrder[currentIndex + 1], newOrder[currentIndex]];\n      }\n      return newOrder;\n    });\n  };\n\n  const resetToDefault = () => {\n    const defaultColumns = {\n      checkbox: true,\n      id: false,\n      title: true,\n      task: true, // Backward compatibility\n      department: true,\n      task_category: false,\n      project: false,\n      start_date: false,\n      due_date: true,\n      without_due_date: false,\n      assigned_to: true,\n      assignedTo: true, // Backward compatibility\n      status: true,\n      description: false,\n      responsible: false,\n      accountable: false,\n      consulted: false,\n      informed: false,\n      trained: false,\n      labels: false,\n      label_id: false,\n      milestones: false,\n      priority: true,\n      complexity: true,\n      impact: true,\n      unit: true,\n      target: true,\n      effort_estimate_label: true,\n      effortEstimate: true, // Backward compatibility\n      time_estimate: true,\n      make_private: false,\n      share: false,\n      repeat: false,\n      is_dependent: false,\n      validation_by: false,\n      effort_label: false,\n      checklist: false,\n      workflow_guide: false,\n      timer_started_at: false,\n      logged_seconds: true,\n      timer: true, // Backward compatibility\n      created_at: false,\n      updated_at: false,\n      score: true,\n      actions: true\n    };\n    \n    const defaultWidths = {\n      checkbox: 60,\n      id: 80,\n      title: 300,\n      department: 120,\n      task_category: 120,\n      project: 120,\n      start_date: 100,\n      due_date: 100,\n      without_due_date: 100,\n      assigned_to: 150,\n      status: 100,\n      description: 200,\n      responsible: 120,\n      accountable: 120,\n      consulted: 120,\n      informed: 120,\n      trained: 120,\n      labels: 120,\n      label_id: 80,\n      milestones: 120,\n      priority: 100,\n      complexity: 100,\n      impact: 100,\n      unit: 80,\n      target: 80,\n      effort_estimate_label: 120,\n      time_estimate: 120,\n      make_private: 100,\n      share: 80,\n      repeat: 80,\n      is_dependent: 100,\n      validation_by: 120,\n      effort_label: 120,\n      checklist: 150,\n      workflow_guide: 150,\n      timer_started_at: 120,\n      logged_seconds: 100,\n      created_at: 120,\n      updated_at: 120,\n      score: 80,\n      actions: 100\n    };\n    \n    const defaultOrder = [\n      'checkbox',\n      'task', // Backward compatibility\n      'title',\n      'department',\n      'assignedTo', // Backward compatibility  \n      'assigned_to',\n      'priority',\n      'complexity',\n      'impact',\n      'effortEstimate', // Backward compatibility\n      'effort_estimate_label',\n      'score',\n      'unit',\n      'target',\n      'status',\n      'timer', // Backward compatibility\n      'logged_seconds',\n      'actions',\n      'id',\n      'task_category',\n      'project',\n      'start_date',\n      'due_date',\n      'without_due_date',\n      'description',\n      'responsible',\n      'accountable',\n      'consulted',\n      'informed',\n      'trained',\n      'labels',\n      'label_id',\n      'milestones',\n      'make_private',\n      'share',\n      'repeat',\n      'is_dependent',\n      'validation_by',\n      'effort_label',\n      'checklist',\n      'workflow_guide',\n      'timer_started_at',\n      'created_at',\n      'updated_at'\n    ];\n    \n    setVisibleColumns(defaultColumns);\n    setColumnWidths(defaultWidths);\n    setColumnOrder(defaultOrder);\n    \n    // Clear localStorage to force fresh start\n    if (user?.id) {\n      localStorage.removeItem(`taskColumns_${user.id}`);\n      localStorage.removeItem(`taskColumnWidths_${user.id}`);\n      localStorage.removeItem(`taskColumnOrder_${user.id}`);\n    }\n  };\n\n  const getColumnDisplayName = (columnKey) => {\n    const displayNames = {\n      checkbox: 'Select',\n      task: 'Task',\n      assignedTo: 'Assigned To',\n      priority: 'Priority',\n      complexity: 'Complexity',\n      impact: 'Impact',\n      effortEstimate: 'Effort Estimate',\n      score: 'Score',\n      unit: 'Unit',\n      target: 'Target',\n      status: 'Status',\n      timer: 'Timer / Time',\n      actions: 'Actions'\n    };\n    return displayNames[columnKey] || columnKey;\n  };\n\n  // Get all available columns for the modal\n  const getAllColumns = () => {\n    return [\n      { key: 'checkbox', name: 'Select' },\n      { key: 'id', name: 'ID' },\n      { key: 'title', name: 'Title' },\n      { key: 'task', name: 'Task' }, // Backward compatibility\n      { key: 'department', name: 'Department' },\n      { key: 'task_category', name: 'Task Category' },\n      { key: 'project', name: 'Project' },\n      { key: 'start_date', name: 'Start Date' },\n      { key: 'due_date', name: 'Due Date' },\n      { key: 'without_due_date', name: 'Without Due Date' },\n      { key: 'assigned_to', name: 'Assigned To' },\n      { key: 'assignedTo', name: 'Assigned To' }, // Backward compatibility\n      { key: 'status', name: 'Status' },\n      { key: 'description', name: 'Description' },\n      { key: 'responsible', name: 'Responsible' },\n      { key: 'accountable', name: 'Accountable' },\n      { key: 'consulted', name: 'Consulted' },\n      { key: 'informed', name: 'Informed' },\n      { key: 'trained', name: 'Trained' },\n      { key: 'labels', name: 'Labels' },\n      { key: 'label_id', name: 'Label ID' },\n      { key: 'milestones', name: 'Milestones' },\n      { key: 'priority', name: 'Priority' },\n      { key: 'complexity', name: 'Complexity' },\n      { key: 'impact', name: 'Impact' },\n      { key: 'unit', name: 'Unit' },\n      { key: 'target', name: 'Target' },\n      { key: 'effort_estimate_label', name: 'Effort Estimate' },\n      { key: 'effortEstimate', name: 'Effort Estimate' }, // Backward compatibility\n      { key: 'time_estimate', name: 'Time Estimate' },\n      { key: 'make_private', name: 'Make Private' },\n      { key: 'share', name: 'Share' },\n      { key: 'repeat', name: 'Repeat' },\n      { key: 'is_dependent', name: 'Is Dependent' },\n      { key: 'validation_by', name: 'Validation By' },\n      { key: 'effort_label', name: 'Effort Label' },\n      { key: 'checklist', name: 'Checklist' },\n      { key: 'workflow_guide', name: 'Workflow Guide' },\n      { key: 'timer_started_at', name: 'Timer Started At' },\n      { key: 'logged_seconds', name: 'Logged Seconds' },\n      { key: 'timer', name: 'Timer / Time' }, // Backward compatibility\n      { key: 'created_at', name: 'Created At' },\n      { key: 'updated_at', name: 'Updated At' },\n      { key: 'score', name: 'Score' },\n      { key: 'actions', name: 'Actions' }\n    ];\n  };\n\n  // Task Calculation states\n  const { scoringWeights, scoringPoints, updateScoringPoints } = useTaskConfig();\n\n  // Helper functions for state updates\n  const updateDataState = useCallback((updates) => {\n    setDataState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateUiState = useCallback((updates) => {\n    setUiState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateTaskDetailState = useCallback((updates) => {\n    setTaskDetailState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateFormState = useCallback((updates) => {\n    setFormState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateFilterState = useCallback((updates) => {\n    setFilterState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateTimerState = useCallback((updates) => {\n    setTimerState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  const updateModalState = useCallback((updates) => {\n    setModalState(prev => ({ ...prev, ...updates }));\n  }, []);\n\n  // Destructured state for easier access\n  const { tasks, departments, employees, labels, loading, error } = dataState;\n  const { searchTerm, selectedTask, selectedTasks, taskDetailTab, showModal, showImportModal, showFilterModal, showColumnModal, showDetailModal, showBulkStatusModal, showTaskCalculationModal, showStopTimerModal, showDeleteHistoryModal, showDeleteAllHistoryModal, showChecklistWarningModal, showExportModal, showUpdateModal, totalTasks, currentPage, hasMoreTasks, loadingMore } = uiState;\n  const { files: taskFiles, subtasks: taskSubtasks, comments: taskComments, timesheet: taskTimesheet, timesheetTotal, notes: taskNotes, history: taskHistory, newComment, newSubtask, uploadedFile, editingSubtaskId, editingSubtaskTitle, editingCommentId, editingCommentText } = taskDetailState;\n  \n  // Reconcile fallback assignees to real employee records when employees load\n  useEffect(() => {\n    if (!employees || employees.length === 0) return;\n    setFormData(prev => {\n      const current = prev.assignedTo || [];\n      if (current.length === 0) return prev;\n      let changed = false;\n      const reconciled = current.map(item => {\n        // If already a proper option with ID from employees (value numeric or label has employee_id), keep\n        const hasEmployeeIdInLabel = typeof item.label === 'string' && item.label.includes('(');\n        const isFallback = typeof item.value === 'string' && item.value.startsWith('fallback-');\n        if (!isFallback && hasEmployeeIdInLabel) return item;\n        // Try to map by name (before \" (\" part if present)\n        const nameOnly = (item.label || '').split(' (')[0];\n        const emp = employees.find(e => (e.name || '').toLowerCase() === nameOnly.toLowerCase());\n        if (emp) {\n          changed = true;\n          return { value: emp.id, label: `${emp.name} (${emp.employee_id || ''})` };\n        }\n        return item;\n      });\n      return changed ? { ...prev, assignedTo: reconciled } : prev;\n    });\n  }, [employees]);\n  \n\n  // Individual setters for backward compatibility and efficiency\n  const setTaskFiles = useCallback((files) => updateTaskDetailState({ files }), [updateTaskDetailState]);\n  const setTaskComments = useCallback((comments) => {\n    if (typeof comments === 'function') {\n      // Handle function updates like setTaskComments(prev => [...prev, newItem])\n      setTaskDetailState(prev => ({\n        ...prev,\n        comments: comments(prev.comments)\n      }));\n    } else {\n      // Handle direct value updates like setTaskComments([...])\n      const validComments = Array.isArray(comments) ? comments : [];\n      updateTaskDetailState({ comments: validComments });\n    }\n  }, [updateTaskDetailState]);\n  const setTaskSubtasks = useCallback((subtasks) => {\n    if (typeof subtasks === 'function') {\n      // Handle function updates like setTaskSubtasks(prev => [...prev, newItem])\n      setTaskDetailState(prev => ({\n        ...prev,\n        subtasks: subtasks(prev.subtasks)\n      }));\n    } else {\n      // Handle direct value updates like setTaskSubtasks([...])\n      const validSubtasks = Array.isArray(subtasks) ? subtasks : [];\n      updateTaskDetailState({ subtasks: validSubtasks });\n    }\n  }, [updateTaskDetailState]);\n  const setTaskTimesheet = useCallback((timesheet) => updateTaskDetailState({ timesheet }), [updateTaskDetailState]);\n  const setTaskNotes = useCallback((notes) => updateTaskDetailState({ notes }), [updateTaskDetailState]);\n  const setTaskHistory = useCallback((history) => updateTaskDetailState({ history }), [updateTaskDetailState]);\n  const setNewComment = useCallback((newComment) => updateTaskDetailState({ newComment }), [updateTaskDetailState]);\n  const setNewSubtask = useCallback((newSubtask) => updateTaskDetailState({ newSubtask }), [updateTaskDetailState]);\n  const setEditingSubtaskId = useCallback((editingSubtaskId) => updateTaskDetailState({ editingSubtaskId }), [updateTaskDetailState]);\n  const setEditingSubtaskTitle = useCallback((editingSubtaskTitle) => updateTaskDetailState({ editingSubtaskTitle }), [updateTaskDetailState]);\n  const setEditingCommentId = useCallback((editingCommentId) => updateTaskDetailState({ editingCommentId }), [updateTaskDetailState]);\n  const setEditingCommentText = useCallback((editingCommentText) => updateTaskDetailState({ editingCommentText }), [updateTaskDetailState]);\n  const { editingTask, importLoading, selectedFile, importResult, bulkStatus, newValues, newScores, editingItem, editingScore } = formState;\n  const { status: filterStatus, priority: filterPriority, complexity: filterComplexity, impact: filterImpact, effortEstimateLabel: filterEffortEstimateLabel, unit: filterUnit, target: filterTarget, department: filterDepartment, assignedTo: filterAssignedTo, labels: filterLabels, responsible: filterResponsible, accountable: filterAccountable, consulted: filterConsulted, informed: filterInformed, trained: filterTrained } = filterState;\n  const { activeTimers, intervals: timerIntervals, tick, stopTimerTaskId, stopTimerMemo, stopTimerStartTime, stopTimerEndTime, stopTimerTotalTime } = timerState;\n  const { historyToDelete, checklistWarningTask } = modalState;\n\n  // All timer and modal states are now consolidated above\n\n  // Form states - matching the exact fields from the images\n  const [formData, setFormData] = useState({\n    title: '',\n    department: '',\n    taskCategory: '',\n    project: '',\n    startDate: '',\n    dueDate: '',\n    withoutDueDate: false,\n    assignedTo: [],\n    status: '',\n    description: '',\n    // RACIT Matrix fields\n    responsible: [],\n    accountable: [],\n    consulted: [],\n    informed: [],\n    trained: [],\n    // Other Details fields\n    labels: '',\n    milestones: '',\n    priority: '',\n    complexity: '',\n    impact: '', // Added\n    unit: '', // Added\n    target: '', // Added\n    effortEstimateLabel: '', // Added\n    makePrivate: false,\n    share: false,\n    repeat: false,\n    isDependent: false,\n    validationBy: '',\n    effortLabel: '',\n    checklist: '',\n    workflowGuide: '',\n    // Time estimate fields\n    timeEstimateHours: 0,\n    timeEstimateMinutes: 0,\n  });\n\n  // Fetch all data from API with optimized pagination and server-side search/filtering\n  const fetchAllData = async (skipLoadingState = false, page = 1, append = false, searchParams = {}) => {\n    try {\n      console.log(' fetchAllData called with:', { skipLoadingState, page, append, searchParams });\n      if (!skipLoadingState) {\n        startTransition(() => {\n          updateDataState({ loading: true });\n        });\n      }\n      \n      // Build tasks URL with user parameters and search/filter parameters\n      let tasksUrl = '/api/tasks';\n      if (user) {\n        // Check if user has view_own_tasks permission\n        const hasViewOwnTasks = user.permissions && user.permissions.includes('view_own_tasks');\n        \n        const params = new URLSearchParams({\n          user_id: user.id,\n          role: user.role,\n          employee_name: user.name || '',\n          // For admin users, load all tasks without pagination\n          ...((user.role === 'admin' || user.role === 'Admin') ? { all: 'true' } : { limit: 100, page: page }),\n          // Add search and filter parameters\n          ...(searchParams.search && { search: searchParams.search }),\n          ...(searchParams.status && { status: searchParams.status }),\n          ...(searchParams.priority && { priority: searchParams.priority }),\n          ...(searchParams.complexity && { complexity: searchParams.complexity }),\n          ...(searchParams.impact && { impact: searchParams.impact }),\n          ...(searchParams.effortEstimateLabel && { effortEstimateLabel: searchParams.effortEstimateLabel }),\n          ...(searchParams.unit && { unit: searchParams.unit }),\n          ...(searchParams.target && { target: searchParams.target }),\n          ...(searchParams.labels && { labels: searchParams.labels }),\n          ...(searchParams.assignedTo && { assignedTo: searchParams.assignedTo }),\n          // Support snake_case for backend compatibility\n          ...(searchParams.assignedTo && { assigned_to: searchParams.assignedTo }),\n          ...(searchParams.department && { department: searchParams.department })\n        });\n        \n        // If user has view_own_tasks permission, ensure employee_name is always provided\n        if (hasViewOwnTasks && !user.name) {\n          console.warn(' User has view_own_tasks permission but no name - this will cause API error');\n        }\n        \n        tasksUrl += `?${params.toString()}`;\n      }\n      \n      console.log(' Final tasks URL:', tasksUrl);\n      \n      // Prepare headers with user permissions for the tasks request\n      const tasksHeaders = {};\n      if (user) {\n        tasksHeaders['user-role'] = user.role || 'employee';\n        tasksHeaders['user-permissions'] = JSON.stringify((user.role === 'admin' || user.role === 'Admin') ? ['all'] : (user.permissions || []));\n        tasksHeaders['user-name'] = user.name || '';\n      }\n      \n      const [tasksResponse, departmentsResponse, employeesResponse, labelsResponse] = await Promise.all([\n        measureTaskLoading(fetch(tasksUrl, { headers: tasksHeaders })),\n        fetch('/api/departments'),\n        fetch('/api/employees?all=true'), // Get all employees for task assignment\n        fetch('/api/labels')\n      ]);\n\n      if (tasksResponse.ok && departmentsResponse.ok && employeesResponse.ok && labelsResponse.ok) {\n        const tasksData = await tasksResponse.json();\n        const departmentsData = await departmentsResponse.json();\n        const employeesData = await employeesResponse.json();\n        const labelsData = await labelsResponse.json();\n\n        // Handle both paginated and non-paginated responses with batched state updates\n        startTransition(() => {\n          const newTasks = Array.isArray(tasksData.data) ? tasksData.data : (Array.isArray(tasksData) ? tasksData : []);\n          \n          updateDataState({ \n            tasks: append ? [...tasks, ...newTasks] : newTasks,\n            departments: Array.isArray(departmentsData.data) ? departmentsData.data : (Array.isArray(departmentsData) ? departmentsData : []),\n            employees: Array.isArray(employeesData.data) ? employeesData.data : (Array.isArray(employeesData) ? employeesData : []),\n            labels: Array.isArray(labelsData) ? labelsData : []\n          });\n          \n          // Update total tasks count for summary cards and pagination state\n          if (tasksData.pagination) {\n            const hasMore = (page * 100) < tasksData.pagination.total;\n            updateUiState({\n              totalTasks: tasksData.pagination.total,\n              currentPage: page,\n              hasMoreTasks: hasMore,\n              loadingMore: false\n            });\n          } else if (user?.role === 'admin' || user?.role === 'Admin') {\n            // Admin users get all tasks, so no more to load\n            updateUiState({\n              totalTasks: newTasks.length,\n              hasMoreTasks: false,\n              loadingMore: false\n            });\n          }\n        });\n      } else {\n        startTransition(() => {\n          updateDataState({ error: 'Failed to fetch data' });\n        });\n      }\n    } catch (error) {\n      console.error('Error fetching data:', error);\n      startTransition(() => {\n        updateDataState({ error: 'Failed to fetch data' });\n      });\n    } finally {\n      if (!skipLoadingState) {\n        startTransition(() => {\n          updateDataState({ loading: false });\n        });\n      }\n    }\n  };\n\n  // Optimized function to refresh only tasks (for timer operations)\n  const refreshTasksOnly = async () => {\n    try {\n      let tasksUrl = '/api/tasks';\n      if (user) {\n        const params = new URLSearchParams({\n          user_id: user.id,\n          role: user.role,\n          employee_name: user.name || '',\n          limit: 100,\n          page: 1\n        });\n        tasksUrl += `?${params.toString()}`;\n      }\n      \n      const tasksHeaders = {};\n      if (user) {\n        tasksHeaders['user-role'] = user.role || 'employee';\n        tasksHeaders['user-permissions'] = JSON.stringify((user.role === 'admin' || user.role === 'Admin') ? ['all'] : (user.permissions || []));\n        tasksHeaders['user-name'] = user.name || '';\n      }\n      \n      const tasksResponse = await measureTaskLoading(fetch(tasksUrl, { headers: tasksHeaders }));\n      if (tasksResponse.ok) {\n        const tasksData = await tasksResponse.json();\n        startTransition(() => {\n          updateDataState({ \n            tasks: Array.isArray(tasksData.data) ? tasksData.data : (Array.isArray(tasksData) ? tasksData : [])\n          });\n        });\n      }\n    } catch (error) {\n      console.error('Error refreshing tasks:', error);\n    }\n  };\n\n  // Load more tasks function for pagination\n  const loadMoreTasks = async () => {\n    if (loadingMore || !hasMoreTasks || user?.role === 'admin' || user?.role === 'Admin') return;\n    \n    updateUiState({ loadingMore: true });\n    const nextPage = currentPage + 1;\n    const searchParams = getSearchFilterParams();\n    await fetchAllData(true, nextPage, true, searchParams);\n  };\n\n  // Debounce timer for search\n  const searchTimeoutRef = useRef(null);\n\n  // Handle search with server-side filtering (with debounce)\n  const handleSearch = useCallback(async (searchValue) => {\n    console.log(' Search triggered with value:', searchValue);\n    updateUiState({ searchTerm: searchValue });\n    \n    // Clear existing timeout\n    if (searchTimeoutRef.current) {\n      clearTimeout(searchTimeoutRef.current);\n    }\n    \n    // Set new timeout for debounced search\n    searchTimeoutRef.current = setTimeout(async () => {\n      updateUiState({ currentPage: 1, hasMoreTasks: true });\n      const searchParams = {\n        search: searchValue,\n        status: filterStatus || '',\n        priority: filterPriority || '',\n        complexity: filterComplexity || '',\n        impact: filterImpact || '',\n        effortEstimateLabel: filterEffortEstimateLabel || '',\n        unit: filterUnit || '',\n        target: filterTarget || '',\n        labels: getLabelsFilterString(),\n        assignedTo: getAssignedToFilterString(),\n        department: filterDepartment || ''\n      };\n      console.log(' Search params:', searchParams);\n      await fetchAllData(true, 1, false, searchParams);\n    }, 500); // 500ms debounce\n  }, [filterStatus, filterPriority, filterComplexity, filterImpact, filterEffortEstimateLabel, filterUnit, filterTarget, filterLabels, filterAssignedTo, filterDepartment]);\n\n  useEffect(() => {\n    if (user) {\n      const searchParams = getSearchFilterParams();\n      fetchAllData(false, 1, false, searchParams);\n      fetchAllTasksForDashboard();\n    }\n  }, [user]);\n\n  // Fetch all tasks for dashboard when filters change\n  useEffect(() => {\n    if (user && allTasks.length > 0) {\n      // allFilteredTasks will be recalculated automatically due to dependency on filter states\n    }\n  }, [searchTerm, filterStatus, filterPriority, filterComplexity, filterImpact, filterEffortEstimateLabel, filterUnit, filterTarget, filterDepartment, filterAssignedTo, filterLabels, filterResponsible, filterAccountable, filterConsulted, filterInformed, filterTrained]);\n\n  // Restore activeTimers state from database when tasks are loaded (optimized)\n  useEffect(() => {\n    if (tasks.length > 0) {\n      const restoredTimers = {};\n      const restoredIntervals = {};\n      \n      // Only create intervals for tasks with active timers\n      (tasks || []).forEach(task => {\n        if (task.timer_started_at) {\n          // Check if interval already exists to avoid duplicates\n          if (!timerIntervals[task.id]) {\n            const interval = setInterval(() => {\n              updateTimerState(prev => ({ ...prev, tick: Date.now() })); // Update tick to force re-render\n            }, 1000);\n            \n            restoredIntervals[task.id] = interval;\n          }\n        }\n      });\n      \n      // Only update state if there are new intervals\n      if (Object.keys(restoredIntervals).length > 0) {\n        updateTimerState(prev => ({ \n          ...prev, \n          intervals: { ...prev.intervals, ...restoredIntervals } \n        }));\n      }\n    }\n  }, [tasks, timerIntervals]);\n\n  // Cleanup intervals on unmount\n  useEffect(() => {\n    return () => {\n      Object.values(timerIntervals).forEach(interval => {\n        clearInterval(interval);\n      });\n    };\n  }, [timerIntervals]);\n\n  // Optimized load task details function with parallel API calls\n  const loadTaskDetails = async (taskId) => {\n    try {\n      // Load task attachments from server\n      try {\n        const attachmentsResponse = await fetch(`/api/tasks/${taskId}/attachments`);\n        if (attachmentsResponse.ok) {\n          const attachmentsData = await attachmentsResponse.json();\n          setTaskFiles(attachmentsData.attachments || []);\n        } else {\n          setTaskFiles([]);\n        }\n      } catch (error) {\n        console.error('Error loading task attachments:', error);\n        setTaskFiles([]);\n      }\n      // Only set default comments if no comments exist yet\n      setTaskComments(prev => {\n        if (Array.isArray(prev) && prev.length > 0) {\n          // Keep existing comments\n          return prev;\n        } else {\n          // Set default comments only if none exist\n          return [\n            { id: 1, user: 'Junaid', comment: 'Started working on this task', timestamp: '2025-08-07 10:30' },\n            { id: 2, user: 'Admin', comment: 'Please review the requirements', timestamp: '2025-08-07 11:00' }\n          ];\n        }\n      });\n      \n      // Only set default subtasks if no subtasks exist yet\n      setTaskSubtasks(prev => {\n        if (Array.isArray(prev) && prev.length > 0) {\n          // Keep existing subtasks\n          return prev;\n        } else {\n          // Set default subtasks only if none exist\n          return [\n            { id: 1, title: 'Research requirements', completed: true },\n            { id: 2, title: 'Create wireframes', completed: false },\n            { id: 3, title: 'Implement frontend', completed: false }\n          ];\n        }\n      });\n      setTaskNotes('Important notes about this task implementation...');\n      \n      // Load timesheet and history data in parallel for better performance\n      const [timesheetResponse, historyResponse] = await Promise.allSettled([\n        measureTaskDetails(taskId, fetch(`/api/tasks/${taskId}/timesheet`)),\n        measureTaskDetails(taskId, fetch(`/api/tasks/${taskId}/history`))\n      ]);\n      \n      // Handle timesheet data\n      if (timesheetResponse.status === 'fulfilled' && timesheetResponse.value.ok) {\n        const timesheetData = await timesheetResponse.value.json();\n        setTaskTimesheet(timesheetData);\n        \n        // Calculate total time (seconds)\n        const totalSeconds = timesheetData.reduce((total, entry) => total + (entry.hours_logged_seconds ?? entry.hours_logged ?? 0), 0);\n        setTaskTimesheetTotal(totalSeconds);\n      } else {\n        console.error('Failed to load task timesheet');\n        setTaskTimesheet([]);\n        setTaskTimesheetTotal(0);\n      }\n      \n      // Handle history data\n      if (historyResponse.status === 'fulfilled' && historyResponse.value.ok) {\n        const historyData = await historyResponse.value.json();\n        setTaskHistory(historyData);\n      } else {\n        console.error('Failed to load task history');\n        setTaskHistory([]);\n      }\n    } catch (error) {\n      console.error('Error loading task details:', error);\n    }\n  };\n\n  // Load task details when selectedTask changes\n  useEffect(() => {\n    if (selectedTask && showDetailModal) {\n      loadTaskDetails(selectedTask.id);\n    }\n  }, [selectedTask, showDetailModal]);\n\n  // State for all tasks (for dashboard calculations)\n  const [allTasks, setAllTasks] = useState([]);\n\n  // Fetch all tasks for dashboard calculations (without pagination)\n  const fetchAllTasksForDashboard = async () => {\n    try {\n      let tasksUrl = '/api/tasks';\n      if (user) {\n        const params = new URLSearchParams({\n          user_id: user.id,\n          role: user.role,\n          employee_name: user.name || '',\n          // Get all tasks by setting a very high limit\n          limit: 10000,\n          page: 1\n        });\n        tasksUrl += `?${params.toString()}`;\n      }\n      \n      const tasksHeaders = {};\n      if (user) {\n        tasksHeaders['user-role'] = user.role || 'employee';\n        tasksHeaders['user-permissions'] = JSON.stringify((user.role === 'admin' || user.role === 'Admin') ? ['all'] : (user.permissions || []));\n        tasksHeaders['user-name'] = user.name || '';\n      }\n      \n      const response = await fetch(tasksUrl, { headers: tasksHeaders });\n      if (response.ok) {\n        const tasksData = await response.json();\n        const allTasksData = Array.isArray(tasksData.data) ? tasksData.data : (Array.isArray(tasksData) ? tasksData : []);\n        setAllTasks(allTasksData);\n      }\n    } catch (error) {\n      console.error('Error fetching all tasks for dashboard:', error);\n    }\n  };\n\n  // Build assignedTo filter string (comma-separated names) from selected employee IDs\n  const getAssignedToFilterString = () => {\n    try {\n      if (!Array.isArray(filterAssignedTo) || filterAssignedTo.length === 0) return '';\n      if (!Array.isArray(employees) || employees.length === 0) return '';\n      const idToName = new Map((employees || []).map(emp => [emp.id, emp.name]));\n      const names = filterAssignedTo\n        .map(item => {\n          const candidateId = typeof item === 'object' ? (item.value ?? item.id) : item;\n          let name = idToName.get(candidateId);\n          if (!name && typeof item === 'object' && typeof item.label === 'string') {\n            name = item.label.split(' (')[0];\n          }\n          return name;\n        })\n        .filter(Boolean);\n      return names.join(',');\n    } catch (e) {\n      return '';\n    }\n  };\n\n  // Build labels filter string (comma-separated label names) from multi-select value\n  const getLabelsFilterString = () => {\n    try {\n      if (!Array.isArray(filterLabels) || filterLabels.length === 0) return '';\n      const names = filterLabels\n        .map(item => {\n          if (typeof item === 'object') {\n            return typeof item.value === 'string' ? item.value : (item.label || '');\n          }\n          return item;\n        })\n        .filter(Boolean);\n      return names.join(',');\n    } catch (e) {\n      return '';\n    }\n  };\n\n  // Get current search and filter parameters for server-side filtering\n  const getSearchFilterParams = () => {\n    return {\n      search: searchTerm || '',\n      status: filterStatus || '',\n      priority: filterPriority || '',\n      complexity: filterComplexity || '',\n      impact: filterImpact || '',\n      effortEstimateLabel: filterEffortEstimateLabel || '',\n      unit: filterUnit || '',\n      target: filterTarget || '',\n      labels: getLabelsFilterString(),\n      assignedTo: getAssignedToFilterString(),\n      department: filterDepartment || ''\n    };\n  };\n\n  // Since we're now using server-side filtering, the displayed tasks are already filtered\n  const getFilteredTasks = () => {\n    return Array.isArray(tasks) ? tasks : [];\n  };\n\n\n  // Since we're using server-side filtering, all tasks are already filtered\n  const getAllFilteredTasks = () => {\n    return Array.isArray(allTasks) ? allTasks : [];\n  };\n\n  const filteredTasks = getFilteredTasks();\n  const allFilteredTasks = getAllFilteredTasks();\n\n  // Computed selectAll state based on filtered tasks\n  const selectAll = useMemo(() => {\n    return filteredTasks.length > 0 && filteredTasks.every(task => selectedTasks.has(task.id));\n  }, [selectedTasks, filteredTasks]);\n\n\n  // Calculate summary statistics based on all filtered tasks\n  const completedTasks = (allFilteredTasks || []).filter(task => task.status === 'Completed').length;\n  const inProgressTasks = (allFilteredTasks || []).filter(task => task.status === 'In Progress').length;\n  const overdueTasks = (allFilteredTasks || []).filter(task => {\n    if (!task.due_date) return false;\n    return new Date(task.due_date) < new Date() && task.status !== 'Completed';\n  }).length;\n\n\n\n  const handleSelectTask = (taskId) => {\n    setUiState(prev => {\n      const newSelectedTasks = new Set(prev.selectedTasks);\n      if (newSelectedTasks.has(taskId)) {\n        newSelectedTasks.delete(taskId);\n      } else {\n        newSelectedTasks.add(taskId);\n      }\n      \n      return {\n        ...prev,\n        selectedTasks: newSelectedTasks\n      };\n    });\n  };\n\n  // Filter functionality\n  const handleApplyFilters = () => {\n    \n    updateUiState({ showFilterModal: false });\n    // Reset pagination when filters are applied and fetch with new filters\n    updateUiState({ currentPage: 1, hasMoreTasks: true });\n    const searchParams = getSearchFilterParams();\n    \n    fetchAllData(true, 1, false, searchParams);\n  };\n\n  const handleClearFilters = () => {\n    updateFilterState({\n      status: '',\n      priority: '',\n      complexity: '',\n      impact: '',\n      effortEstimateLabel: '',\n      unit: '',\n      target: '',\n      department: '',\n      assignedTo: [],\n      labels: [],\n      responsible: [],\n      accountable: [],\n      consulted: [],\n      informed: [],\n      trained: []\n    });\n    // Also clear search term and reset pagination\n    updateUiState({ searchTerm: '' });\n    updateUiState({ currentPage: 1, hasMoreTasks: true });\n    fetchAllData(true, 1, false, {});\n  };\n\n  // Handle task detail view\n  const handleTaskClick = (task) => {\n    try {\n      updateUiState({\n        selectedTask: task,\n        showDetailModal: true\n      });\n\n      // Load task details and history\n      loadTaskDetails(task.id);\n\n      // Load history directly\n      fetch(`/api/tasks/${task.id}/history`)\n        .then(response => response.json())\n        .then(data => setTaskHistory(data))\n        .catch(error => console.error('History API error:', error));\n    } catch (error) {\n      console.error('Error in handleTaskClick:', error);\n    }\n  };\n\n  const closeDetailModal = () => {\n    updateUiState({ \n      selectedTask: null,\n      showDetailModal: false,\n      taskDetailTab: 'files'\n    });\n  };\n\n\n  const handleFileUpload = async (event) => {\n    const file = event.target.files[0];\n    if (!file || !selectedTask) return;\n\n    // Show loading state\n    const uploadButton = event.target.nextElementSibling;\n    if (uploadButton) {\n      uploadButton.disabled = true;\n      uploadButton.textContent = 'Uploading...';\n    }\n\n    try {\n      const formData = new FormData();\n      formData.append('attachments', file);\n      formData.append('uploaded_by', user?.id || 1);\n\n      const response = await fetch(`/api/tasks/${selectedTask.id}/upload`, {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        // Reload the task files from server to ensure consistency\n        try {\n          const attachmentsResponse = await fetch(`/api/tasks/${selectedTask.id}/attachments`);\n          if (attachmentsResponse.ok) {\n            const attachmentsData = await attachmentsResponse.json();\n            setTaskFiles(attachmentsData.attachments || []);\n          }\n        } catch (reloadError) {\n          console.error('Error reloading attachments:', reloadError);\n          // Fallback: add the uploaded file to the list\n          setTaskFiles(prev => [...(prev || []), ...(result.files || [])]);\n        }\n        // Clear the file input\n        event.target.value = '';\n      } else {\n        const error = await response.json();\n        alert(`Upload failed: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Upload error:', error);\n      alert('Upload failed. Please try again.');\n    } finally {\n      // Reset loading state\n      const uploadButton = event.target.nextElementSibling;\n      if (uploadButton) {\n        uploadButton.disabled = false;\n        uploadButton.innerHTML = '<Plus className=\"w-4 h-4\" /><span>Upload File</span>';\n      }\n    }\n  };\n\n  const handleRemoveFile = async (fileId) => {\n    if (!selectedTask) return;\n\n    try {\n      const response = await fetch(`/api/tasks/${selectedTask.id}/attachments/${fileId}`, {\n        method: 'DELETE',\n      });\n\n      if (response.ok) {\n        // Reload the task files from server to ensure consistency\n        try {\n          const attachmentsResponse = await fetch(`/api/tasks/${selectedTask.id}/attachments`);\n          if (attachmentsResponse.ok) {\n            const attachmentsData = await attachmentsResponse.json();\n            setTaskFiles(attachmentsData.attachments || []);\n          }\n        } catch (reloadError) {\n          console.error('Error reloading attachments:', reloadError);\n          // Fallback: remove the file from the list\n          setTaskFiles(prev => (prev || []).filter(file => file.id !== fileId));\n        }\n      } else {\n        const error = await response.json();\n        alert(`Delete failed: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Delete error:', error);\n      alert('Delete failed. Please try again.');\n    }\n  };\n\n  const handleDownloadFile = async (file) => {\n    if (!selectedTask) return;\n\n    try {\n      const response = await fetch(`/api/tasks/${selectedTask.id}/attachments/${file.id}/download`);\n      \n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = file.name;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n      } else {\n        const error = await response.json();\n        alert(`Download failed: ${error.error}`);\n      }\n    } catch (error) {\n      console.error('Download error:', error);\n      alert('Download failed. Please try again.');\n    }\n  };\n\n  const handleAddComment = () => {\n    if (newComment.trim()) {\n      const comment = {\n        id: Date.now(),\n        user: user?.name || 'User',\n        comment: newComment,\n        timestamp: new Date().toLocaleString()\n      };\n      setTaskComments(prev => [...(Array.isArray(prev) ? prev : []), comment]);\n      setNewComment('');\n    }\n  };\n\n  const handleCommentDelete = (commentId) => {\n    setTaskComments(prev => {\n      const currentComments = Array.isArray(prev) ? prev : [];\n      return currentComments.filter(comment => comment.id !== commentId);\n    });\n  };\n\n  const handleCommentEdit = (commentId, newText) => {\n    setTaskComments(prev => {\n      const currentComments = Array.isArray(prev) ? prev : [];\n      return currentComments.map(comment => \n        comment.id === commentId \n          ? { ...comment, comment: newText }\n          : comment\n      );\n    });\n  };\n\n  const handleStartEditComment = (commentId, currentText) => {\n    setEditingCommentId(commentId);\n    setEditingCommentText(currentText);\n  };\n\n  const handleCancelEditComment = () => {\n    setEditingCommentId(null);\n    setEditingCommentText('');\n  };\n\n  const handleSaveEditComment = () => {\n    if (editingCommentId && editingCommentText.trim()) {\n      handleCommentEdit(editingCommentId, editingCommentText.trim());\n      handleCancelEditComment();\n    }\n  };\n\n  const handleAddSubtask = () => {\n    if (newSubtask.trim()) {\n      const subtask = {\n        id: Date.now(),\n        title: newSubtask,\n        completed: false\n      };\n      setTaskSubtasks(prev => {\n        const currentSubtasks = Array.isArray(prev) ? prev : [];\n        return [...currentSubtasks, subtask];\n      });\n      setNewSubtask('');\n    }\n  };\n\n  const handleSubtaskToggle = (subtaskId) => {\n    setTaskSubtasks(prev => {\n      const currentSubtasks = Array.isArray(prev) ? prev : [];\n      return currentSubtasks.map(subtask => \n        subtask.id === subtaskId \n          ? { ...subtask, completed: !subtask.completed }\n          : subtask\n      );\n    });\n  };\n\n  const handleSubtaskDelete = (subtaskId) => {\n    setTaskSubtasks(prev => {\n      const currentSubtasks = Array.isArray(prev) ? prev : [];\n      return currentSubtasks.filter(subtask => subtask.id !== subtaskId);\n    });\n  };\n\n  const handleSubtaskEdit = (subtaskId, newTitle) => {\n    setTaskSubtasks(prev => {\n      const currentSubtasks = Array.isArray(prev) ? prev : [];\n      return currentSubtasks.map(subtask => \n        subtask.id === subtaskId \n          ? { ...subtask, title: newTitle }\n          : subtask\n      );\n    });\n  };\n\n  const handleStartEditSubtask = (subtaskId, currentTitle) => {\n    setEditingSubtaskId(subtaskId);\n    setEditingSubtaskTitle(currentTitle);\n  };\n\n  const handleCancelEditSubtask = () => {\n    setEditingSubtaskId(null);\n    setEditingSubtaskTitle('');\n  };\n\n  const handleSaveEditSubtask = () => {\n    if (editingSubtaskId && editingSubtaskTitle.trim()) {\n      handleSubtaskEdit(editingSubtaskId, editingSubtaskTitle.trim());\n      handleCancelEditSubtask();\n    }\n  };\n\n  const handleNotesChange = (notes) => {\n    setTaskNotes(notes);\n    // Here you would typically save to server\n  };\n\n  // Handle form submission\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    console.log('Form data before submission:', formData);\n    \n    // Validate required fields\n    if (!formData.title.trim()) {\n      alert('Please enter a task title');\n      return;\n    }\n    \n    if (!formData.assignedTo || formData.assignedTo.length === 0) {\n      alert('Please assign the task to at least one person. This ensures the task remains visible and manageable.');\n      return;\n    }\n    \n    try {\n      const url = editingTask \n        ? `/api/tasks/${editingTask.id}`\n        : '/api/tasks';\n      \n      const method = editingTask ? 'PUT' : 'POST';\n      \n      // Convert arrays back to strings for API\n      const apiData = {\n        ...formData,\n        assigned_to: employeeArrayToString(formData.assignedTo),\n        responsible: employeeArrayToString(formData.responsible),\n        accountable: employeeArrayToString(formData.accountable),\n        consulted: employeeArrayToString(formData.consulted),\n        informed: employeeArrayToString(formData.informed),\n        trained: employeeArrayToString(formData.trained),\n        impact: formData.impact,\n        complexity: formData.complexity,\n        unit: formData.unit,\n        target: formData.target,\n        effort_estimate_label: formData.effortEstimateLabel,\n        time_estimate_hours: formData.timeEstimateHours,\n        time_estimate_minutes: formData.timeEstimateMinutes,\n        checklist: formData.checklist\n      };\n\n      // Remove undefined values to prevent API issues\n      Object.keys(apiData).forEach(key => {\n        if (apiData[key] === undefined || apiData[key] === '') {\n          delete apiData[key];\n        }\n      });\n\n      console.log('Sending task data to API:', apiData);\n      \n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n          'user-role': user?.role || 'employee',\n          'user-permissions': JSON.stringify((user?.role === 'admin' || user?.role === 'Admin') ? ['all'] : (user?.permissions || []))\n        },\n        body: JSON.stringify(apiData),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        console.log('Task saved successfully:', result);\n        startTransition(() => {\n          fetchAllData();\n        });\n        handleCloseModal();\n      } else {\n        const errorText = await response.text();\n        console.error('Failed to save task:', errorText);\n        alert('Failed to save task: ' + errorText);\n      }\n    } catch (error) {\n      console.error('Error saving task:', error);\n      alert('Failed to save task');\n    }\n  };\n\n  // Handle delete\n  const handleDelete = async (id) => {\n    // Find the task to check permissions\n    const task = tasks.find(t => t.id === id);\n    if (!task) {\n      alert('Task not found');\n      return;\n    }\n\n    // Check permissions before allowing delete\n    if (!canDeleteTask(task)) {\n      alert('You do not have permission to delete this task.');\n      return;\n    }\n\n    if (!confirm('Are you sure you want to delete this task?')) {\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/tasks/${id}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'user-role': user?.role || 'employee',\n          'user-permissions': JSON.stringify((user?.role === 'admin' || user?.role === 'Admin') ? ['all'] : (user?.permissions || []))\n        },\n        body: JSON.stringify({\n          user_role: user?.role || 'employee',\n          user_permissions: user?.permissions || []\n        })\n      });\n\n      if (response.ok) {\n        startTransition(() => {\n          fetchAllData();\n        });\n        alert('Task deleted successfully');\n      } else {\n        const errorData = await response.json();\n        if (response.status === 403) {\n          alert(`Access denied: ${errorData.error}`);\n        } else {\n          alert(errorData.error || 'Failed to delete task');\n        }\n      }\n    } catch (error) {\n      console.error('Error deleting task:', error);\n      alert('Failed to delete task');\n    }\n  };\n\n  // Handle bulk delete\n  const handleBulkDelete = async () => {\n    if (selectedTasks.size === 0) return;\n    \n    const confirmMessage = `Are you sure you want to delete ${selectedTasks.size} selected task(s)?`;\n    if (!confirm(confirmMessage)) {\n      return;\n    }\n\n    try {\n      const selectedIds = Array.from(selectedTasks);\n      \n      const response = await fetch('/api/tasks/bulk', {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n          'user-role': user?.role || 'admin',\n          'user-permissions': JSON.stringify(['all']),\n          'user-name': user?.name || 'Admin'\n        },\n        body: JSON.stringify({ \n          ids: selectedIds\n        }),\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        startTransition(() => {\n          fetchAllData();\n        });\n        setUiState(prev => ({\n          ...prev,\n          selectedTasks: new Set()\n        }));\n        alert(result.message);\n      } else {\n        const error = await response.json();\n        if (response.status === 403) {\n          alert(`Access denied: ${error.error}`);\n        } else {\n          alert(error.error || 'Failed to delete tasks');\n        }\n      }\n    } catch (error) {\n      alert('Failed to delete tasks: ' + error.message);\n    }\n  };\n\n  // Handle bulk status change\n  const handleBulkStatusChange = async () => {\n    if (selectedTasks.size === 0 || !bulkStatus) return;\n    const confirmMessage = `Change status of ${selectedTasks.size} selected task(s) to \"${bulkStatus}\"?`;\n    if (!confirm(confirmMessage)) return;\n    try {\n      const updatePromises = Array.from(selectedTasks).map(id =>\n        fetch(`/api/tasks/${id}/status`, {\n          method: 'PUT',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ status: bulkStatus, user_name: user?.name || 'Admin', user_id: user?.id || 1 })\n        })\n      );\n      const responses = await Promise.all(updatePromises);\n      const ok = responses.every(r => r.ok);\n      if (!ok) throw new Error('One or more updates failed');\n      // Refresh tasks list\n      const tasksHeaders = {};\n      if (user) {\n        tasksHeaders['user-role'] = user.role || 'employee';\n        tasksHeaders['user-permissions'] = JSON.stringify(user.role === 'admin' ? ['all'] : (user.permissions || []));\n      }\n      \n      // Build the same URL logic for consistency\n      let refreshTasksUrl = '/api/tasks';\n      if (user) {\n        const params = new URLSearchParams({\n          user_id: user.id,\n          role: user.role,\n          employee_name: user.name || ''\n        });\n        refreshTasksUrl += `?${params.toString()}`;\n      }\n      \n      const tasksResponse = await fetch(refreshTasksUrl, { headers: tasksHeaders });\n      if (tasksResponse.ok) {\n        const tasksData = await tasksResponse.json();\n        // Handle both paginated and non-paginated responses\n        updateDataState({ tasks: Array.isArray(tasksData.data) ? tasksData.data : (Array.isArray(tasksData) ? tasksData : []) });\n      }\n      updateUiState({ showBulkStatusModal: false });\n      updateFormState({ bulkStatus: '' });\n      setUiState(prev => ({ ...prev, selectedTasks: new Set() }));\n      \n      // Refresh history if task detail modal is open\n      if (selectedTask) {\n        fetch(`/api/tasks/${selectedTask.id}/history`)\n          .then(response => response.json())\n          .then(data => setTaskHistory(data))\n          .catch(error => console.error('Error refreshing history:', error));\n      }\n      \n      alert('Status updated for selected tasks');\n    } catch (error) {\n      console.error('Bulk status change error:', error);\n      alert('Failed to change status for selected tasks');\n    }\n  };\n\n  // Handle delete task history entry (admin only)\n  const handleDeleteHistory = async (historyId) => {\n    // Find the history entry to show confirmation details\n    const historyEntry = taskHistory.find(entry => entry.id === historyId);\n    if (historyEntry) {\n      updateModalState({ historyToDelete: historyEntry });\n      updateUiState({ showDeleteHistoryModal: true });\n    }\n  };\n\n  // Confirm and execute history deletion\n  const confirmDeleteHistory = async () => {\n    if (!historyToDelete) return;\n\n    try {\n      const response = await fetch(`/api/task-history/${historyToDelete.id}/delete`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_role: user?.role || 'employee'\n        })\n      });\n\n      if (response.ok) {\n        // Refresh the task history for the current task\n        if (selectedTask) {\n          await loadTaskDetails(selectedTask.id);\n        }\n        updateUiState({ showDeleteHistoryModal: false });\n        updateModalState({ historyToDelete: null });\n        alert('History entry deleted successfully');\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to delete history entry');\n      }\n    } catch (error) {\n      console.error('Error deleting history entry:', error);\n      alert('Failed to delete history entry');\n    }\n  };\n\n  // Handle delete all history for a task (admin only)\n  const handleDeleteAllHistory = () => {\n    if (selectedTask && taskHistory.length > 0) {\n      updateUiState({ showDeleteAllHistoryModal: true });\n    }\n  };\n\n  // Confirm and execute delete all history\n  const confirmDeleteAllHistory = async () => {\n    if (!selectedTask) return;\n\n    try {\n      const response = await fetch(`/api/task-history/task/${selectedTask.id}/delete-all`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          user_role: user?.role || 'employee'\n        })\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        // Refresh the task history for the current task\n        await loadTaskDetails(selectedTask.id);\n        updateUiState({ showDeleteAllHistoryModal: false });\n        alert(result.message);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to delete all history entries');\n      }\n    } catch (error) {\n      console.error('Error deleting all history entries:', error);\n      alert('Failed to delete all history entries');\n    }\n  };\n\n  // Helper function to convert string to array of employee objects\n  const stringToEmployeeArray = (str, employees) => {\n    if (!str) return [];\n    const names = str.split(',').map(name => name.trim()).filter(name => name);\n    return names.map(name => {\n      // Try to find employee by exact name match first\n      let employee = employees.find(emp => emp.name === name);\n      \n      // If not found, try case-insensitive match\n      if (!employee) {\n        employee = employees.find(emp => emp.name?.toLowerCase() === name.toLowerCase());\n      }\n      \n      // If still not found, try partial match\n      if (!employee) {\n        employee = employees.find(emp => emp.name?.toLowerCase().includes(name.toLowerCase()));\n      }\n      \n      // If employee found, return the proper format\n      if (employee) {\n        return { value: employee.id, label: `${employee.name} (${employee.employee_id})` };\n      }\n      \n      // If not found in employees list, create a minimal fallback entry using just the name\n      // This avoids confusing \"(Unknown)\" labels while still preserving the assignee string\n      return {\n        value: `fallback-${name.replace(/\\s+/g, '-').toLowerCase()}`,\n        label: `${name}`\n      };\n    }).filter(Boolean);\n  };\n\n  // Helper function to convert array of employee objects to string\n  const employeeArrayToString = (arr) => {\n    if (!arr || !Array.isArray(arr) || arr.length === 0) return '';\n    return arr\n      .filter(item => item && item.label) // Filter out invalid items\n      .map(item => item.label.split(' (')[0])\n      .join(', ');\n  };\n\n  // Helper function to check if user has active timer\n  const getUserActiveTimer = () => {\n    return tasks.find(task => \n      task.timer_started_at && \n      task.assigned_to && \n      task.assigned_to.includes(user?.name || 'Admin')\n    );\n  };\n\n  // Task Scoring Functions - Using Context\n  const { calculateTaskScore: contextCalculateTaskScore } = useTaskConfig();\n  \n  const calculateTaskScore = (task) => {\n    return contextCalculateTaskScore(task);\n  };\n\n  const getScoreCategory = (score) => {\n    if (score >= 80) return 'Critical';\n    if (score >= 65) return 'High';\n    if (score >= 50) return 'Medium';\n    if (score >= 35) return 'Low';\n    return 'Very Low';\n  };\n\n  const getScoreColor = (score) => {\n    if (score >= 80) return 'bg-red-100 text-red-800';\n    if (score >= 65) return 'bg-orange-100 text-orange-800';\n    if (score >= 50) return 'bg-yellow-100 text-yellow-800';\n    if (score >= 35) return 'bg-blue-100 text-blue-800';\n    return 'bg-gray-100 text-gray-600';\n  };\n\n  const getImpactDescription = (impact) => {\n    const descriptions = {\n      'Compliance & Risk': 'Essential work that must be done to meet legal, regulatory, or contractual obligations and to avoid penalties or security threats.',\n      'Revenue Growth': 'Tasks that are directly focused on increasing the company\\'s income and sales.',\n      'Customer Experience': 'Tasks aimed at improving customer satisfaction, loyalty, and retention. This focuses on making existing customers happier.',\n      'Cost Reduction': 'Tasks that are directly focused on decreasing the company\\'s expenses and improving profitability.',\n      'Efficiency & Process': 'Work aimed at improving internal workflows, automating manual steps, and saving employee time. It makes the company run smoother.',\n      'Innovation & Development': 'Tasks related to creating entirely new products, services, or capabilities for the future. This is forward-looking, research-and-development work.',\n      'Knowledge & Training': 'Internal tasks focused on upskilling the team, creating documentation, and sharing information across the company.'\n    };\n    return descriptions[impact] || '';\n  };\n\n  const { getScoreBreakdown: contextGetScoreBreakdown } = useTaskConfig();\n  \n  const getScoreBreakdown = (task) => {\n    return contextGetScoreBreakdown(task);\n  };\n\n\n\n  // Timer functions\n  const startTimer = async (taskId) => {\n    // Find the task to check permissions\n    const task = tasks.find(t => t.id === taskId);\n    if (!task) {\n      alert('Task not found');\n      return;\n    }\n\n    // Check permissions before allowing timer start\n    if (!canStartTimer(task)) {\n      alert('You do not have permission to start timer on this task.');\n      return;\n    }\n\n    // ===== OPTIMISTIC UPDATE: Do this FIRST, before API call =====\n    const currentTime = Date.now();\n    let interval = null;\n    \n    // Start interval immediately\n    interval = setInterval(() => {\n      updateTimerState(prev => ({ ...prev, tick: Date.now() })); // Update tick to force re-render\n    }, 1000);\n    \n    // Update ALL state synchronously (before await) for instant UI update\n    updateTimerState(prev => ({ \n      ...prev, \n      activeTimers: { ...prev.activeTimers, [taskId]: currentTime },\n      intervals: { ...prev.intervals, [taskId]: interval },\n      tick: currentTime // Force immediate re-render\n    }));\n    \n    // Update tasks array optimistically to show timer is active\n    updateDataState(prev => ({\n      ...prev,\n      tasks: prev.tasks.map(task => \n        task.id === taskId \n          ? { ...task, timer_started_at: new Date(currentTime).toISOString().replace('T', ' ').replace('.000Z', '') }\n          : task\n      )\n    }));\n    \n    // Force a second tick update to ensure re-render (React batching workaround)\n    setTimeout(() => {\n      updateTimerState(prev => ({ ...prev, tick: Date.now() }));\n    }, 50);\n\n    // ===== NOW do API call (doesn't block UI) =====\n    try {\n      const response = await measureTimerOperation('Start', fetch(`/api/tasks/${taskId}/start-timer`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          user_name: user?.name || 'Admin',\n          user_id: user?.id || 1\n        }),\n      }));\n\n      if (!response.ok) {\n        // Rollback on error\n        if (interval) clearInterval(interval);\n        updateTimerState(prev => {\n          const newTimers = { ...prev.activeTimers };\n          delete newTimers[taskId];\n          const newIntervals = { ...prev.intervals };\n          delete newIntervals[taskId];\n          return { ...prev, activeTimers: newTimers, intervals: newIntervals };\n        });\n        updateDataState(prev => ({\n          ...prev,\n          tasks: prev.tasks.map(task => \n            task.id === taskId \n              ? { ...task, timer_started_at: null }\n              : task\n          )\n        }));\n        const errorData = await response.json();\n        alert(`Failed to start timer: ${errorData.error || 'Unknown error'}`);\n        return;\n      }\n      \n      // Delay refresh to avoid overwriting optimistic state\n      // Wait 500ms to ensure server has processed the request\n      setTimeout(() => {\n        refreshTasksOnly();\n      }, 500);\n        \n        // Reload task details if task detail modal is open\n        if (selectedTask && selectedTask.id === taskId) {\n          loadTaskDetails(taskId);\n          \n          // Also refresh history directly\n          fetch(`/api/tasks/${taskId}/history`)\n            .then(response => response.json())\n            .then(data => setTaskHistory(data))\n            .catch(error => console.error('Error refreshing history:', error));\n      }\n    } catch (error) {\n      // Rollback on network error\n      if (interval) clearInterval(interval);\n      updateTimerState(prev => {\n        const newTimers = { ...prev.activeTimers };\n        delete newTimers[taskId];\n        const newIntervals = { ...prev.intervals };\n        delete newIntervals[taskId];\n        return { ...prev, activeTimers: newTimers, intervals: newIntervals };\n      });\n      updateDataState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map(task => \n          task.id === taskId \n            ? { ...task, timer_started_at: null }\n            : task\n        )\n      }));\n      console.error('Error starting timer:', error);\n      alert(' Failed to start timer: Network error');\n    }\n  };\n\n  const stopTimerWithMemo = (taskId) => {\n    const task = tasks.find(t => t.id === taskId);\n    if (!task || !task.timer_started_at) return;\n    \n    // Calculate start time based on current time minus elapsed time from timer display\n    const endTime = new Date();\n    let startTime;\n    \n    if (activeTimers[taskId]) {\n      // Use local timer state if available\n      startTime = new Date(activeTimers[taskId]);\n    } else {\n      // Calculate start time from current time minus the elapsed time shown in timer display\n      const elapsedSeconds = Math.floor((Date.now() - new Date(task.timer_started_at).getTime()) / 1000);\n      startTime = new Date(endTime.getTime() - (elapsedSeconds * 1000));\n    }\n    \n    // Calculate total seconds, ensuring non-negative\n    const totalSeconds = Math.max(0, Math.floor((endTime.getTime() - startTime.getTime()) / 1000));\n    \n    updateTimerState({\n      stopTimerTaskId: taskId,\n      stopTimerStartTime: startTime.toLocaleTimeString('en-US', { hour12: false }),\n      stopTimerEndTime: endTime.toLocaleTimeString('en-US', { hour12: false }),\n      stopTimerTotalTime: `${Math.floor(totalSeconds / 3600)}h ${Math.floor((totalSeconds % 3600) / 60)}m`,\n      stopTimerMemo: ''\n    });\n    updateUiState({ showStopTimerModal: true });\n  };\n\n  const handleStopTimerSubmit = async () => {\n    if (!stopTimerMemo.trim()) {\n      alert('Please enter a memo before stopping the timer');\n      return;\n    }\n\n    try {\n      // ===== CRITICAL: Calculate loggedSeconds BEFORE clearing activeTimers =====\n      const task = tasks.find(t => t.id === stopTimerTaskId);\n      let startTime = activeTimers[stopTimerTaskId];\n      \n      // Fallback: If activeTimers doesn't have the start time, calculate from task.timer_started_at\n      if (!startTime && task?.timer_started_at) {\n        const timerStartDate = new Date(task.timer_started_at);\n        startTime = timerStartDate.getTime();\n        console.log(' Using fallback startTime from task.timer_started_at:', task.timer_started_at, 'converted to:', startTime); // Debug log\n      }\n      \n      const loggedSeconds = startTime ? Math.floor((Date.now() - startTime) / 1000) : 0;\n      const currentLoggedSeconds = task?.logged_seconds || 0;\n      const newLoggedSeconds = currentLoggedSeconds + loggedSeconds;\n      \n      console.log(' Stop timer calculation - startTime:', startTime, 'loggedSeconds:', loggedSeconds, 'currentLoggedSeconds:', currentLoggedSeconds, 'newLoggedSeconds:', newLoggedSeconds, 'task.timer_started_at:', task?.timer_started_at); // Debug log\n\n      // ===== OPTIMISTIC UPDATE: Do this AFTER calculating loggedSeconds =====\n      // Clear interval and local timer state IMMEDIATELY\n      if (timerIntervals[stopTimerTaskId]) {\n        clearInterval(timerIntervals[stopTimerTaskId]);\n      }\n      \n      // Clear activeTimers and intervals in a single state update for immediate UI update\n      updateTimerState(prev => {\n        const newTimers = { ...prev.activeTimers };\n        delete newTimers[stopTimerTaskId];\n        const newIntervals = { ...prev.intervals };\n        delete newIntervals[stopTimerTaskId];\n        return { \n          ...prev, \n          activeTimers: newTimers,\n          intervals: newIntervals,\n          tick: Date.now() // Force re-render to show logged time immediately\n        };\n      });\n      \n      // OPTIMISTIC UPDATE: Update local tasks array immediately with new logged_seconds\n      // This ensures getTimerDisplay shows logged_seconds instead of 00:00:00\n      updateDataState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map(task => \n          task.id === stopTimerTaskId \n            ? { \n                ...task, \n                timer_started_at: null,\n                logged_seconds: newLoggedSeconds // Update logged_seconds optimistically\n              } \n            : task\n        )\n      }));\n      \n      // Force a second tick update to ensure re-render\n      setTimeout(() => {\n        updateTimerState(prev => ({ ...prev, tick: Date.now() }));\n      }, 50);\n\n      // ===== NOW do API call =====\n      const response = await fetch(`/api/tasks/${stopTimerTaskId}/stop-timer`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          loggedSeconds,\n          user_name: user?.name || 'Admin',\n          user_id: user?.id || 1,\n          memo: stopTimerMemo.trim()\n        }),\n      });\n\n      if (response.ok) {\n        // Get the updated logged_seconds from server response\n        const responseData = await response.json();\n        console.log(' Server response after stop timer:', responseData); // Debug log\n        const serverLoggedSeconds = responseData.logged_seconds || newLoggedSeconds;\n        console.log(' Using logged_seconds:', serverLoggedSeconds, 'for task:', stopTimerTaskId); // Debug log\n        \n        // Update local task state immediately with server's logged_seconds\n        // This ensures getTimerDisplay shows the correct total time instead of 00:00:00\n        updateDataState(prev => {\n          const updatedTasks = prev.tasks.map(task => \n            task.id === stopTimerTaskId \n              ? { \n                  ...task, \n                  timer_started_at: null, // Clear timer\n                  logged_seconds: serverLoggedSeconds // Use server's logged_seconds\n                } \n              : task\n          );\n          const updatedTask = updatedTasks.find(t => t.id === stopTimerTaskId);\n          console.log(' Updated task state - ID:', updatedTask?.id, 'logged_seconds:', updatedTask?.logged_seconds, 'timer_started_at:', updatedTask?.timer_started_at); // Debug log\n          return { ...prev, tasks: updatedTasks };\n        });\n        \n        // Delay refresh significantly to avoid overwriting our correct state update\n        // Wait 3 seconds to ensure server has fully processed the update and our state update is visible\n        setTimeout(() => {\n          console.log(' Refreshing tasks after 3 second delay...'); // Debug log\n          refreshTasksOnly();\n        }, 3000);\n        \n        // Reload task details if task detail modal is open\n        if (selectedTask && selectedTask.id === stopTimerTaskId) {\n          loadTaskDetails(stopTimerTaskId);\n          \n          // Also refresh history directly\n          fetch(`/api/tasks/${stopTimerTaskId}/history`)\n            .then(response => response.json())\n            .then(data => setTaskHistory(data))\n            .catch(error => console.error('Error refreshing history:', error));\n        }\n        \n        // Close modal and reset state\n        updateUiState({ showStopTimerModal: false });\n        updateTimerState({\n          stopTimerTaskId: null,\n          stopTimerMemo: '',\n          stopTimerStartTime: '',\n          stopTimerEndTime: '',\n          stopTimerTotalTime: ''\n        });\n      } else {\n        // Rollback on error - restore timer state\n        const errorData = await response.json();\n        const startTime = activeTimers[stopTimerTaskId] || Date.now() - (loggedSeconds * 1000);\n        const interval = setInterval(() => {\n          updateTimerState(prev => ({ ...prev, tick: Date.now() }));\n        }, 1000);\n        updateTimerState(prev => ({\n          ...prev,\n          activeTimers: { ...prev.activeTimers, [stopTimerTaskId]: startTime },\n          intervals: { ...prev.intervals, [stopTimerTaskId]: interval }\n        }));\n        updateDataState(prev => ({\n          ...prev,\n          tasks: prev.tasks.map(task => \n            task.id === stopTimerTaskId \n              ? { ...task, timer_started_at: task.timer_started_at, logged_seconds: currentLoggedSeconds }\n              : task\n          )\n        }));\n        alert(`Failed to stop timer: ${errorData.error || 'Unknown error'}`);\n      }\n    } catch (error) {\n      // Rollback on network error\n      console.error('Error stopping timer:', error);\n      const startTime = activeTimers[stopTimerTaskId] || Date.now() - (loggedSeconds * 1000);\n      const interval = setInterval(() => {\n        updateTimerState(prev => ({ ...prev, tick: Date.now() }));\n      }, 1000);\n      updateTimerState(prev => ({\n        ...prev,\n        activeTimers: { ...prev.activeTimers, [stopTimerTaskId]: startTime },\n        intervals: { ...prev.intervals, [stopTimerTaskId]: interval }\n      }));\n      updateDataState(prev => ({\n        ...prev,\n        tasks: prev.tasks.map(task => \n          task.id === stopTimerTaskId \n            ? { ...task, timer_started_at: task.timer_started_at, logged_seconds: currentLoggedSeconds }\n            : task\n        )\n      }));\n      alert('Failed to stop timer: Network error');\n    }\n  };\n\n  const stopTimer = async (taskId) => {\n    // Find the task to check permissions\n    const task = tasks.find(t => t.id === taskId);\n    if (!task) {\n      alert('Task not found');\n      return;\n    }\n\n    // Check permissions before allowing timer stop\n    if (!canStopTimer(task)) {\n      alert('You do not have permission to stop timer on this task.');\n      return;\n    }\n\n    // Use the memo modal for stopping timers\n    stopTimerWithMemo(taskId);\n  };\n\n  // Check if all checklist items are completed\n  const areAllChecklistItemsCompleted = (task) => {\n    if (!task.checklist || task.checklist.trim() === '') {\n      return true; // No checklist means no validation needed\n    }\n\n    const checklistItems = task.checklist.split('\\n').filter(item => item.trim() !== '');\n    if (checklistItems.length === 0) {\n      return true; // No items means complete\n    }\n\n    // Check local state first (for current session)\n    const localCompleted = taskChecklistCompletion[task.id] || [];\n\n    // Check if the task has checklist completion tracking in database\n    let completedItems = [];\n    if (task.checklist_completed) {\n      try {\n        completedItems = JSON.parse(task.checklist_completed);\n      } catch (e) {\n        console.error('Error parsing checklist completion:', e);\n      }\n    }\n\n    // Combine local state and database state\n    const allCompleted = [...new Set([...localCompleted, ...completedItems])];\n\n    return allCompleted.length === checklistItems.length;\n  };\n\n  // Check if unit is set and valid\n  const isUnitValid = (task) => {\n    // Check if unit exists and is a valid number greater than 0\n    if (!task.unit) return false;\n    const unitValue = parseFloat(task.unit);\n    return !isNaN(unitValue) && unitValue > 0;\n  };\n\n  // Check if task can be completed (both checklist and unit validation)\n  const canTaskBeCompleted = (task) => {\n    // For the selected task, also check if the current input value is valid\n    if (selectedTask && task.id === selectedTask.id) {\n      return areAllChecklistItemsCompleted(task) && isUnitValid(selectedTask);\n    }\n    return areAllChecklistItemsCompleted(task) && isUnitValid(task);\n  };\n\n  // Handle checklist item toggle\n  const handleChecklistItemToggle = async (taskId, itemIndex) => {\n    setTaskChecklistCompletion(prev => {\n      const current = prev[taskId] || [];\n      const newCompletion = [...current];\n\n      let updatedCompletion;\n      if (newCompletion.includes(itemIndex)) {\n        // Remove item from completed list\n        updatedCompletion = newCompletion.filter(i => i !== itemIndex);\n      } else {\n        // Add item to completed list\n        updatedCompletion = [...newCompletion, itemIndex].sort((a, b) => a - b);\n      }\n\n      // Update the backend with the new completion status\n      updateChecklistCompletionOnServer(taskId, updatedCompletion);\n\n      return {\n        ...prev,\n        [taskId]: updatedCompletion\n      };\n    });\n  };\n\n  // Update checklist completion status on the server\n  const updateChecklistCompletionOnServer = async (taskId, completedItems) => {\n    try {\n      const response = await fetch(`/api/tasks/${taskId}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          checklist_completed: JSON.stringify(completedItems),\n          user_name: user?.name || 'Admin',\n          user_id: user?.id || 1\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        console.error('Failed to update checklist completion:', errorData);\n        // Optionally show an error message to the user\n      } else {\n        console.log('Checklist completion updated successfully');\n\n        // Update the selected task in the UI if it's the current task\n        if (selectedTask && selectedTask.id === taskId) {\n          updateUiState({\n            selectedTask: {\n              ...selectedTask,\n              checklist_completed: JSON.stringify(completedItems)\n            }\n          });\n        }\n      }\n    } catch (error) {\n      console.error('Error updating checklist completion:', error);\n    }\n  };\n\n  // Check if a specific checklist item is completed\n  const isChecklistItemCompleted = (taskId, itemIndex) => {\n    const completed = taskChecklistCompletion[taskId] || [];\n    return completed.includes(itemIndex);\n  };\n\n  // Load checklist completion state when a task is selected\n  useEffect(() => {\n    if (selectedTask && selectedTask.checklist_completed) {\n      try {\n        const completedItems = JSON.parse(selectedTask.checklist_completed);\n        setTaskChecklistCompletion(prev => ({\n          ...prev,\n          [selectedTask.id]: completedItems\n        }));\n      } catch (e) {\n        console.error('Error parsing checklist completion:', e);\n      }\n    }\n  }, [selectedTask]);\n\n\n  const formatTime = (seconds) => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n    return `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const getTimerDisplay = (task) => {\n    // Use tick in calculation to force re-render when tick changes\n    // Even though we use Date.now(), reading tick ensures React knows to re-render\n    const _ = tick || 0; // Read tick to create dependency\n    \n    const isActive = activeTimers[task.id];\n    const isActiveFromDB = task.timer_started_at;\n    \n    let activeTime = 0;\n    if (isActive) {\n      // Timer is active in local state - use current time for real-time updates\n      // Use tick to ensure this recalculates on every tick update\n      activeTime = Math.floor((Date.now() - isActive) / 1000);\n    } else if (isActiveFromDB) {\n      // Timer is active in database but not in local state (e.g., after page refresh)\n      const startTime = new Date(isActiveFromDB);\n      activeTime = Math.floor((Date.now() - startTime) / 1000);\n    }\n    \n    // Clamp to 0 to prevent negative values (timezone mismatch protection)\n    activeTime = Math.max(0, activeTime);\n    \n    // If timer is currently active, show only the current session time (starting from 00:00:00)\n    // If timer is stopped, show the cumulative logged time\n    if (isActive || isActiveFromDB) {\n      return formatTime(activeTime);\n    } else {\n      const displayTime = formatTime(task.logged_seconds || 0);\n      // Debug log when logged_seconds is 0 but we expect it to have a value\n      if ((task.logged_seconds || 0) === 0 && task.id && !isActive && !isActiveFromDB) {\n        console.log(' getTimerDisplay - Task ID:', task.id, 'logged_seconds:', task.logged_seconds, 'timer_started_at:', task.timer_started_at, 'isActive:', isActive, 'isActiveFromDB:', isActiveFromDB, 'displayTime:', displayTime);\n      }\n      return displayTime;\n    }\n  };\n\n  // Helper function to check if user can edit a specific task\n  const canEditTask = (task) => {\n    if (!user || !user.permissions) return false;\n    \n    // Check for universal edit permission\n    if (user.permissions.includes('all') || user.permissions.includes('edit_tasks')) {\n      return true;\n    }\n    \n    // Check for edit own tasks permission\n    if (user.permissions.includes('edit_own_tasks')) {\n      // Check if task is assigned to current user\n      const assignedTo = task.assigned_to || '';\n      return assignedTo.toLowerCase().includes(user.name?.toLowerCase() || '');\n    }\n    \n    return false;\n  };\n\n  // Helper function to check if user can delete a specific task\n  const canDeleteTask = (task) => {\n    if (!user || !user.permissions) return false;\n    \n    // Check for universal delete permission\n    if (user.permissions.includes('all') || user.permissions.includes('delete_tasks')) {\n      return true;\n    }\n    \n    // Check for delete own tasks permission\n    if (user.permissions.includes('delete_own_tasks')) {\n      // Check if task is assigned to current user\n      const assignedTo = task.assigned_to || '';\n      return assignedTo.toLowerCase().includes(user.name?.toLowerCase() || '');\n    }\n    \n    return false;\n  };\n\n  // Helper function to check if user can start timer on a specific task\n  const canStartTimer = (task) => {\n    if (!user || !user.permissions) return false;\n    \n    // Check for universal start timer permission\n    if (user.permissions.includes('all') || user.permissions.includes('start_timer')) {\n      return true;\n    }\n    \n    // Check for start own timer permission\n    if (user.permissions.includes('start_own_timer')) {\n      // Check if task is assigned to current user\n      const assignedTo = task.assigned_to || '';\n      return assignedTo.toLowerCase().includes(user.name?.toLowerCase() || '');\n    }\n    \n    return false;\n  };\n\n  // Helper function to check if user can stop timer on a specific task\n  const canStopTimer = (task) => {\n    if (!user || !user.permissions) return false;\n    \n    // Check for universal stop timer permission\n    if (user.permissions.includes('all') || user.permissions.includes('stop_timer')) {\n      return true;\n    }\n    \n    // Check for stop own timer permission\n    if (user.permissions.includes('stop_own_timer')) {\n      // Check if task is assigned to current user\n      const assignedTo = task.assigned_to || '';\n      return assignedTo.toLowerCase().includes(user.name?.toLowerCase() || '');\n    }\n    \n    return false;\n  };\n\n  const canCreateTask = () => {\n    if (!user || !user.permissions) return false;\n    \n    // Check for create tasks permission or admin access\n    return user.permissions.includes('all') || \n           user.permissions.includes('create_tasks') || \n           user.role === 'admin';\n  };\n\n  // Validate status change before updating\n  const validateStatusChange = (task, newStatus) => {\n    // If changing to Completed, check completion requirements\n    if (newStatus === 'Completed') {\n      if (!canTaskBeCompleted(task)) {\n        let errorMessage = 'Cannot complete task: ';\n        const issues = [];\n        \n        if (!areAllChecklistItemsCompleted(task)) {\n          issues.push('all checklist items must be completed');\n        }\n        if (!isUnitValid(task)) {\n          issues.push('unit value must be set');\n        }\n        \n        errorMessage += issues.join(' and ');\n        return { isValid: false, message: errorMessage };\n      }\n    }\n    \n    return { isValid: true };\n  };\n\n  // Update task status with history tracking and validation\n  const updateTaskStatus = async (taskId, newStatus) => {\n    try {\n      // Find the current task to get the old status\n      const currentTask = tasks.find(t => t.id === taskId);\n      if (!currentTask) {\n        alert('Task not found');\n        return;\n      }\n\n      const oldStatus = currentTask.status;\n      \n      // Don't update if status is the same\n      if (oldStatus === newStatus) {\n        return;\n      }\n\n      // Validate the status change\n      const validation = validateStatusChange(currentTask, newStatus);\n      if (!validation.isValid) {\n        alert(validation.message);\n        return;\n      }\n\n      // Update task status on server\n      const response = await fetch(`/api/tasks/${taskId}/status`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ \n          status: newStatus,\n          user_name: user?.name || 'Admin',\n          user_id: user?.id || 1,\n          old_status: oldStatus\n        }),\n      });\n\n      if (response.ok) {\n        // Update local state\n        updateDataState({\n          tasks: tasks.map(task => \n            task.id === taskId \n              ? { ...task, status: newStatus }\n              : task\n          )\n        });\n\n        // If the task detail modal is open, update the selected task\n        if (selectedTask && selectedTask.id === taskId) {\n          updateUiState({\n            selectedTask: { ...selectedTask, status: newStatus }\n          });\n          \n          // Reload task details to get updated history\n          startTransition(() => {\n            loadTaskDetails(taskId);\n          });\n          \n          // Also refresh history directly\n          fetch(`/api/tasks/${taskId}/history`)\n            .then(response => response.json())\n            .then(data => setTaskHistory(data))\n            .catch(error => console.error('Error refreshing history:', error));\n\n          // Close the modal if task is marked as complete\n          if (newStatus === 'Completed') {\n            updateUiState({\n              selectedTask: null,\n              showDetailModal: false,\n              taskDetailTab: 'files'\n            });\n          }\n        }\n\n        console.log(`Task ${taskId} status updated from ${oldStatus} to ${newStatus}`);\n      } else {\n        const error = await response.json();\n        alert(error.error || 'Failed to update task status');\n      }\n    } catch (error) {\n      console.error('Error updating task status:', error);\n      alert('Failed to update task status');\n    }\n  };\n\n  // Handle select all tasks\n  const handleSelectAll = useCallback(() => {\n    const filteredTasks = getFilteredTasks();\n    const allTaskIds = new Set(filteredTasks.map(task => task.id));\n    \n    // If all tasks are selected, deselect all; otherwise select all\n    const isAllSelected = filteredTasks.length > 0 && filteredTasks.every(task => selectedTasks.has(task.id));\n    \n    setUiState(prev => ({\n      ...prev,\n      selectedTasks: isAllSelected ? new Set() : allTaskIds\n    }));\n  }, [selectedTasks, getFilteredTasks]);\n\n\n  // Handle edit\n  const handleEdit = (task) => {\n    // Check permissions before allowing edit\n    if (!canEditTask(task)) {\n      alert('You do not have permission to edit this task.');\n      return;\n    }\n    updateFormState({ editingTask: task });\n    // If description is just the assignee's name accidentally, clear it for UX\n    const sanitizedDescription = (() => {\n      const desc = (task.description || '').trim();\n      const assignee = (task.assigned_to || '').trim();\n      if (!desc) return '';\n      if (assignee && desc.toLowerCase() === assignee.toLowerCase()) return '';\n      if (user?.name && desc.toLowerCase() === user.name.toLowerCase()) return '';\n      return task.description || '';\n    })();\n\n    setFormData({\n      title: task.title || '',\n      department: task.department || '',\n      taskCategory: task.task_category || '',\n      project: task.project || '',\n      startDate: task.start_date || '',\n      dueDate: task.due_date || '',\n      withoutDueDate: task.without_due_date === 1,\n      assignedTo: stringToEmployeeArray(task.assigned_to, employees),\n      status: task.status || '',\n      description: sanitizedDescription,\n      responsible: stringToEmployeeArray(task.responsible, employees),\n      accountable: stringToEmployeeArray(task.accountable, employees),\n      consulted: stringToEmployeeArray(task.consulted, employees),\n      informed: stringToEmployeeArray(task.informed, employees),\n      trained: stringToEmployeeArray(task.trained, employees),\n      labels: task.labels || '',\n      milestones: task.milestones || '',\n      priority: task.priority || '',\n      complexity: task.complexity || '',\n      impact: task.impact || '', // Added\n      unit: task.unit || '', // Added\n      target: task.target || '', // Added\n      effortEstimateLabel: task.effort_estimate_label || '', // Added\n      timeEstimateHours: task.time_estimate_hours || 0,\n      timeEstimateMinutes: task.time_estimate_minutes || 0,\n      makePrivate: task.make_private === 1,\n      share: task.share === 1,\n      repeat: task.repeat === 1,\n      isDependent: task.is_dependent === 1,\n      validationBy: task.validation_by || '',\n      effortLabel: task.effort_label || '',\n      checklist: task.checklist || '',\n      workflowGuide: task.workflow_guide || '',\n    });\n    updateUiState({ showModal: true });\n  };\n\n  // Handle add\n  const handleAdd = () => {\n    updateFormState({ editingTask: null });\n    \n    // Default assignment to current user if available\n    const defaultAssignedTo = user?.name ? [{\n      value: user.id || 'current-user',\n      label: `${user.name} (${user.employee_id || user.id || 'current-user'})`\n    }] : [];\n    \n    setFormData({\n      title: '',\n      department: '',\n      taskCategory: '',\n      project: '',\n      startDate: '',\n      dueDate: '',\n      withoutDueDate: false,\n      assignedTo: defaultAssignedTo,\n      status: '',\n      description: '',\n      responsible: [],\n      accountable: [],\n      consulted: [],\n      informed: [],\n      trained: [],\n      labels: '',\n      milestones: '',\n      priority: '',\n      complexity: '',\n      impact: '', // Added\n      unit: '', // Added\n      target: '', // Added\n      effortEstimateLabel: '', // Added\n      timeEstimateHours: 0,\n      timeEstimateMinutes: 0,\n      makePrivate: false,\n      share: false,\n      repeat: false,\n      isDependent: false,\n      validationBy: '',\n      effortLabel: '',\n      checklist: '',\n      workflowGuide: '',\n    });\n    updateUiState({ showModal: true });\n  };\n\n  // Handle close modal\n  const handleCloseModal = () => {\n    updateUiState({ showModal: false });\n    updateFormState({ editingTask: null });\n    setFormData({\n      title: '',\n      department: '',\n      taskCategory: '',\n      project: '',\n      startDate: '',\n      dueDate: '',\n      withoutDueDate: false,\n      assignedTo: [],\n      status: '',\n      description: '',\n      responsible: [],\n      accountable: [],\n      consulted: [],\n      informed: [],\n      trained: [],\n      labels: '',\n      milestones: '',\n      priority: '',\n      complexity: '',\n      impact: '', // Added\n      unit: '', // Added\n      target: '', // Added\n      effortEstimateLabel: '', // Added\n      timeEstimateHours: 0,\n      timeEstimateMinutes: 0,\n      makePrivate: false,\n      share: false,\n      repeat: false,\n      isDependent: false,\n      validationBy: '',\n      effortLabel: '',\n      checklist: '',\n      workflowGuide: '',\n    });\n  };\n\n  // Handle import\n  const handleImport = async () => {\n    if (!selectedFile) {\n      alert('Please select a file');\n      return;\n    }\n\n    updateFormState({ importLoading: true });\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      console.log('Starting import...');\n      const response = await fetch('/api/tasks/import', {\n        method: 'POST',\n        body: formData,\n      });\n\n      console.log('Response status:', response.status);\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('Import result:', result);\n        updateFormState({ importResult: result });\n        startTransition(() => {\n          fetchAllData();\n        });\n        updateFormState({ selectedFile: null });\n        \n        setTimeout(() => {\n          updateFormState({ importResult: null });\n          updateUiState({ showImportModal: false });\n        }, 5000);\n      } else {\n        const errorText = await response.text();\n        console.error('Import failed:', errorText);\n        alert(`Import failed: ${errorText}`);\n      }\n    } catch (error) {\n      console.error('Error importing tasks:', error);\n      alert('Import failed. Please check your connection and try again.');\n    } finally {\n      updateFormState({ importLoading: false });\n    }\n  };\n\n  // Handle export\n  const handleExport = async (format = 'csv') => {\n    try {\n      const response = await fetch(`/api/tasks/export?format=${format}`);\n      \n      if (response.ok) {\n        const blob = await response.blob();\n        const url = window.URL.createObjectURL(blob);\n        const a = document.createElement('a');\n        a.href = url;\n        a.download = `tasks-export-${new Date().toISOString().split('T')[0]}.${format === 'excel' ? 'xlsx' : 'csv'}`;\n        document.body.appendChild(a);\n        a.click();\n        window.URL.revokeObjectURL(url);\n        document.body.removeChild(a);\n        updateUiState({ showExportModal: false });\n      } else {\n        let errorMessage = 'Export failed';\n        try {\n          const error = await response.json();\n          errorMessage = error.error || errorMessage;\n        } catch (e) {\n          // If response is not JSON, use status text\n          errorMessage = response.statusText || errorMessage;\n        }\n        console.error('Export error:', errorMessage);\n        alert(errorMessage);\n      }\n    } catch (error) {\n      console.error('Error exporting tasks:', error);\n      alert(`Export failed: ${error.message || 'Please check your connection and try again.'}`);\n    }\n  };\n\n  // Handle update tasks\n  const handleUpdateTasks = async () => {\n    if (!selectedFile) {\n      alert('Please select a file');\n      return;\n    }\n\n    updateFormState({ importLoading: true });\n\n    try {\n      const formData = new FormData();\n      formData.append('file', selectedFile);\n\n      const response = await fetch('/api/tasks/update', {\n        method: 'POST',\n        body: formData\n      });\n\n      console.log('Response status:', response.status);\n      \n      if (response.ok) {\n        const result = await response.json();\n        console.log('Update result:', result);\n        updateFormState({ importResult: result });\n        startTransition(() => {\n          fetchAllData();\n        });\n        updateFormState({ selectedFile: null });\n        \n        setTimeout(() => {\n          updateFormState({ importResult: null });\n          updateUiState({ showUpdateModal: false });\n        }, 5000);\n      } else {\n        const errorText = await response.text();\n        console.error('Update failed:', errorText);\n        alert(`Update failed: ${errorText}`);\n      }\n    } catch (error) {\n      console.error('Error updating tasks:', error);\n      alert('Update failed. Please check your connection and try again.');\n    } finally {\n      updateFormState({ importLoading: false });\n    }\n  };\n\n  // Handle download sample file\n  const handleDownloadSample = () => {\n    // Create sample data with all columns\n    const sampleData = [\n      {\n        'Title': 'Sample Task 1',\n        'Department': 'Engineering',\n        'Task Category': 'Development',\n        'Project': 'Project Alpha',\n        'Start Date': '2025-01-15',\n        'Due Date': '2025-01-30',\n        'Created On': '2025-01-10',\n        'Time Estimate Hours': '2',\n        'Time Estimate Minutes': '30',\n        'Without Due Date': 'No',\n        'Assigned To': 'John Doe, Jane Smith',\n        'Status': 'In Progress',\n        'Description': 'This is a sample task description for demonstration purposes.',\n        'Responsible': 'John Doe',\n        'Accountable': 'Jane Smith',\n        'Consulted': 'Mike Johnson',\n        'Informed': 'Sarah Wilson',\n        'Trained': 'Alex Brown',\n        'Labels': 'Deadline, Improvements',\n        'Milestones': 'Phase 1, Phase 2',\n        'Priority': 'High',\n        'Complexity': 'Medium',\n        'Impact': 'Revenue Growth',\n        'Unit': '5',\n        'Target': 'Complete feature implementation',\n        'Effort Estimate Label': '1 Week',\n        'Make Private': 'No',\n        'Share': 'Yes',\n        'Repeat': 'No',\n        'Task is dependent on another task': 'No',\n        'Validation By': 'Project Manager',\n        'Effort Label': 'Development',\n        'Checklist': 'Requirements review\\nDesign approval\\nCode implementation\\nTesting\\nDeployment',\n        'Workflow Guide': '1. Review requirements\\n2. Create design\\n3. Implement code\\n4. Test thoroughly\\n5. Deploy to production'\n      },\n      {\n        'Title': 'Sample Task 2',\n        'Department': 'Marketing',\n        'Task Category': 'Campaign',\n        'Project': 'Project Beta',\n        'Start Date': '2025-01-20',\n        'Due Date': '2025-02-15',\n        'Created On': '2025-01-18',\n        'Time Estimate Hours': '1',\n        'Time Estimate Minutes': '0',\n        'Without Due Date': 'No',\n        'Assigned To': 'Sarah Wilson',\n        'Status': 'Pending',\n        'Description': 'Marketing campaign for Q1 product launch.',\n        'Responsible': 'Sarah Wilson',\n        'Accountable': 'Marketing Manager',\n        'Consulted': 'Design Team',\n        'Informed': 'Sales Team',\n        'Trained': 'Marketing Team',\n        'Labels': 'Money, Sale',\n        'Milestones': 'Campaign Design, Launch, Analysis',\n        'Priority': 'Medium',\n        'Complexity': 'Low',\n        'Impact': 'Customer Experience',\n        'Unit': '3',\n        'Target': 'Increase brand awareness by 25%',\n        'Effort Estimate Label': '1 Month',\n        'Make Private': 'No',\n        'Share': 'Yes',\n        'Repeat': 'Yes',\n        'Task is dependent on another task': 'No',\n        'Validation By': 'Marketing Director',\n        'Effort Label': 'Campaign Management',\n        'Checklist': 'Define target audience\\nCreate campaign materials\\nSet up tracking\\nLaunch campaign\\nMonitor performance',\n        'Workflow Guide': '1. Research target audience\\n2. Design campaign materials\\n3. Set up analytics\\n4. Launch campaign\\n5. Monitor and optimize'\n      },\n      {\n        'Title': 'Sample Task 3',\n        'Department': 'Sales',\n        'Task Category': 'Lead Generation',\n        'Project': 'Project Gamma',\n        'Start Date': '2025-01-25',\n        'Due Date': '2025-02-10',\n        'Time Estimate Hours': '0',\n        'Time Estimate Minutes': '45',\n        'Without Due Date': 'No',\n        'Assigned To': 'Mike Johnson',\n        'Status': 'Completed',\n        'Description': 'Generate qualified leads for enterprise sales team.',\n        'Responsible': 'Mike Johnson',\n        'Accountable': 'Sales Manager',\n        'Consulted': 'Marketing Team',\n        'Informed': 'Product Team',\n        'Trained': 'Sales Representatives',\n        'Labels': 'Sale, Daily Operations',\n        'Milestones': 'Lead Research, Outreach, Qualification',\n        'Priority': 'Low',\n        'Complexity': 'High',\n        'Impact': 'Revenue Growth',\n        'Unit': '10',\n        'Target': 'Generate 50 qualified leads',\n        'Effort Estimate Label': '1 Week',\n        'Make Private': 'No',\n        'Share': 'Yes',\n        'Repeat': 'Yes',\n        'Task is dependent on another task': 'No',\n        'Validation By': 'Sales Director',\n        'Effort Label': 'Lead Generation',\n        'Checklist': 'Research potential clients\\nCreate outreach strategy\\nExecute outreach campaign\\nQualify responses\\nHand off to sales team',\n        'Workflow Guide': '1. Research target companies\\n2. Create personalized outreach\\n3. Send initial emails\\n4. Follow up with calls\\n5. Qualify interest level'\n      }\n    ];\n\n    // Convert to CSV\n    const headers = Object.keys(sampleData[0]);\n    const csvContent = [\n      headers.join(','),\n      ...sampleData.map(row => \n        headers.map(header => {\n          const value = row[header];\n          // Escape commas and quotes in CSV\n          if (typeof value === 'string' && (value.includes(',') || value.includes('\"'))) {\n            return `\"${value.replace(/\"/g, '\"\"')}\"`;\n          }\n          return value;\n        }).join(',')\n      )\n    ].join('\\n');\n\n    // Create and download file\n    const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\n    const link = document.createElement('a');\n    const url = URL.createObjectURL(blob);\n    link.setAttribute('href', url);\n    link.setAttribute('download', 'sample_tasks_import.csv');\n    link.style.visibility = 'hidden';\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  // Get status color\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'Completed': return 'bg-green-100 text-green-800';\n      case 'In Progress': return 'bg-blue-100 text-blue-800';\n      case 'Pending': return 'bg-yellow-100 text-yellow-800';\n      case 'On Hold': return 'bg-orange-100 text-orange-800';\n      case 'Cancelled': return 'bg-red-100 text-red-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Get priority color\n  const getPriorityColor = (priority) => {\n    switch (priority) {\n      case 'High': return 'bg-red-100 text-red-800';\n      case 'Medium': return 'bg-yellow-100 text-yellow-800';\n      case 'Low': return 'bg-green-100 text-green-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Get complexity color\n  const getComplexityColor = (complexity) => {\n    switch (complexity) {\n      case 'High': return 'bg-purple-100 text-purple-800';\n      case 'Medium': return 'bg-orange-100 text-orange-800';\n      case 'Low': return 'bg-blue-100 text-blue-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Get impact color\n  const getImpactColor = (impact) => {\n    switch (impact) {\n      case 'Compliance & Risk': return 'bg-red-100 text-red-800';\n      case 'Revenue Growth': return 'bg-green-100 text-green-800';\n      case 'Customer Experience': return 'bg-blue-100 text-blue-800';\n      case 'Cost Reduction': return 'bg-purple-100 text-purple-800';\n      case 'Efficiency & Process': return 'bg-orange-100 text-orange-800';\n      case 'Innovation & Development': return 'bg-indigo-100 text-indigo-800';\n      case 'Knowledge & Training': return 'bg-teal-100 text-teal-800';\n      default: return 'bg-gray-100 text-gray-800';\n    }\n  };\n\n  // Get impact tooltip content\n  const getImpactTooltip = (impact) => {\n    switch (impact) {\n      case 'Compliance & Risk':\n        return 'Essential work that must be done to meet legal, regulatory, or contractual obligations and to avoid penalties or security threats.';\n      case 'Revenue Growth':\n        return 'Tasks that are directly focused on increasing the company\\'s income and sales.';\n      case 'Customer Experience':\n        return 'Tasks aimed at improving customer satisfaction, loyalty, and retention. This focuses on making existing customers happier.';\n      case 'Cost Reduction':\n        return 'Tasks that are directly focused on decreasing the company\\'s expenses and improving profitability.';\n      case 'Efficiency & Process':\n        return 'Work aimed at improving internal workflows, automating manual steps, and saving employee time. It makes the company run smoother.';\n      case 'Innovation & Development':\n        return 'Tasks related to creating entirely new products, services, or capabilities for the future. This is forward-looking, research-and-development work.';\n      case 'Knowledge & Training':\n        return 'Internal tasks focused on upskilling the team, creating documentation, and sharing information across the company.';\n      default:\n        return '';\n    }\n  };\n\n  // Get unique values for filter dropdowns\n  const getUniqueValues = (field) => {\n    const values = (tasks || []).map(task => task[field]).filter(Boolean);\n    return [...new Set(values)];\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-lg\">Loading tasks...</div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-red-600\">{error}</div>\n      </div>\n    );\n  }\n\n  // Debug: Log render\n  console.log(' Tasks component rendering...');\n  \n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Tasks</h1>\n        </div>\n        <div className=\"flex space-x-3\">\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showColumnModal: true })}>\n            <Settings className=\"w-4 h-4 mr-2\" />\n            Customize Columns\n          </Button>\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showTaskCalculationModal: true })}>\n            <Filter className=\"w-4 h-4 mr-2\" />\n            Task Calculation\n          </Button>\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showFilterModal: true })}>\n            <Filter className=\"w-4 h-4 mr-2\" />\n            Filters\n          </Button>\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showExportModal: true })}>\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export Data\n          </Button>\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showImportModal: true })}>\n            <Upload className=\"w-4 h-4 mr-2\" />\n            Import\n          </Button>\n          <Button variant=\"secondary\" onClick={() => updateUiState({ showUpdateModal: true })}>\n            <Edit className=\"w-4 h-4 mr-2\" />\n            Update Tasks\n          </Button>\n          {canCreateTask() && (\n            <Button variant=\"primary\" onClick={handleAdd}>\n              <Plus className=\"w-4 h-4 mr-2\" />\n              Add Task\n            </Button>\n          )}\n        </div>\n      </div>\n\n\n\n      {/* Summary Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <Briefcase className=\"w-8 h-8 text-purple-600 mr-3\" />\n            <div>\n              <div className=\"text-2xl font-bold text-gray-900\">{allFilteredTasks.length}</div>\n              <div className=\"text-sm text-gray-600\">\n                Total Tasks\n                {hasMoreTasks && user?.role !== 'admin' && (\n                  <span className=\"text-blue-600 ml-1\">({totalTasks} total)</span>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <CheckCircle className=\"w-8 h-8 text-green-600 mr-3\" />\n            <div>\n              <div className=\"text-2xl font-bold text-gray-900\">{completedTasks}</div>\n              <div className=\"text-sm text-gray-600\">Completed</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <Clock className=\"w-8 h-8 text-blue-600 mr-3\" />\n            <div>\n              <div className=\"text-2xl font-bold text-gray-900\">{inProgressTasks}</div>\n              <div className=\"text-sm text-gray-600\">In Progress</div>\n            </div>\n          </div>\n        </div>\n        <div className=\"bg-white p-4 rounded-lg shadow\">\n          <div className=\"flex items-center\">\n            <AlertTriangle className=\"w-8 h-8 text-red-600 mr-3\" />\n            <div>\n              <div className=\"text-2xl font-bold text-gray-900\">{overdueTasks}</div>\n              <div className=\"text-sm text-gray-600\">Overdue</div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Active Timer Warning */}\n      {user?.role === 'employee' && getUserActiveTimer() && (\n        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <div className=\"flex items-center\">\n            <AlertTriangle className=\"w-5 h-5 text-yellow-600 mr-2\" />\n            <div className=\"flex-1\">\n              <p className=\"text-sm font-medium text-yellow-800\">\n                You have an active timer on task: \"{getUserActiveTimer().title}\"\n              </p>\n              <p className=\"text-xs text-yellow-700 mt-1\">\n                You can only have one active timer at a time. Stop the current timer before starting a new one.\n              </p>\n            </div>\n            <button\n              onClick={() => stopTimer(getUserActiveTimer().id)}\n              className=\"px-3 py-1 bg-yellow-600 text-white text-xs rounded hover:bg-yellow-700 transition-colors\"\n            >\n              Stop Timer\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Search Bar */}\n      <div className=\"bg-white p-4 rounded-lg shadow\">\n        <div className=\"flex items-center space-x-4\">\n          <div className=\"flex-1\">\n            <div className=\"relative\">\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n              <input\n                type=\"text\"\n                placeholder=\"Search tasks...\"\n                value={searchTerm}\n                onChange={(e) => {\n                  console.log(' Input onChange triggered:', e.target.value);\n                  handleSearch(e.target.value);\n                }}\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n          {selectedTasks.size > 0 && (\n            <div className=\"flex items-center space-x-4\">\n              <div className=\"text-sm text-gray-600\">\n                {selectedTasks.size} task(s) selected\n              </div>\n              <div className=\"relative inline-block text-left\">\n                <div className=\"flex gap-2\">\n                  <Button \n                    variant=\"danger\" \n                    onClick={handleBulkDelete}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    <Trash2 className=\"w-4 h-4\" />\n                    <span>Delete</span>\n                  </Button>\n                  <Button \n                    variant=\"secondary\" \n                    onClick={() => updateUiState({ showBulkStatusModal: true })}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    <span>Actions</span>\n                  </Button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Bulk Status Modal */}\n      {showBulkStatusModal && (\n        <div className=\"fixed inset-0 bg-black/30 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-lg w-full max-w-md p-6\">\n            <div className=\"text-lg font-semibold mb-4\">Change Status for Selected Tasks</div>\n            <div className=\"space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">New Status</label>\n                <select\n                  value={bulkStatus}\n                  onChange={(e) => updateFormState({ bulkStatus: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select...</option>\n                  <option value=\"Pending\">Pending</option>\n                </select>\n              </div>\n              <div className=\"flex justify-end gap-3\">\n                <Button variant=\"secondary\" onClick={() => { updateUiState({ showBulkStatusModal: false }); updateFormState({ bulkStatus: '' }); }}>Cancel</Button>\n                <Button variant=\"primary\" onClick={handleBulkStatusChange}>Save</Button>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Tasks List */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                {columnOrder.map(columnKey => \n                  visibleColumns[columnKey] && (\n                    <th \n                      key={columnKey}\n                      className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                      style={{ width: `${columnWidths[columnKey]}px` }}\n                    >\n                      {columnKey === 'checkbox' ? (\n                        <input \n                          type=\"checkbox\" \n                          className=\"rounded border-gray-300\"\n                          checked={selectAll}\n                          onChange={handleSelectAll}\n                        />\n                      ) : (\n                        getAllColumns().find(col => col.key === columnKey)?.name || columnKey\n                      )}\n                    </th>\n                  )\n                )}\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredTasks.length === 0 ? (\n                <tr>\n                  <td colSpan={Object.values(visibleColumns).filter(Boolean).length} className=\"px-6 py-4 text-center text-gray-500\">\n                    No tasks found\n                  </td>\n                </tr>\n              ) : (\n                filteredTasks.map((task) => (\n                  <tr key={task.id} className=\"hover:bg-gray-50\">\n                    {columnOrder.map(columnKey => \n                      visibleColumns[columnKey] && (\n                        <td key={columnKey} className=\"px-6 py-4\" style={{ width: `${columnWidths[columnKey]}px` }}>\n                          {columnKey === 'checkbox' && (\n                            <input \n                              type=\"checkbox\" \n                              className=\"rounded border-gray-300 cursor-pointer\"\n                              checked={selectedTasks.has(task.id)}\n                              onChange={(e) => {\n                                e.stopPropagation(); // Stop event from bubbling up to the row\n                                handleSelectTask(task.id);\n                              }}\n                              style={{ pointerEvents: 'auto', zIndex: 10 }}\n                            />\n                          )}\n                          {columnKey === 'id' && (\n                            <span className=\"text-sm text-gray-900\">{task.id}</span>\n                          )}\n                          {columnKey === 'title' && (\n                            <div>\n                              <button \n                                onClick={() => handleTaskClick(task)}\n                                className=\"text-sm font-medium text-gray-900 hover:text-blue-600 cursor-pointer text-left\"\n                              >\n                                {task.title}\n                              </button>\n                              {task.description && (\n                                <div className=\"text-sm text-gray-500 truncate max-w-xs\">\n                                  {task.description}\n                                </div>\n                              )}\n                              {task.checklist && (\n                                <div className=\"flex items-center space-x-1 mt-1\">\n                                  {areAllChecklistItemsCompleted(task) ? (\n                                    <>\n                                      <CheckCircle className=\"w-3 h-3 text-green-500\" />\n                                      <span className=\"text-xs text-green-600\">Checklist complete</span>\n                                    </>\n                                  ) : (\n                                    <>\n                                      <AlertTriangle className=\"w-3 h-3 text-yellow-500\" />\n                                      <span className=\"text-xs text-yellow-600\">Checklist incomplete</span>\n                                    </>\n                                  )}\n                                </div>\n                              )}\n                              {!isUnitValid(task) && (\n                                <div className=\"flex items-center space-x-1 mt-1\">\n                                  <AlertTriangle className=\"w-3 h-3 text-red-500\" />\n                                  <span className=\"text-xs text-red-600\">Unit required</span>\n                                </div>\n                              )}\n                            </div>\n                          )}\n                          {columnKey === 'task' && (\n                            <div>\n                              <button \n                                onClick={() => handleTaskClick(task)}\n                                className=\"text-sm font-medium text-gray-900 hover:text-blue-600 cursor-pointer text-left\"\n                              >\n                                {task.title}\n                              </button>\n                              {task.description && (\n                                <div className=\"text-sm text-gray-500 truncate max-w-xs\">\n                                  {task.description}\n                                </div>\n                              )}\n                              {task.checklist && (\n                                <div className=\"flex items-center space-x-1 mt-1\">\n                                  {areAllChecklistItemsCompleted(task) ? (\n                                    <>\n                                      <CheckCircle className=\"w-3 h-3 text-green-500\" />\n                                      <span className=\"text-xs text-green-600\">Checklist complete</span>\n                                    </>\n                                  ) : (\n                                    <>\n                                      <AlertTriangle className=\"w-3 h-3 text-yellow-500\" />\n                                      <span className=\"text-xs text-yellow-600\">Checklist incomplete</span>\n                                    </>\n                                  )}\n                                </div>\n                              )}\n                              {!isUnitValid(task) && (\n                                <div className=\"flex items-center space-x-1 mt-1\">\n                                  <AlertTriangle className=\"w-3 h-3 text-red-500\" />\n                                  <span className=\"text-xs text-red-600\">Unit required</span>\n                                </div>\n                              )}\n                            </div>\n                          )}\n                          {columnKey === 'department' && (\n                            <span className=\"text-sm text-gray-900\">{task.department || '-'}</span>\n                          )}\n                          {columnKey === 'task_category' && (\n                            <span className=\"text-sm text-gray-900\">{task.task_category || '-'}</span>\n                          )}\n                          {columnKey === 'project' && (\n                            <span className=\"text-sm text-gray-900\">{task.project || '-'}</span>\n                          )}\n                          {columnKey === 'start_date' && (\n                            <span className=\"text-sm text-gray-900\">{task.start_date || '-'}</span>\n                          )}\n                          {columnKey === 'due_date' && (\n                            <span className=\"text-sm text-gray-900\">{task.due_date || '-'}</span>\n                          )}\n                          {columnKey === 'without_due_date' && (\n                            <span className=\"text-sm text-gray-900\">{task.without_due_date ? 'Yes' : 'No'}</span>\n                          )}\n                          {columnKey === 'assigned_to' && (\n                            <span className=\"text-sm text-gray-900\">\n                              {task.assigned_to || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'assignedTo' && (\n                            <span className=\"text-sm text-gray-900\">\n                              {task.assigned_to || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'status' && (\n                            <div>\n                              {(user?.role?.toLowerCase() === 'employee' || user?.role?.toLowerCase() === 'admin' || user?.role?.toLowerCase() === 'manager' || user?.role?.toLowerCase() === 'team lead') ? (\n                                <div className=\"relative\">\n                                  <select\n                                    value={task.status}\n                                    onChange={(e) => updateTaskStatus(task.id, e.target.value)}\n                                    className=\"text-xs border border-gray-300 rounded px-2 py-1 focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                                  >\n                                    <option value=\"Pending\">Pending</option>\n                                    <option value=\"In Progress\">In Progress</option>\n                                    <option \n                                      value=\"Completed\" \n                                      disabled={!canTaskBeCompleted(task)}\n                                      className={!canTaskBeCompleted(task) ? 'text-gray-400' : ''}\n                                    >\n                                      {!canTaskBeCompleted(task) ? 'Completed (Requirements not met)' : 'Completed'}\n                                    </option>\n                                    <option value=\"On Hold\">On Hold</option>\n                                    <option value=\"Cancelled\">Cancelled</option>\n                                  </select>\n                                  {!canTaskBeCompleted(task) && task.status !== 'Completed' && (\n                                    <div className=\"absolute -bottom-6 left-0 text-xs text-red-600 whitespace-nowrap\">\n                                      {!areAllChecklistItemsCompleted(task) && !isUnitValid(task) \n                                        ? 'Complete checklist & set unit to complete'\n                                        : !areAllChecklistItemsCompleted(task)\n                                        ? 'Complete checklist to finish'\n                                        : 'Set unit value to complete'\n                                      }\n                                    </div>\n                                  )}\n                                </div>\n                              ) : (\n                                <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(task.status)}`}>\n                                  {task.status}\n                                </span>\n                              )}\n                            </div>\n                          )}\n                          {columnKey === 'description' && (\n                            <span className=\"text-sm text-gray-900 truncate max-w-xs\">{task.description || '-'}</span>\n                          )}\n                          {columnKey === 'responsible' && (\n                            <span className=\"text-sm text-gray-900\">{task.responsible || '-'}</span>\n                          )}\n                          {columnKey === 'accountable' && (\n                            <span className=\"text-sm text-gray-900\">{task.accountable || '-'}</span>\n                          )}\n                          {columnKey === 'consulted' && (\n                            <span className=\"text-sm text-gray-900\">{task.consulted || '-'}</span>\n                          )}\n                          {columnKey === 'informed' && (\n                            <span className=\"text-sm text-gray-900\">{task.informed || '-'}</span>\n                          )}\n                          {columnKey === 'trained' && (\n                            <span className=\"text-sm text-gray-900\">{task.trained || '-'}</span>\n                          )}\n                          {columnKey === 'labels' && (\n                            <span className=\"text-sm text-gray-900\">{task.labels || '-'}</span>\n                          )}\n                          {columnKey === 'label_id' && (\n                            <span className=\"text-sm text-gray-900\">{task.label_id || '-'}</span>\n                          )}\n                          {columnKey === 'milestones' && (\n                            <span className=\"text-sm text-gray-900\">{task.milestones || '-'}</span>\n                          )}\n                          {columnKey === 'priority' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getPriorityColor(task.priority)}`}>\n                              {task.priority}\n                            </span>\n                          )}\n                          {columnKey === 'complexity' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getComplexityColor(task.complexity)}`}>\n                              {task.complexity || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'impact' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getImpactColor(task.impact)}`}>\n                              {task.impact || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'unit' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${task.unit && task.unit > 0 ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'}`}>\n                              {task.unit || 'Not set'}\n                            </span>\n                          )}\n                          {columnKey === 'target' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${task.target ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'}`}>\n                              {task.target || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'effort_estimate_label' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${task.effort_estimate_label ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'}`}>\n                              {task.effort_estimate_label || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'effortEstimate' && (\n                            <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${task.effort_estimate_label ? 'bg-blue-100 text-blue-800' : 'bg-gray-100 text-gray-600'}`}>\n                              {task.effort_estimate_label || '-'}\n                            </span>\n                          )}\n                          {columnKey === 'time_estimate' && (\n                            <div className=\"flex items-center space-x-1\">\n                              <span className=\"text-sm text-gray-900\">\n                                {task.time_estimate_hours || 0}h {task.time_estimate_minutes || 0}m\n                              </span>\n                            </div>\n                          )}\n                          {columnKey === 'make_private' && (\n                            <span className=\"text-sm text-gray-900\">{task.make_private ? 'Yes' : 'No'}</span>\n                          )}\n                          {columnKey === 'share' && (\n                            <span className=\"text-sm text-gray-900\">{task.share ? 'Yes' : 'No'}</span>\n                          )}\n                          {columnKey === 'repeat' && (\n                            <span className=\"text-sm text-gray-900\">{task.repeat ? 'Yes' : 'No'}</span>\n                          )}\n                          {columnKey === 'is_dependent' && (\n                            <span className=\"text-sm text-gray-900\">{task.is_dependent ? 'Yes' : 'No'}</span>\n                          )}\n                          {columnKey === 'validation_by' && (\n                            <span className=\"text-sm text-gray-900\">{task.validation_by || '-'}</span>\n                          )}\n                          {columnKey === 'effort_label' && (\n                            <span className=\"text-sm text-gray-900\">{task.effort_label || '-'}</span>\n                          )}\n                          {columnKey === 'checklist' && (\n                            <span className=\"text-sm text-gray-900\">{task.checklist || '-'}</span>\n                          )}\n                          {columnKey === 'workflow_guide' && (\n                            <span className=\"text-sm text-gray-900\">{task.workflow_guide || '-'}</span>\n                          )}\n                          {columnKey === 'timer_started_at' && (\n                            <span className=\"text-sm text-gray-900\">{task.timer_started_at || '-'}</span>\n                          )}\n                          {columnKey === 'logged_seconds' && (\n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"flex items-center space-x-1\" key={`timer-display-${task.id}-${tick}`}>\n                                <Clock className=\"w-4 h-4 text-gray-500\" />\n                                <span className=\"text-xs font-mono\">{getTimerDisplay(task)}</span>\n                              </div>\n                              {canStopTimer(task) && (activeTimers[task.id] || task.timer_started_at) && (\n                                <div className=\"flex space-x-1\">\n                                  <button\n                                    onClick={() => stopTimer(task.id)}\n                                    className=\"p-1 bg-red-500 text-white rounded hover:bg-red-600\"\n                                    title=\"Stop Timer\"\n                                  >\n                                    <Square className=\"w-3 h-3\" />\n                                  </button>\n                                </div>\n                              )}\n                              {canStartTimer(task) && !activeTimers[task.id] && !task.timer_started_at && (\n                                <div className=\"flex space-x-1\">\n                                  {(() => {\n                                    const userActiveTimer = getUserActiveTimer();\n                                    const canStartTimerNow = !userActiveTimer;\n                                    \n                                    return (\n                                      <button\n                                        onClick={() => startTimer(task.id)}\n                                        className={`p-1 rounded ${\n                                          canStartTimerNow \n                                            ? 'bg-green-500 text-white hover:bg-green-600' \n                                            : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                                        }`}\n                                        title={\n                                          userActiveTimer \n                                            ? `You have an active timer on: ${userActiveTimer.title}`\n                                            : \"Start Timer\"\n                                        }\n                                        disabled={!canStartTimerNow}\n                                      >\n                                        <Play className=\"w-3 h-3\" />\n                                      </button>\n                                    );\n                                  })()}\n                                </div>\n                              )}\n                            </div>\n                          )}\n                          {columnKey === 'timer' && (\n                            <div className=\"flex items-center space-x-2\">\n                              <div className=\"flex items-center space-x-1\" key={`timer-display-${task.id}-${tick}`}>\n                                <Clock className=\"w-4 h-4 text-gray-500\" />\n                                <span className=\"text-xs font-mono\">{getTimerDisplay(task)}</span>\n                              </div>\n                              {canStopTimer(task) && (activeTimers[task.id] || task.timer_started_at) && (\n                                <div className=\"flex space-x-1\">\n                                  <button\n                                    onClick={() => stopTimer(task.id)}\n                                    className=\"p-1 bg-red-500 text-white rounded hover:bg-red-600\"\n                                    title=\"Stop Timer\"\n                                  >\n                                    <Square className=\"w-3 h-3\" />\n                                  </button>\n                                </div>\n                              )}\n                              {canStartTimer(task) && !activeTimers[task.id] && !task.timer_started_at && (\n                                <div className=\"flex space-x-1\">\n                                  {(() => {\n                                    const userActiveTimer = getUserActiveTimer();\n                                    const canStartTimerNow = !userActiveTimer;\n                                    \n                                    return (\n                                      <button\n                                        onClick={() => startTimer(task.id)}\n                                        className={`p-1 rounded ${\n                                          canStartTimerNow \n                                            ? 'bg-green-500 text-white hover:bg-green-600' \n                                            : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                                        }`}\n                                        title={\n                                          userActiveTimer \n                                            ? `You have an active timer on: ${userActiveTimer.title}`\n                                            : \"Start Timer\"\n                                        }\n                                        disabled={!canStartTimerNow}\n                                      >\n                                        <Play className=\"w-3 h-3\" />\n                                      </button>\n                                    );\n                                  })()}\n                                </div>\n                              )}\n                            </div>\n                          )}\n                          {columnKey === 'created_at' && (\n                            <span className=\"text-sm text-gray-900\">{task.created_at || '-'}</span>\n                          )}\n                          {columnKey === 'updated_at' && (\n                            <span className=\"text-sm text-gray-900\">{task.updated_at || '-'}</span>\n                          )}\n                          {columnKey === 'score' && (\n                            <div className=\"flex flex-col items-center space-y-1\">\n                              <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getScoreColor(calculateTaskScore(task))}`}>\n                                {calculateTaskScore(task)}\n                              </span>\n                              <span className=\"text-xs text-gray-500\">\n                                {getScoreCategory(calculateTaskScore(task))}\n                              </span>\n                            </div>\n                          )}\n                          {columnKey === 'actions' && (\n                            <ActionMenu\n                              onSelect={() => handleTaskClick(task)}\n                              onEdit={canEditTask(task) ? () => handleEdit(task) : undefined}\n                              onDelete={canDeleteTask(task) ? () => handleDelete(task.id) : undefined}\n                              itemType=\"task\"\n                            />\n                          )}\n                        </td>\n                      )\n                    )}\n                  </tr>\n                ))\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Load More Button for non-admin users */}\n      {hasMoreTasks && user?.role !== 'admin' && user?.role !== 'Admin' && (\n        <div className=\"mt-6 flex justify-center\">\n          <Button\n            onClick={loadMoreTasks}\n            disabled={loadingMore}\n            className=\"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed\"\n          >\n            {loadingMore ? (\n              <>\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2\"></div>\n                Loading More Tasks...\n              </>\n            ) : (\n              `Load More Tasks (${totalTasks - tasks.length} remaining)`\n            )}\n          </Button>\n        </div>\n      )}\n\n      {/* Add/Edit Task Modal */}\n      <Modal\n        isOpen={showModal}\n        onClose={handleCloseModal}\n        title={editingTask ? 'Edit Task' : 'Add Task'}\n        size=\"xl\"\n      >\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          {/* Task Info Section */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Task Info</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Title</label>\n                <Input\n                  type=\"text\"\n                  placeholder=\"e.g. Title\"\n                  value={formData.title}\n                  onChange={(e) => setFormData({ ...formData, title: e.target.value })}\n                  required\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department</label>\n                <div className=\"flex\">\n                  <select\n                    value={formData.department}\n                    onChange={(e) => setFormData({ ...formData, department: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    {(departments || []).map((dept) => (\n                      <option key={dept.id} value={dept.name}>\n                        {dept.name}\n                      </option>\n                    ))}\n                  </select>\n                  <Button variant=\"secondary\" className=\"rounded-l-none\">\n                    Add\n                  </Button>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Task Category</label>\n                <div className=\"flex\">\n                  <select\n                    value={formData.taskCategory}\n                    onChange={(e) => setFormData({ ...formData, taskCategory: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    <option value=\"Development\">Development</option>\n                    <option value=\"Design\">Design</option>\n                    <option value=\"Testing\">Testing</option>\n                    <option value=\"Documentation\">Documentation</option>\n                  </select>\n                  <Button variant=\"secondary\" className=\"rounded-l-none\">\n                    Add\n                  </Button>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Project</label>\n                <div className=\"flex\">\n                  <select\n                    value={formData.project}\n                    onChange={(e) => setFormData({ ...formData, project: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    <option value=\"Website Redesign\">Website Redesign</option>\n                    <option value=\"Mobile App\">Mobile App</option>\n                    <option value=\"System Upgrade\">System Upgrade</option>\n                  </select>\n                  <Button variant=\"secondary\" className=\"rounded-l-none\">\n                    Add\n                  </Button>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Date</label>\n                <div className=\"relative\">\n                  <Input\n                    type=\"date\"\n                    value={formData.startDate}\n                    onChange={(e) => setFormData({ ...formData, startDate: e.target.value })}\n                  />\n                  <Clock className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Due Date</label>\n                <div className=\"relative\">\n                  <Input\n                    type=\"date\"\n                    value={formData.dueDate}\n                    onChange={(e) => setFormData({ ...formData, dueDate: e.target.value })}\n                    disabled={formData.withoutDueDate}\n                  />\n                  <Clock className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n                </div>\n                <div className=\"mt-2\">\n                  <label className=\"flex items-center\">\n                    <input\n                      type=\"checkbox\"\n                      checked={formData.withoutDueDate}\n                      onChange={(e) => setFormData({ ...formData, withoutDueDate: e.target.checked })}\n                      className=\"rounded border-gray-300\"\n                    />\n                    <span className=\"ml-2 text-sm text-gray-600\">Without due date</span>\n                  </label>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Assigned To</label>\n                <MultiSelect\n                  options={(() => {\n                    const activeEmployees = employees.filter(emp => \n                      emp.status === 'Active' || emp.status === 'active' || emp.status === 1\n                    );\n                    \n                    // Ensure current user is always in the list\n                    const currentUserInList = activeEmployees.find(emp => \n                      emp.name === user?.name || emp.employee_id === user?.id\n                    );\n                    \n                    if (!currentUserInList && user?.name) {\n                      activeEmployees.unshift({\n                        id: user.id || 'current-user',\n                        name: user.name,\n                        employee_id: user.employee_id || user.id || 'current-user',\n                        status: 'Active'\n                      });\n                    }\n                    \n                    return activeEmployees.map(emp => ({\n                      value: emp.id,\n                      label: `${emp.name} (${emp.employee_id})`\n                    }));\n                  })()}\n                  value={formData.assignedTo}\n                  onChange={(value) => setFormData({ ...formData, assignedTo: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n                {/* Debug info removed for production */}\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n                <select\n                  value={formData.status}\n                  onChange={(e) => setFormData({ ...formData, status: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select...</option>\n                  <option value=\"Pending\">Pending</option>\n                  <option value=\"In Progress\">In Progress</option>\n                  <option value=\"Completed\">Completed</option>\n                  <option value=\"On Hold\">On Hold</option>\n                  <option value=\"Cancelled\">Cancelled</option>\n                </select>\n              </div>\n            </div>\n            <div className=\"mt-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Description</label>\n              <textarea\n                value={formData.description}\n                onChange={(e) => setFormData({ ...formData, description: e.target.value })}\n                rows=\"3\"\n                placeholder=\"Add task description...\"\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              />\n            </div>\n          </div>\n\n          {/* RACIT Matrix Section */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">RACIT Matrix</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Responsible</label>\n                <MultiSelect\n                  options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                    value: emp.id,\n                    label: `${emp.name} (${emp.employee_id})`\n                  }))}\n                  value={formData.responsible}\n                  onChange={(value) => setFormData({ ...formData, responsible: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Accountable</label>\n                <MultiSelect\n                  options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                    value: emp.id,\n                    label: `${emp.name} (${emp.employee_id})`\n                  }))}\n                  value={formData.accountable}\n                  onChange={(value) => setFormData({ ...formData, accountable: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Consulted</label>\n                <MultiSelect\n                  options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                    value: emp.id,\n                    label: `${emp.name} (${emp.employee_id})`\n                  }))}\n                  value={formData.consulted}\n                  onChange={(value) => setFormData({ ...formData, consulted: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Informed</label>\n                <MultiSelect\n                  options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                    value: emp.id,\n                    label: `${emp.name} (${emp.employee_id})`\n                  }))}\n                  value={formData.informed}\n                  onChange={(value) => setFormData({ ...formData, informed: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Trained</label>\n                <MultiSelect\n                  options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                    value: emp.id,\n                    label: `${emp.name} (${emp.employee_id})`\n                  }))}\n                  value={formData.trained}\n                  onChange={(value) => setFormData({ ...formData, trained: value })}\n                  placeholder=\"Select employees...\"\n                  searchPlaceholder=\"Search employees...\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Other Details Section */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Other Details</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Label</label>\n                <div className=\"flex\">\n                  <select\n                    value={formData.labels}\n                    onChange={(e) => setFormData({ ...formData, labels: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    {Object.keys(scoringPoints.labels).map(option => (\n                      <option key={option} value={option}>{option}</option>\n                    ))}\n                    {(labels || []).map((label) => (\n                      <option key={label.id} value={label.name}>\n                        {label.name}\n                      </option>\n                    ))}\n                  </select>\n                  <Button variant=\"secondary\" className=\"rounded-l-none\">\n                    Add\n                  </Button>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Milestones</label>\n                <div className=\"flex\">\n                  <select\n                    value={formData.milestones}\n                    onChange={(e) => setFormData({ ...formData, milestones: e.target.value })}\n                    className=\"flex-1 px-3 py-2 border border-gray-300 rounded-l-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    <option value=\"Phase 1\">Phase 1</option>\n                    <option value=\"Phase 2\">Phase 2</option>\n                    <option value=\"Phase 3\">Phase 3</option>\n                  </select>\n                  <Button variant=\"secondary\" className=\"rounded-l-none\">\n                    Add\n                  </Button>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                <select\n                  value={formData.priority}\n                  onChange={(e) => setFormData({ ...formData, priority: e.target.value })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select...</option>\n                  {Object.keys(scoringPoints.priority).map(option => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Time Estimate</label>\n                <div className=\"flex items-center space-x-2\">\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"999\"\n                    value={formData.timeEstimateHours}\n                    onChange={(e) => setFormData({ ...formData, timeEstimateHours: parseInt(e.target.value) || 0 })}\n                    className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"0\"\n                  />\n                  <span className=\"text-sm text-gray-600\">hrs</span>\n                  <input\n                    type=\"number\"\n                    min=\"0\"\n                    max=\"59\"\n                    value={formData.timeEstimateMinutes}\n                    onChange={(e) => setFormData({ ...formData, timeEstimateMinutes: parseInt(e.target.value) || 0 })}\n                    className=\"w-16 px-2 py-1 border border-gray-300 rounded text-center focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    placeholder=\"0\"\n                  />\n                  <span className=\"text-sm text-gray-600\">mins</span>\n                </div>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Complexity</label>\n                <select\n                  value={formData.complexity}\n                  onChange={(e) => {\n                    console.log('Complexity changed to:', e.target.value);\n                    setFormData({ ...formData, complexity: e.target.value });\n                  }}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                >\n                  <option value=\"\">Select...</option>\n                  {Object.keys(scoringPoints.complexity).map(option => (\n                    <option key={option} value={option}>{option}</option>\n                  ))}\n                </select>\n              </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Impact</label>\n                  <select\n                    value={formData.impact}\n                    onChange={(e) => {\n                      console.log('Impact changed to:', e.target.value);\n                      setFormData({ ...formData, impact: e.target.value });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    {Object.keys(scoringPoints.impact).map(option => (\n                      <option key={option} value={option} title={getImpactDescription(option)}>{option}</option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Effort Estimate Label</label>\n                  <select\n                    value={formData.effortEstimateLabel}\n                    onChange={(e) => {\n                      console.log('Effort Estimate Label changed to:', e.target.value);\n                      setFormData({ ...formData, effortEstimateLabel: e.target.value });\n                    }}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  >\n                    <option value=\"\">Select...</option>\n                    {Object.keys(scoringPoints.effort).map(option => (\n                      <option key={option} value={option}>{option}</option>\n                    ))}\n                  </select>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Unit</label>\n                  <input\n                    type=\"number\"\n                    value={formData.unit}\n                    onChange={(e) => setFormData({ ...formData, unit: e.target.value })}\n                    placeholder=\"Enter number of units\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                    min=\"0\"\n                    step=\"0.01\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Target</label>\n                  <input\n                    type=\"text\"\n                    value={formData.target}\n                    onChange={(e) => setFormData({ ...formData, target: e.target.value })}\n                    placeholder=\"Enter target (optional)\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  />\n                </div>\n            </div>\n            <div className=\"mt-4 space-y-2\">\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.makePrivate}\n                  onChange={(e) => setFormData({ ...formData, makePrivate: e.target.checked })}\n                  className=\"rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Make Private</span>\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.share}\n                  onChange={(e) => setFormData({ ...formData, share: e.target.checked })}\n                  className=\"rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Share</span>\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.repeat}\n                  onChange={(e) => setFormData({ ...formData, repeat: e.target.checked })}\n                  className=\"rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Repeat</span>\n              </label>\n              <label className=\"flex items-center\">\n                <input\n                  type=\"checkbox\"\n                  checked={formData.isDependent}\n                  onChange={(e) => setFormData({ ...formData, isDependent: e.target.checked })}\n                  className=\"rounded border-gray-300\"\n                />\n                <span className=\"ml-2 text-sm text-gray-600\">Task is dependent on another task</span>\n              </label>\n            </div>\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Validation By</label>\n                <Input\n                  type=\"text\"\n                  placeholder=\"e.g. Validation By\"\n                  value={formData.validationBy}\n                  onChange={(e) => setFormData({ ...formData, validationBy: e.target.value })}\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Effort Label</label>\n                <Input\n                  type=\"text\"\n                  placeholder=\"e.g. Effort Label\"\n                  value={formData.effortLabel}\n                  onChange={(e) => setFormData({ ...formData, effortLabel: e.target.value })}\n                />\n              </div>\n            </div>\n            <div className=\"mt-4 space-y-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Checklist</label>\n                <textarea\n                  value={formData.checklist}\n                  onChange={(e) => setFormData({ ...formData, checklist: e.target.value })}\n                  rows=\"3\"\n                  placeholder=\"Add checklist items, one per line.\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <p className=\"mt-1 text-xs text-gray-500\">Enter each checklist item on a new line</p>\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Workflow Guide</label>\n                <textarea\n                  value={formData.workflowGuide}\n                  onChange={(e) => setFormData({ ...formData, workflowGuide: e.target.value })}\n                  rows=\"3\"\n                  placeholder=\"Add workflow guidance, one step per line.\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-3\">\n            <Button variant=\"secondary\" onClick={handleCloseModal}>\n              Cancel\n            </Button>\n            <Button variant=\"primary\" type=\"submit\">\n              Save & Add More\n            </Button>\n            <Button variant=\"primary\" type=\"submit\">\n              Save Task\n            </Button>\n          </div>\n        </form>\n      </Modal>\n\n      {/* Import Modal */}\n      <Modal\n        isOpen={showImportModal}\n        onClose={() => updateUiState({ showImportModal: false })}\n        title=\"Import Tasks\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          {importResult ? (\n            <div className={`p-4 rounded-md ${\n              importResult.errorCount > 0 ? 'bg-yellow-50 border border-yellow-200' : 'bg-green-50 border border-green-200'\n            }`}>\n              <div className=\"text-sm\">\n                <div className=\"font-medium\">\n                  {importResult.errorCount > 0 ? 'Import completed with errors' : 'Import completed successfully'}\n                </div>\n                <div className=\"mt-1\">{importResult.message}</div>\n                {importResult.errors && (\n                  <div className=\"mt-2\">\n                    <div className=\"font-medium text-sm\">Errors:</div>\n                    <ul className=\"list-disc list-inside text-xs mt-1\">\n                      {importResult.errors.map((error, index) => (\n                        <li key={index}>{error}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"text-sm text-gray-600\">\n                <p>Upload an Excel file (.xlsx) or CSV file with the following columns:</p>\n                <ul className=\"list-disc list-inside mt-2 space-y-1\">\n                  <li><strong>Title</strong> (required) - Task title</li>\n                  <li><strong>Department</strong> - Department name</li>\n                  <li><strong>Task Category</strong> - Task category</li>\n                  <li><strong>Project</strong> - Project name</li>\n                  <li><strong>Start Date</strong> - Start date (YYYY-MM-DD)</li>\n                  <li><strong>Due Date</strong> - Due date (YYYY-MM-DD)</li>\n                  <li><strong>Without Due Date</strong> - Yes/No</li>\n                  <li><strong>Assigned To</strong> - Person assigned to the task</li>\n                  <li><strong>Status</strong> - Pending, In Progress, Completed, On Hold, Cancelled</li>\n                  <li><strong>Description</strong> - Task description</li>\n                  <li><strong>Responsible</strong> - RACI matrix - Responsible person</li>\n                  <li><strong>Accountable</strong> - RACI matrix - Accountable person</li>\n                  <li><strong>Consulted</strong> - RACI matrix - Consulted person</li>\n                  <li><strong>Informed</strong> - RACI matrix - Informed person</li>\n                  <li><strong>Trained</strong> - RACI matrix - Trained person</li>\n                  <li><strong>Labels</strong> - Task labels (comma-separated)</li>\n                  <li><strong>Milestones</strong> - Task milestones</li>\n                  <li><strong>Priority</strong> - Low, Medium, High</li>\n                  <li><strong>Complexity</strong> - Low, Medium, High</li>\n                  <li><strong>Impact</strong> - Compliance & Risk, Revenue Growth, Customer Experience, Cost Reduction, Efficiency & Process, Innovation & Development, Knowledge & Training</li>\n                  <li><strong>Unit</strong> - Numeric value for task completion</li>\n                  <li><strong>Target</strong> - Target description</li>\n                  <li><strong>Effort Estimate Label</strong> - 1 Day, 1 Week, 1 Month</li>\n                  <li><strong>Make Private</strong> - Yes/No</li>\n                  <li><strong>Share</strong> - Yes/No</li>\n                  <li><strong>Repeat</strong> - Yes/No</li>\n                  <li><strong>Task is dependent on another task</strong> - Yes/No</li>\n                  <li><strong>Validation By</strong> - Person who validates the task</li>\n                  <li><strong>Effort Label</strong> - Effort category</li>\n                  <li><strong>Checklist</strong> - Checklist items (one per line)</li>\n                  <li><strong>Workflow Guide</strong> - Workflow steps (one per line)</li>\n                </ul>\n                <div className=\"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-md\">\n                  <p className=\"text-blue-800 text-xs\">\n                    <strong>Note:</strong> For a complete list of all available columns and sample data, \n                    download the sample file below.\n                  </p>\n                </div>\n              </div>\n              \n              {/* Download Sample File Section */}\n              <div className=\"border-t pt-4\">\n                <div className=\"flex items-center justify-between\">\n                  <div>\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-1\">Sample Import File</h4>\n                    <p className=\"text-xs text-gray-500\">Download a CSV file with all columns and sample data</p>\n                  </div>\n                  <Button \n                    variant=\"secondary\" \n                    onClick={handleDownloadSample}\n                    className=\"flex items-center space-x-2\"\n                  >\n                    <Download className=\"w-4 h-4\" />\n                    <span>Download Sample</span>\n                  </Button>\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select File</label>\n                <input\n                  type=\"file\"\n                  accept=\".xlsx,.xls,.csv\"\n                  onChange={(e) => updateFormState({ selectedFile: e.target.files[0] })}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n              </div>\n              <div className=\"flex justify-end space-x-3\">\n                <Button variant=\"secondary\" onClick={() => updateUiState({ showImportModal: false })} disabled={importLoading}>\n                  Cancel\n                </Button>\n                <Button variant=\"primary\" onClick={handleImport} disabled={!selectedFile || importLoading}>\n                  {importLoading ? 'Importing...' : 'Import Tasks'}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </Modal>\n\n      {/* Filter Modal */}\n      <Modal\n        isOpen={showFilterModal}\n        onClose={() => updateUiState({ showFilterModal: false })}\n        title=\"Filters\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Department</label>\n              <select\n                value={filterDepartment}\n                onChange={(e) => startTransition(() => updateFilterState({ department: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                {(departments || []).map((dept) => (\n                  <option key={dept.id} value={dept.name}>{dept.name}</option>\n                ))}\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Status</label>\n              <select\n                value={filterStatus}\n                onChange={(e) => startTransition(() => updateFilterState({ status: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                <option value=\"Pending\">Pending</option>\n                <option value=\"In Progress\">In Progress</option>\n                <option value=\"Completed\">Completed</option>\n                <option value=\"Cancelled\">Cancelled</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Assigned To</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterAssignedTo}\n                onChange={(value) => startTransition(() => updateFilterState({ assignedTo: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n              <select\n                value={filterPriority}\n                onChange={(e) => startTransition(() => updateFilterState({ priority: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                <option value=\"High\">High</option>\n                <option value=\"Medium\">Medium</option>\n                <option value=\"Low\">Low</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Complexity</label>\n              <select\n                value={filterComplexity}\n                onChange={(e) => startTransition(() => updateFilterState({ complexity: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                <option value=\"High\">High</option>\n                <option value=\"Medium\">Medium</option>\n                <option value=\"Low\">Low</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Impact</label>\n              <select\n                value={filterImpact}\n                onChange={(e) => startTransition(() => updateFilterState({ impact: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                <option value=\"Compliance & Risk\" title=\"Essential work that must be done to meet legal, regulatory, or contractual obligations and to avoid penalties or security threats.\">Compliance & Risk</option>\n                <option value=\"Revenue Growth\" title=\"Tasks that are directly focused on increasing the company's income and sales.\">Revenue Growth</option>\n                <option value=\"Customer Experience\" title=\"Tasks aimed at improving customer satisfaction, loyalty, and retention. This focuses on making existing customers happier.\">Customer Experience</option>\n                <option value=\"Cost Reduction\" title=\"Tasks that are directly focused on decreasing the company's expenses and improving profitability.\">Cost Reduction</option>\n                <option value=\"Efficiency & Process\" title=\"Work aimed at improving internal workflows, automating manual steps, and saving employee time. It makes the company run smoother.\">Efficiency & Process</option>\n                <option value=\"Innovation & Development\" title=\"Tasks related to creating entirely new products, services, or capabilities for the future. This is forward-looking, research-and-development work.\">Innovation & Development</option>\n                <option value=\"Knowledge & Training\" title=\"Internal tasks focused on upskilling the team, creating documentation, and sharing information across the company.\">Knowledge & Training</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Effort Estimate Label</label>\n              <select\n                value={filterEffortEstimateLabel}\n                onChange={(e) => startTransition(() => updateFilterState({ effortEstimateLabel: e.target.value }))}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n              >\n                <option value=\"\">Select...</option>\n                <option value=\"1 Day\">1 Day</option>\n                <option value=\"1 Week\">1 Week</option>\n                <option value=\"1 Month\">1 Month</option>\n              </select>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Unit</label>\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"number\"\n                  value={filterUnit}\n                  onChange={(e) => startTransition(() => updateFilterState({ unit: e.target.value }))}\n                  placeholder=\"Filter by unit value\"\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  step=\"0.01\"\n                />\n                <button\n                  onClick={() => updateFilterState({ unit: '' })}\n                  className=\"px-3 py-2 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors\"\n                >\n                  Clear\n                </button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Target</label>\n              <div className=\"flex space-x-2\">\n                <input\n                  type=\"text\"\n                  value={filterTarget}\n                  onChange={(e) => startTransition(() => updateFilterState({ target: e.target.value }))}\n                  placeholder=\"Filter by target text\"\n                  className=\"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                />\n                <button\n                  onClick={() => updateFilterState({ target: '' })}\n                  className=\"px-3 py-2 bg-gray-100 text-gray-600 rounded-md hover:bg-gray-200 transition-colors\"\n                >\n                  Clear\n                </button>\n              </div>\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Label</label>\n              <MultiSelect\n                options={(labels || []).map((label) => ({\n                  value: label.name,\n                  label: label.name\n                }))}\n                value={filterLabels}\n                onChange={(value) => startTransition(() => updateFilterState({ labels: value }))}\n                placeholder=\"Select labels...\"\n                searchPlaceholder=\"Search labels...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Responsible</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterResponsible}\n                onChange={(value) => startTransition(() => updateFilterState({ responsible: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Accountable</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterAccountable}\n                onChange={(value) => startTransition(() => updateFilterState({ accountable: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Consulted</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterConsulted}\n                onChange={(value) => startTransition(() => updateFilterState({ consulted: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Informed</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterInformed}\n                onChange={(value) => startTransition(() => updateFilterState({ informed: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Trained</label>\n              <MultiSelect\n                options={employees.filter(emp => emp.status === 'Active').map(emp => ({\n                  value: emp.id,\n                  label: `${emp.name} (${emp.employee_id})`\n                }))}\n                value={filterTrained}\n                onChange={(value) => startTransition(() => updateFilterState({ trained: value }))}\n                placeholder=\"Select employees...\"\n                searchPlaceholder=\"Search employees...\"\n              />\n            </div>\n          </div>\n          <div className=\"flex justify-end space-x-3\">\n            <Button variant=\"secondary\" onClick={handleClearFilters}>\n              Clear Filters\n            </Button>\n            <Button variant=\"primary\" onClick={handleApplyFilters}>\n              Apply Filters\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Export Modal */}\n      <Modal\n        isOpen={showExportModal}\n        onClose={() => updateUiState({ showExportModal: false })}\n        title=\"Export Tasks\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          <div>\n            <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Export Format</h3>\n            <p className=\"text-sm text-gray-600 mb-4\">Choose the format for your task export:</p>\n          </div>\n          \n          <div className=\"space-y-3\">\n            <div className=\"flex items-center space-x-3\">\n              <input\n                type=\"radio\"\n                id=\"csv-format\"\n                name=\"export-format\"\n                value=\"csv\"\n                defaultChecked\n                className=\"w-4 h-4 text-blue-600\"\n              />\n              <label htmlFor=\"csv-format\" className=\"text-sm font-medium text-gray-700\">\n                CSV (Comma Separated Values)\n              </label>\n            </div>\n            <div className=\"flex items-center space-x-3\">\n              <input\n                type=\"radio\"\n                id=\"excel-format\"\n                name=\"export-format\"\n                value=\"excel\"\n                className=\"w-4 h-4 text-blue-600\"\n              />\n              <label htmlFor=\"excel-format\" className=\"text-sm font-medium text-gray-700\">\n                Excel (.xlsx)\n              </label>\n            </div>\n          </div>\n          \n          <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-blue-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <h3 className=\"text-sm font-medium text-blue-800\">Export Information</h3>\n                <div className=\"mt-2 text-sm text-blue-700\">\n                  <p>The export will include all task data including:</p>\n                  <ul className=\"list-disc list-inside mt-1\">\n                    <li>Task details (title, description, status, priority)</li>\n                    <li>Assignment information (assigned employees, department)</li>\n                    <li>Time estimates and scoring data</li>\n                    <li>Dates and timestamps</li>\n                  </ul>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"flex justify-end space-x-3\">\n            <Button variant=\"secondary\" onClick={() => updateUiState({ showExportModal: false })}>\n              Cancel\n            </Button>\n            <Button \n              variant=\"primary\" \n              onClick={() => {\n                const checkedRadio = document.querySelector('input[name=\"export-format\"]:checked');\n                const format = checkedRadio ? checkedRadio.value : 'csv';\n                handleExport(format);\n              }}\n            >\n              <Download className=\"w-4 h-4 mr-2\" />\n              Export Tasks\n            </Button>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Update Tasks Modal */}\n      <Modal\n        isOpen={showUpdateModal}\n        onClose={() => updateUiState({ showUpdateModal: false })}\n        title=\"Update Existing Tasks\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          {importResult ? (\n            <div className={`p-4 rounded-md ${\n              importResult.errorCount > 0 ? 'bg-yellow-50 border border-yellow-200' : 'bg-green-50 border border-green-200'\n            }`}>\n              <div className=\"text-sm\">\n                <div className=\"font-medium\">\n                  {importResult.errorCount > 0 ? 'Update completed with errors' : 'Update completed successfully'}\n                </div>\n                <div className=\"mt-1\">{importResult.message}</div>\n                {importResult.errors && (\n                  <div className=\"mt-2\">\n                    <div className=\"font-medium text-sm\">Errors:</div>\n                    <ul className=\"list-disc list-inside text-sm mt-1\">\n                      {importResult.errors.map((error, index) => (\n                        <li key={index} className=\"text-red-600\">{error}</li>\n                      ))}\n                    </ul>\n                  </div>\n                )}\n              </div>\n            </div>\n          ) : (\n            <>\n              <div>\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-2\">Update Instructions</h3>\n                <div className=\"p-4 bg-gray-50 rounded-lg border\">\n                  <p className=\"text-sm text-gray-600 mb-2\">\n                    Upload a file with existing task data to update. The file must include a \"Task ID\" column \n                    to identify which tasks to update. Only the fields you provide will be updated.\n                  </p>\n                  <div className=\"mt-3\">\n                    <h4 className=\"text-sm font-medium text-gray-700 mb-1\">Supported Fields:</h4>\n                    <div className=\"text-xs text-gray-600 grid grid-cols-2 gap-1\">\n                      <span> Title</span>\n                      <span> Description</span>\n                      <span> Status</span>\n                      <span> Priority</span>\n                      <span> Complexity</span>\n                      <span> Impact</span>\n                      <span> Unit</span>\n                      <span> Target</span>\n                      <span> Effort Estimate</span>\n                      <span> Time Estimate (Hours)</span>\n                      <span> Time Estimate (Minutes)</span>\n                      <span> Due Date</span>\n                      <span> Start Date</span>\n                      <span> Assigned To</span>\n                      <span> Department</span>\n                      <span> Labels</span>\n                      <span> Checklist</span>\n                      <span> Workflow Guide</span>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Upload File</label>\n                <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n                  <div className=\"space-y-1 text-center\">\n                    <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\n                    <div className=\"flex text-sm text-gray-600\">\n                      <label htmlFor=\"update-file-upload\" className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-offset-2 focus-within:ring-indigo-500\">\n                        <span>{selectedFile ? selectedFile.name : 'Select a file'}</span>\n                        <input \n                          id=\"update-file-upload\" \n                          name=\"update-file-upload\" \n                          type=\"file\" \n                          className=\"sr-only\" \n                          onChange={(e) => updateFormState({ selectedFile: e.target.files[0] })} \n                          accept=\".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel\" \n                        />\n                      </label>\n                      <p className=\"pl-1\">{!selectedFile && 'or drag and drop'}</p>\n                    </div>\n                    <p className=\"text-xs text-gray-500\">CSV, XLSX, or XLS files only</p>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end space-x-3\">\n                <Button variant=\"secondary\" onClick={() => updateUiState({ showUpdateModal: false })} disabled={importLoading}>\n                  Cancel\n                </Button>\n                <Button variant=\"primary\" onClick={handleUpdateTasks} disabled={!selectedFile || importLoading}>\n                  {importLoading ? 'Updating...' : 'Update Tasks'}\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </Modal>\n\n      {/* Task Detail Modal */}\n      {showDetailModal && selectedTask && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-6xl h-[95vh] overflow-y-auto\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200 bg-white sticky top-0 z-10\">\n              <div className=\"flex items-center space-x-4\">\n                <div>\n                  <h2 className=\"text-xl font-semibold text-gray-900\">{selectedTask.title}</h2>\n                  <p className=\"text-sm text-gray-500\">Task ID: {selectedTask.id}</p>\n                </div>\n              </div>\n              <div className=\"flex items-center space-x-2\">\n                <button\n                  onClick={() => updateTaskStatus(selectedTask.id, 'Completed')}\n                  disabled={!canTaskBeCompleted(selectedTask)}\n                  className={`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${\n                    canTaskBeCompleted(selectedTask)\n                      ? 'bg-green-500 text-white hover:bg-green-600'\n                      : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                  }`}\n                  title={\n                    canTaskBeCompleted(selectedTask)\n                      ? \"Mark task as complete\"\n                      : !areAllChecklistItemsCompleted(selectedTask) && !isUnitValid(selectedTask)\n                      ? \"Cannot complete: Both checklist items and unit value must be completed\"\n                      : !areAllChecklistItemsCompleted(selectedTask)\n                      ? \"Cannot complete: All checklist items must be completed first\"\n                      : \"Cannot complete: Unit value must be set\"\n                  }\n                >\n                  <CheckCircle className=\"w-4 h-4\" />\n                  <span>Mark As Complete</span>\n                </button>\n                {(() => {\n                  const isTimerActive = activeTimers[selectedTask.id] || selectedTask.timer_started_at;\n                  const userActiveTimer = getUserActiveTimer();\n                  const canStartTimerNow = canStartTimer(selectedTask) && !userActiveTimer;\n                  const canStopTimerNow = canStopTimer(selectedTask) && isTimerActive;\n                  \n                  // Only show timer button if user has any timer permissions\n                  if (!canStartTimer(selectedTask) && !canStopTimer(selectedTask)) {\n                    return null;\n                  }\n                  \n                  return (\n                    <button\n                      onClick={() => isTimerActive ? stopTimerWithMemo(selectedTask.id) : startTimer(selectedTask.id)}\n                      className={`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${\n                        isTimerActive \n                          ? 'bg-red-500 text-white hover:bg-red-600' \n                          : canStartTimerNow\n                            ? 'bg-blue-500 text-white hover:bg-blue-600'\n                            : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                      }`}\n                      disabled={!canStartTimerNow && !canStopTimerNow}\n                      title={\n                        userActiveTimer && !isTimerActive\n                          ? `You have an active timer on: ${userActiveTimer.title}`\n                          : isTimerActive\n                            ? \"Stop Timer\"\n                            : \"Start Timer\"\n                      }\n                    >\n                      {isTimerActive ? (\n                        <>\n                          <Square className=\"w-4 h-4\" />\n                          <span>Stop Timer</span>\n                        </>\n                      ) : (\n                        <>\n                          <Play className=\"w-4 h-4\" />\n                          <span>Start Timer</span>\n                        </>\n                      )}\n                    </button>\n                  );\n                })()}\n                <button\n                  onClick={closeDetailModal}\n                  className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n                >\n                  <X className=\"w-5 h-5 text-gray-500\" />\n                </button>\n              </div>\n            </div>\n\n            {/* Main Content */}\n            <div className=\"flex min-h-[calc(95vh-120px)]\">\n              {/* Left Side - Task Details */}\n              <div className=\"w-2/3 p-6 border-r border-gray-200\">\n                {/* Task Properties */}\n                <div className=\"space-y-6\">\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Project</label>\n                      <p className=\"text-gray-900\">{selectedTask.project || '-'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Priority</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.priority === 'High' ? 'bg-red-500' : selectedTask.priority === 'Medium' ? 'bg-yellow-500' : 'bg-green-500'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.priority || 'Medium'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Complexity</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.complexity === 'High' ? 'bg-purple-500' : selectedTask.complexity === 'Medium' ? 'bg-orange-500' : 'bg-blue-500'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.complexity || 'Low'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Impact</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.impact === 'Compliance & Risk' ? 'bg-red-500' : selectedTask.impact === 'Revenue Growth' ? 'bg-green-500' : selectedTask.impact === 'Customer Experience' ? 'bg-blue-500' : selectedTask.impact === 'Cost Reduction' ? 'bg-purple-500' : selectedTask.impact === 'Efficiency & Process' ? 'bg-orange-500' : selectedTask.impact === 'Innovation & Development' ? 'bg-indigo-500' : selectedTask.impact === 'Knowledge & Training' ? 'bg-teal-500' : 'bg-gray-400'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.impact || 'Not set'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Effort Estimate Label</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.effort_estimate_label ? 'bg-blue-500' : 'bg-gray-400'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.effort_estimate_label || 'Not set'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Unit</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.unit && selectedTask.unit > 0 ? 'bg-green-500' : 'bg-red-500'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.unit || 'Not set'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Target</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className={`w-3 h-3 rounded-full ${selectedTask.target ? 'bg-blue-500' : 'bg-gray-400'}`}></div>\n                        <span className=\"text-gray-900\">{selectedTask.target || 'Not set'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Assigned To</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          {selectedTask.assigned_to ? selectedTask.assigned_to.charAt(0).toUpperCase() : 'U'}\n                        </div>\n                        <span className=\"text-gray-900\">{selectedTask.assigned_to || 'Unassigned'}</span>\n                      </div>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Short Code</label>\n                      <p className=\"text-gray-900\">-</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Milestones</label>\n                      <p className=\"text-gray-900\">{selectedTask.milestones || '-'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Assigned By</label>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-black rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          A\n                        </div>\n                        <span className=\"text-gray-900\">Admin</span>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Label</label>\n                    <span className=\"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                      {selectedTask.labels || 'No Label'}\n                    </span>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Task Category</label>\n                    <p className=\"text-gray-900\">{selectedTask.task_category || 'General'}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Description</label>\n                    <p className=\"text-gray-900\">{selectedTask.description || '-'}</p>\n                  </div>\n\n                  {/* Checklist Section */}\n                  {selectedTask.checklist && (\n                    <div>\n                      <div className=\"flex items-center justify-between mb-2\">\n                        <label className=\"text-sm font-medium text-gray-700\">Checklist</label>\n                        {areAllChecklistItemsCompleted(selectedTask) ? (\n                          <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n                            <CheckCircle className=\"w-3 h-3 mr-1\" />\n                            Complete\n                          </span>\n                        ) : (\n                          <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full\">\n                            <AlertTriangle className=\"w-3 h-3 mr-1\" />\n                            Incomplete\n                          </span>\n                        )}\n                      </div>\n                      <div className={`rounded-lg p-4 ${areAllChecklistItemsCompleted(selectedTask) ? 'bg-green-50 border border-green-200' : 'bg-yellow-50 border border-yellow-200'}`}>\n                        {selectedTask.checklist.split('\\n').filter(item => item.trim() !== '').map((item, index) => (\n                          <div key={index} className=\"flex items-center space-x-2 mb-2\">\n                            <input\n                              type=\"checkbox\"\n                              checked={isChecklistItemCompleted(selectedTask.id, index)}\n                              onChange={() => handleChecklistItemToggle(selectedTask.id, index)}\n                              className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n                            />\n                            <span className={`${isChecklistItemCompleted(selectedTask.id, index) ? 'line-through text-gray-500' : !areAllChecklistItemsCompleted(selectedTask) ? 'text-yellow-800' : 'text-gray-900'}`}>\n                              {item.trim()}\n                            </span>\n                          </div>\n                        ))}\n                        {!areAllChecklistItemsCompleted(selectedTask) && (\n                          <div className=\"mt-3 p-2 bg-yellow-100 rounded text-xs text-yellow-800\">\n                             All checklist items must be completed before marking this task as complete.\n                          </div>\n                        )}\n                        {areAllChecklistItemsCompleted(selectedTask) && (\n                          <div className=\"mt-3 p-2 bg-green-100 rounded text-xs text-green-800\">\n                             All checklist items completed! You can now mark this task as complete.\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Subtasks Section - Placed after checklist */}\n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700 mb-2 block\">Subtasks</label>\n                    <div className=\"space-y-2\">\n                      {Array.isArray(taskSubtasks) ? taskSubtasks.map((subtask) => (\n                        <div key={subtask.id} className=\"flex items-center space-x-3 p-2 bg-gray-50 rounded-lg\">\n                          <input\n                            type=\"checkbox\"\n                            checked={subtask.completed}\n                            onChange={() => handleSubtaskToggle(subtask.id)}\n                            className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n                          />\n                          <span className={`flex-1 ${subtask.completed ? 'line-through text-gray-500' : 'text-gray-900'}`}>\n                            {subtask.title}\n                          </span>\n                        </div>\n                      )) : null}\n                    </div>\n                  </div>\n\n                                    {/* Unit Validation Section */}\n                  <div>\n                    <div className=\"flex items-center justify-between mb-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Unit Value</label>\n                      <div className=\"flex items-center space-x-2\">\n                        {selectedTask.unit && parseFloat(selectedTask.unit) > 0 && (\n                          <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full\">\n                            <span className=\"w-2 h-2 bg-blue-500 rounded-full mr-1\"></span>\n                            Editable\n                          </span>\n                        )}\n                        {isUnitValid(selectedTask) ? (\n                          <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium bg-green-100 text-green-800 rounded-full\">\n                            <CheckCircle className=\"w-3 h-3 mr-1\" />\n                            Valid\n                          </span>\n                        ) : (\n                          <span className=\"inline-flex items-center px-2 py-1 text-xs font-medium bg-red-100 text-red-800 rounded-full\">\n                            <AlertTriangle className=\"w-3 h-3 mr-1\" />\n                            Required\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className={`rounded-lg p-4 ${isUnitValid(selectedTask) ? 'bg-green-50 border border-green-200' : 'bg-red-50 border border-red-200'}`}>\n                      <div className=\"flex items-center space-x-4\">\n                        <div className=\"flex-1\">\n                          <label className=\"block text-sm font-medium text-gray-700 mb-2\">Enter Unit Value</label>\n                          <input\n                            type=\"number\"\n                            value={selectedTask?.unit || ''}\n                            onChange={(e) => {\n                              const newValue = e.target.value;\n                              console.log('Unit input changed:', newValue);\n                              // Update the selectedTask directly using setUiState\n                              setUiState(prev => {\n                                const updated = {\n                                  ...prev,\n                                  selectedTask: {\n                                    ...prev.selectedTask,\n                                    unit: newValue\n                                  }\n                                };\n                                console.log('Updated state:', updated);\n                                return updated;\n                              });\n                            }}\n                            placeholder=\"Enter number of units\"\n                            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                            min=\"0\"\n                            step=\"0.01\"\n                          />\n                          <button\n                            onClick={async () => {\n                              try {\n                                                                 const response = await fetch(`/api/tasks/${selectedTask.id}`, {\n                                  method: 'PUT',\n                                  headers: {\n                                    'Content-Type': 'application/json',\n                                  },\n                                  body: JSON.stringify({\n                                    unit: selectedTask.unit,\n                                    user_name: user?.name || 'Admin',\n                                    user_id: user?.id || 1\n                                  }),\n                                });\n                                \n                                if (response.ok) {\n                                  // Update the local state immediately with the new unit value\n                                  updateUiState(prev => ({\n                                    ...prev,\n                                    selectedTask: {\n                                      ...prev.selectedTask,\n                                      unit: selectedTask.unit\n                                    }\n                                  }));\n                                  \n                                  // Also update the task in the tasks array\n                                  updateDataState({ \n                                    tasks: tasks.map(task => \n                                      task.id === selectedTask.id \n                                        ? { ...task, unit: selectedTask.unit }\n                                        : task\n                                    )\n                                  });\n                                  \n                                  // Show success message\n                                  alert('Unit value saved successfully!');\n                                } else {\n                                  alert('Failed to update unit value');\n                                }\n                              } catch (error) {\n                                console.error('Error updating unit value:', error);\n                                alert('Failed to update unit value');\n                              }\n                            }}\n                            disabled={!selectedTask.unit || parseFloat(selectedTask.unit) <= 0}\n                            className=\"mt-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors\"\n                          >\n                            Save Unit Value\n                          </button>\n                        </div>\n                        <div className=\"flex flex-col items-center\">\n                          <span className=\"text-sm font-medium text-gray-700 mb-1\">Current Value:</span>\n                          <span className={`text-lg font-bold ${isUnitValid(selectedTask) ? 'text-green-800' : 'text-red-800'}`}>\n                            {selectedTask.unit || 'Not set'}\n                          </span>\n                        </div>\n                      </div>\n                      {!isUnitValid(selectedTask) && (\n                        <div className=\"mt-3 p-2 bg-red-100 rounded text-xs text-red-800\">\n                           Unit value must be set to a number greater than 0 before marking this task as complete.\n                        </div>\n                      )}\n                      {isUnitValid(selectedTask) && (\n                        <div className=\"mt-3 p-2 bg-green-100 rounded text-xs text-green-800\">\n                           Unit value is valid! You can now mark this task as complete.\n                        </div>\n                      )}\n                    </div>\n                  </div>\n\n                  {/* Workflow Guide Section */}\n                  {selectedTask.workflow_guide && (\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700 mb-2 block\">Workflow Guide</label>\n                      <div className=\"bg-gray-50 rounded-lg p-4\">\n                        {selectedTask.workflow_guide.split('\\n').map((step, index) => (\n                          <div key={index} className=\"flex items-start space-x-2 mb-2\">\n                            <span className=\"w-6 h-6 bg-blue-500 text-white rounded-full flex items-center justify-center text-xs font-medium mt-0.5\">\n                              {index + 1}\n                            </span>\n                            <span className=\"text-gray-900\">{step.trim()}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n\n                  {/* Additional Details */}\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Validation By</label>\n                      <p className=\"text-gray-900\">{selectedTask.validation_by || '-'}</p>\n                    </div>\n                    <div>\n                      <label className=\"text-sm font-medium text-gray-700\">Effort Label</label>\n                      <p className=\"text-gray-900\">{selectedTask.effort_label || '-'}</p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* RACI Matrix */}\n                <div className=\"mt-8\">\n                  <h3 className=\"text-lg font-medium text-gray-900 mb-4\">RACIT Matrix</h3>\n                  <div className=\"grid grid-cols-4 gap-4\">\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Responsible</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          {selectedTask.responsible ? selectedTask.responsible.charAt(0).toUpperCase() : 'R'}\n                        </div>\n                        <span className=\"text-sm text-gray-900\">{selectedTask.responsible || 'Unassigned'}</span>\n                      </div>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Accountable</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          {selectedTask.accountable ? selectedTask.accountable.charAt(0).toUpperCase() : 'A'}\n                        </div>\n                        <span className=\"text-sm text-gray-900\">{selectedTask.accountable || 'Unassigned'}</span>\n                      </div>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Consulted</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          {selectedTask.consulted ? selectedTask.consulted.charAt(0).toUpperCase() : 'C'}\n                        </div>\n                        <span className=\"text-sm text-gray-900\">{selectedTask.consulted || 'Unassigned'}</span>\n                      </div>\n                    </div>\n                    <div className=\"bg-white border border-gray-200 rounded-lg p-4\">\n                      <h4 className=\"font-medium text-gray-900 mb-2\">Informed</h4>\n                      <div className=\"flex items-center space-x-2\">\n                        <div className=\"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                          {selectedTask.informed ? selectedTask.informed.charAt(0).toUpperCase() : 'I'}\n                        </div>\n                        <span className=\"text-sm text-gray-900\">{selectedTask.informed || 'Unassigned'}</span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {/* Right Side - Due Date & Time */}\n              <div className=\"w-1/3 p-6 bg-gray-50\">\n                <div className=\"space-y-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <div className=\"w-3 h-3 bg-red-500 rounded-full\"></div>\n                    <span className=\"font-medium text-gray-900\">Due</span>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Created On</label>\n                    <p className=\"text-gray-900\">{new Date(selectedTask.created_at).toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      day: '2-digit', \n                      month: 'short', \n                      year: 'numeric' \n                    })}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Start Date</label>\n                    <p className=\"text-gray-900\">{selectedTask.start_date ? new Date(selectedTask.start_date).toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      day: '2-digit', \n                      month: 'short', \n                      year: 'numeric' \n                    }) : '-'}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Due Date</label>\n                    <p className=\"text-gray-900\">{selectedTask.due_date ? new Date(selectedTask.due_date).toLocaleDateString('en-US', { \n                      weekday: 'short', \n                      day: '2-digit', \n                      month: 'short', \n                      year: 'numeric' \n                    }) : '-'}</p>\n                  </div>\n                  \n                  <div>\n                    <label className=\"text-sm font-medium text-gray-700\">Hours Logged</label>\n                    <p className=\"text-gray-900\">{selectedTask.logged_seconds ? `${Math.floor(selectedTask.logged_seconds / 3600)}h ${Math.floor((selectedTask.logged_seconds % 3600) / 60)}m` : '0s'}</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            {/* Bottom Tabs */}\n            <div className=\"border-t border-gray-200\">\n              <div className=\"flex border-b border-gray-200 bg-white sticky top-0 z-10\">\n                {['Files', 'Sub Task', 'Comment', 'Timesheet', 'Notes', 'History'].map((tab) => (\n                  <button\n                    key={tab}\n                    onClick={() => updateUiState({ taskDetailTab: tab.toLowerCase().replace(' ', '') })}\n                    className={`px-6 py-3 text-sm font-medium border-b-2 transition-colors ${\n                      taskDetailTab === tab.toLowerCase().replace(' ', '')\n                        ? 'border-blue-500 text-blue-600'\n                        : 'border-transparent text-gray-500 hover:text-gray-700'\n                    }`}\n                  >\n                    {tab}\n                  </button>\n                ))}\n              </div>\n\n              {/* Tab Content */}\n              <div className=\"p-6 min-h-[500px]\">\n                {taskDetailTab === 'files' && (\n                  <div>\n                    <div className=\"flex items-center space-x-4 mb-4\">\n                      <input\n                        type=\"file\"\n                        onChange={handleFileUpload}\n                        className=\"hidden\"\n                        id=\"file-upload\"\n                      />\n                      <label\n                        htmlFor=\"file-upload\"\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors cursor-pointer flex items-center space-x-2\"\n                      >\n                        <Plus className=\"w-4 h-4\" />\n                        <span>Upload File</span>\n                      </label>\n                    </div>\n                    <div className=\"space-y-2\">\n                      {(taskFiles || []).map((file) => (\n                        <div key={file.id} className=\"flex items-center justify-between p-3 bg-gray-50 rounded-lg\">\n                          <div>\n                            <p className=\"font-medium text-gray-900\">{file.name}</p>\n                            <p className=\"text-sm text-gray-500\">{file.size}  {file.uploadedAt}</p>\n                          </div>\n                          <div className=\"flex items-center space-x-2\">\n                            <button \n                              onClick={() => handleDownloadFile(file)}\n                              className=\"text-blue-500 hover:text-blue-700\" \n                              title=\"Download\"\n                            >\n                              <Download className=\"w-4 h-4\" />\n                            </button>\n                            <button \n                              onClick={() => handleRemoveFile(file.id)}\n                              className=\"text-red-500 hover:text-red-700\" \n                              title=\"Remove file\"\n                            >\n                              <Trash2 className=\"w-4 h-4\" />\n                            </button>\n                          </div>\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n                {taskDetailTab === 'subtask' && (\n                  <div>\n                    <div className=\"flex items-center space-x-4 mb-4\">\n                      <input\n                        type=\"text\"\n                        value={newSubtask}\n                        onChange={(e) => setNewSubtask(e.target.value)}\n                        placeholder=\"Add new subtask...\"\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                      <button\n                        onClick={handleAddSubtask}\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                    <div className=\"space-y-2\">\n                      {Array.isArray(taskSubtasks) ? taskSubtasks.map((subtask) => (\n                        <div key={subtask.id} className=\"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg\">\n                          <input\n                            type=\"checkbox\"\n                            checked={subtask.completed}\n                            onChange={() => handleSubtaskToggle(subtask.id)}\n                            className=\"w-4 h-4 text-blue-600 rounded focus:ring-blue-500\"\n                          />\n                          {editingSubtaskId === subtask.id ? (\n                            <div className=\"flex-1 flex items-center space-x-2\">\n                              <input\n                                type=\"text\"\n                                value={editingSubtaskTitle}\n                                onChange={(e) => setEditingSubtaskTitle(e.target.value)}\n                                className=\"flex-1 px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                onKeyPress={(e) => e.key === 'Enter' && handleSaveEditSubtask()}\n                                autoFocus\n                              />\n                              <button\n                                onClick={handleSaveEditSubtask}\n                                className=\"px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                              >\n                                Save\n                              </button>\n                              <button\n                                onClick={handleCancelEditSubtask}\n                                className=\"px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors\"\n                              >\n                                Cancel\n                              </button>\n                            </div>\n                          ) : (\n                            <>\n                              <span className={`flex-1 ${subtask.completed ? 'line-through text-gray-500' : 'text-gray-900'}`}>\n                                {subtask.title}\n                              </span>\n                              <div className=\"flex items-center space-x-2\">\n                                <button\n                                  onClick={() => handleStartEditSubtask(subtask.id, subtask.title)}\n                                  className=\"text-blue-500 hover:text-blue-700 transition-colors\"\n                                  title=\"Edit subtask\"\n                                >\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                                  </svg>\n                                </button>\n                                <button\n                                  onClick={() => handleSubtaskDelete(subtask.id)}\n                                  className=\"text-red-500 hover:text-red-700 transition-colors\"\n                                  title=\"Delete subtask\"\n                                >\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                  </svg>\n                                </button>\n                              </div>\n                            </>\n                          )}\n                        </div>\n                      )) : null}\n                    </div>\n                  </div>\n                )}\n\n                {taskDetailTab === 'comment' && (\n                  <div>\n                    <div className=\"flex items-center space-x-4 mb-4\">\n                      <input\n                        type=\"text\"\n                        value={newComment}\n                        onChange={(e) => setNewComment(e.target.value)}\n                        placeholder=\"Add a comment...\"\n                        className=\"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                      />\n                      <button\n                        onClick={handleAddComment}\n                        className=\"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors\"\n                      >\n                        Add\n                      </button>\n                    </div>\n                    <div className=\"space-y-3\">\n                      {Array.isArray(taskComments) ? taskComments.map((comment) => (\n                        <div key={comment.id} className=\"p-3 bg-gray-50 rounded-lg\">\n                          <div className=\"flex items-center justify-between mb-2\">\n                            <span className=\"font-medium text-gray-900\">{comment.user}</span>\n                            <div className=\"flex items-center space-x-2\">\n                              <span className=\"text-sm text-gray-500\">{comment.timestamp}</span>\n                              <div className=\"flex items-center space-x-1\">\n                                <button\n                                  onClick={() => handleStartEditComment(comment.id, comment.comment)}\n                                  className=\"text-blue-500 hover:text-blue-700 transition-colors\"\n                                  title=\"Edit comment\"\n                                >\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z\" />\n                                  </svg>\n                                </button>\n                                <button\n                                  onClick={() => handleCommentDelete(comment.id)}\n                                  className=\"text-red-500 hover:text-red-700 transition-colors\"\n                                  title=\"Delete comment\"\n                                >\n                                  <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16\" />\n                                  </svg>\n                                </button>\n                              </div>\n                            </div>\n                          </div>\n                          {editingCommentId === comment.id ? (\n                            <div className=\"space-y-2\">\n                              <textarea\n                                value={editingCommentText}\n                                onChange={(e) => setEditingCommentText(e.target.value)}\n                                className=\"w-full px-2 py-1 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                                rows=\"3\"\n                                autoFocus\n                              />\n                              <div className=\"flex items-center space-x-2\">\n                                <button\n                                  onClick={handleSaveEditComment}\n                                  className=\"px-2 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition-colors\"\n                                >\n                                  Save\n                                </button>\n                                <button\n                                  onClick={handleCancelEditComment}\n                                  className=\"px-2 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition-colors\"\n                                >\n                                  Cancel\n                                </button>\n                              </div>\n                            </div>\n                          ) : (\n                            <p className=\"text-gray-700\">{comment.comment}</p>\n                          )}\n                        </div>\n                      )) : null}\n                    </div>\n                  </div>\n                )}\n\n                {taskDetailTab === 'timesheet' && (\n                  <div>\n                    {/* Total Time Summary */}\n                    <div className=\"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <h3 className=\"text-lg font-semibold text-blue-900\">Total Time Spent</h3>\n                          <p className=\"text-sm text-blue-700\">All logged time entries for this task</p>\n                        </div>\n                        <div className=\"text-right\">\n                          <div className=\"text-2xl font-bold text-blue-900\">\n                            {Math.floor(taskTimesheetTotal / 60)}m {taskTimesheetTotal % 60}s\n                          </div>\n                          <div className=\"text-sm text-blue-600\">\n                            {taskTimesheet.length} time entries\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n\n                    {/* Timesheet Table */}\n                    {taskTimesheet.length === 0 ? (\n                      <div className=\"text-center py-8\">\n                        <div className=\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4\">\n                          <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                          </svg>\n                        </div>\n                        <p className=\"text-gray-500 text-lg\">No timesheet entries yet</p>\n                        <p className=\"text-gray-400 text-sm mt-2\">Time entries will appear here when timers are stopped</p>\n                      </div>\n                    ) : (\n                      <div className=\"overflow-x-auto\">\n                        <table className=\"w-full text-sm text-left\">\n                          <thead className=\"text-xs text-gray-700 uppercase bg-gray-50\">\n                            <tr>\n                              <th className=\"px-4 py-3\">Employee</th>\n                              <th className=\"px-4 py-3\">Start Time</th>\n                              <th className=\"px-4 py-3\">End Time</th>\n                              <th className=\"px-4 py-3\">Memo</th>\n                              <th className=\"px-4 py-3\">Hours Logged</th>\n                            </tr>\n                          </thead>\n                          <tbody>\n                            {taskTimesheet.map((entry) => (\n                              <tr key={entry.id} className=\"bg-white border-b hover:bg-gray-50\">\n                                <td className=\"px-4 py-4\">\n                                  <div className=\"flex items-center space-x-3\">\n                                    <div className=\"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium\">\n                                      {entry.employee_name ? entry.employee_name.charAt(0).toUpperCase() : 'U'}\n                                    </div>\n                                    <div>\n                                      <div className=\"font-medium text-gray-900\">{entry.employee_name}</div>\n                                    </div>\n                                  </div>\n                                </td>\n                                <td className=\"px-4 py-4 text-gray-900\">\n                                  {entry.formatted_start_time || (entry.start_time ? new Date(entry.start_time).toLocaleString() : '-')}\n                                </td>\n                                <td className=\"px-4 py-4 text-gray-900\">\n                                  {entry.formatted_end_time || (entry.end_time ? new Date(entry.end_time).toLocaleString() : '-')}\n                                </td>\n                                <td className=\"px-4 py-4\">\n                                  <div className=\"max-w-xs\">\n                                    <p className=\"text-gray-700 truncate\" title={entry.memo}>\n                                      {entry.memo || 'No memo'}\n                                    </p>\n                                  </div>\n                                </td>\n                                <td className=\"px-4 py-4\">\n                                  <span className=\"font-mono text-blue-600 font-medium\">\n                                    {Math.floor(entry.hours_logged_seconds / 60)}m {entry.hours_logged_seconds % 60}s\n                                  </span>\n                                </td>\n                              </tr>\n                            ))}\n                          </tbody>\n                        </table>\n                      </div>\n                    )}\n                  </div>\n                )}\n\n                {taskDetailTab === 'notes' && (\n                  <div>\n                    <textarea\n                      value={taskNotes}\n                      onChange={(e) => handleNotesChange(e.target.value)}\n                      placeholder=\"Add notes about this task...\"\n                      className=\"w-full h-32 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                    />\n                  </div>\n                )}\n\n                {taskDetailTab === 'history' && (\n                  <div>\n                    {/* Delete All History Button for Admins */}\n                    {(user?.role === 'admin' || user?.role === 'Admin') && taskHistory.length > 0 && (\n                      <div className=\"mb-4 flex justify-between items-center\">\n                        <h3 className=\"text-lg font-semibold text-gray-900\">Task History</h3>\n                        <button\n                          onClick={handleDeleteAllHistory}\n                          className=\"inline-flex items-center px-3 py-2 text-sm font-medium text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                          title=\"Delete all history for this task\"\n                        >\n                          <Trash2 className=\"w-4 h-4 mr-2\" />\n                          Delete All History\n                        </button>\n                      </div>\n                    )}\n                    \n                    <div className=\"space-y-4\">\n                      {taskHistory.length === 0 ? (\n                        <div className=\"text-center py-12\">\n                          <div className=\"w-16 h-16 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-4\">\n                            <svg className=\"w-8 h-8 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                            </svg>\n                          </div>\n                          <p className=\"text-gray-500 text-lg\">No history available for this task</p>\n                          <p className=\"text-gray-400 text-sm mt-2\">History will appear here when actions are performed on this task</p>\n                        </div>\n                      ) : (\n                        taskHistory.map((entry) => (\n                          <div key={entry.id} className=\"flex items-start space-x-4 p-4 bg-white border border-gray-200 rounded-lg shadow-sm hover:shadow-md transition-shadow\">\n                            <div className=\"w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center text-white text-sm font-medium flex-shrink-0\">\n                              {entry.user_name ? entry.user_name.charAt(0).toUpperCase() : 'U'}\n                            </div>\n                            <div className=\"flex-1 min-w-0\">\n                              <div className=\"flex items-center justify-between mb-2\">\n                                <span className=\"font-semibold text-gray-900 text-base\">{entry.action}</span>\n                                <span className=\"text-sm text-gray-500 font-medium\">{entry.formatted_date}</span>\n                              </div>\n                              <p className=\"text-gray-700 mb-2\">{entry.description}</p>\n                              {entry.user_name && (\n                                <p className=\"text-sm text-gray-600 font-medium\">by {entry.user_name}</p>\n                              )}\n                              {entry.old_value && entry.new_value && (\n                                <div className=\"mt-3 flex items-center space-x-3\">\n                                  <span className=\"text-sm text-gray-600 font-medium\">Status:</span>\n                                  <span className=\"text-sm bg-red-100 text-red-800 px-3 py-1 rounded-full font-medium\">\n                                    {entry.old_value}\n                                  </span>\n                                  <svg className=\"w-4 h-4 text-gray-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M9 5l7 7-7 7\" />\n                                  </svg>\n                                  <span className=\"text-sm bg-green-100 text-green-800 px-3 py-1 rounded-full font-medium\">\n                                    {entry.new_value}\n                                  </span>\n                                </div>\n                              )}\n                              \n                              {/* Delete button for admins */}\n                              {(user?.role === 'admin' || user?.role === 'Admin') && (\n                                <div className=\"mt-3 flex justify-end\">\n                                  <button\n                                    onClick={() => handleDeleteHistory(entry.id)}\n                                    className=\"inline-flex items-center px-3 py-1.5 text-xs font-medium text-red-700 bg-red-100 border border-red-300 rounded-md hover:bg-red-200 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors\"\n                                    title=\"Delete this history entry\"\n                                  >\n                                    <Trash2 className=\"w-3 h-3 mr-1\" />\n                                    Delete\n                                  </button>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        ))\n                      )}\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Stop Timer Modal */}\n      {showStopTimerModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-semibold text-gray-900\">Stop Timer</h2>\n              <button\n                onClick={() => updateUiState({ showStopTimerModal: false })}\n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                <X className=\"w-5 h-5 text-gray-500\" />\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-6 space-y-4\">\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Start Time</label>\n                  <input\n                    type=\"text\"\n                    value={stopTimerStartTime}\n                    readOnly\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900\"\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">End Time</label>\n                  <input\n                    type=\"text\"\n                    value={stopTimerEndTime}\n                    readOnly\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900\"\n                  />\n                </div>\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Total Time</label>\n                <input\n                  type=\"text\"\n                  value={stopTimerTotalTime}\n                  readOnly\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md bg-gray-50 text-gray-900\"\n                />\n              </div>\n              \n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                  Memo <span className=\"text-red-500\">*</span>\n                </label>\n                <textarea\n                  value={stopTimerMemo}\n                  onChange={(e) => updateTimerState({ stopTimerMemo: e.target.value })}\n                  placeholder=\"Enter a memo about what you worked on...\"\n                  rows=\"4\"\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none\"\n                  required\n                />\n                <p className=\"text-xs text-gray-500 mt-1\">Please describe what you worked on during this time period.</p>\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                onClick={() => updateUiState({ showStopTimerModal: false })}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={handleStopTimerSubmit}\n                disabled={!stopTimerMemo.trim()}\n                className={`px-4 py-2 rounded-lg transition-colors flex items-center space-x-2 ${\n                  stopTimerMemo.trim()\n                    ? 'bg-blue-500 text-white hover:bg-blue-600'\n                    : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                }`}\n              >\n                <CheckCircle className=\"w-4 h-4\" />\n                <span>Save</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete History Confirmation Modal */}\n      {showDeleteHistoryModal && historyToDelete && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-semibold text-gray-900\">Delete History Entry</h2>\n              <button\n                onClick={() => {\n                  updateUiState({ showDeleteHistoryModal: false });\n                  updateModalState({ historyToDelete: null });\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                <X className=\"w-5 h-5 text-gray-500\" />\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-6 space-y-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-10 h-10 bg-red-100 rounded-full flex items-center justify-center\">\n                  <Trash2 className=\"w-5 h-5 text-red-600\" />\n                </div>\n                <div>\n                  <p className=\"text-gray-900 font-medium\">Are you sure you want to delete this history entry?</p>\n                  <p className=\"text-sm text-gray-600 mt-1\">This action cannot be undone.</p>\n                </div>\n              </div>\n              \n              <div className=\"bg-gray-50 p-4 rounded-lg\">\n                <p className=\"text-sm text-gray-700\">\n                  <span className=\"font-medium\">Action:</span> {historyToDelete.action}\n                </p>\n                <p className=\"text-sm text-gray-700 mt-1\">\n                  <span className=\"font-medium\">Date:</span> {historyToDelete.formatted_date}\n                </p>\n                {historyToDelete.description && (\n                  <p className=\"text-sm text-gray-700 mt-1\">\n                    <span className=\"font-medium\">Description:</span> {historyToDelete.description}\n                  </p>\n                )}\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                onClick={() => {\n                  updateUiState({ showDeleteHistoryModal: false });\n                  updateModalState({ historyToDelete: null });\n                }}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={confirmDeleteHistory}\n                className=\"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n                <span>Delete</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Delete All History Confirmation Modal */}\n      {showDeleteAllHistoryModal && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-semibold text-gray-900\">Delete All Task History</h2>\n              <button\n                onClick={() => updateUiState({ showDeleteAllHistoryModal: false })}\n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                <X className=\"w-5 h-5 text-gray-500\" />\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-6 space-y-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center\">\n                  <Trash2 className=\"w-6 h-6 text-red-600\" />\n                </div>\n                <div>\n                  <p className=\"text-gray-900 font-medium\">Are you sure you want to delete ALL history for this task?</p>\n                  <p className=\"text-sm text-gray-600 mt-1\">This action cannot be undone and will remove {taskHistory.length} history entries.</p>\n                </div>\n              </div>\n              \n              <div className=\"bg-red-50 border border-red-200 p-4 rounded-lg\">\n                <div className=\"flex items-center space-x-2\">\n                  <AlertTriangle className=\"w-5 h-5 text-red-600\" />\n                  <p className=\"text-sm font-medium text-red-800\">Warning</p>\n                </div>\n                <p className=\"text-sm text-red-700 mt-2\">\n                  This will permanently delete all {taskHistory.length} history entries for \"{selectedTask?.title}\". \n                  This action cannot be undone and may affect task tracking and reporting.\n                </p>\n              </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                onClick={() => updateUiState({ showDeleteAllHistoryModal: false })}\n                className=\"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={confirmDeleteAllHistory}\n                className=\"px-4 py-2 text-white bg-red-600 rounded-lg hover:bg-red-700 transition-colors flex items-center space-x-2\"\n              >\n                <Trash2 className=\"w-4 h-4\" />\n                <span>Delete All History</span>\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Checklist Warning Modal */}\n      {showChecklistWarningModal && checklistWarningTask && (\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div className=\"bg-white rounded-lg shadow-xl w-full max-w-md mx-4\">\n            {/* Header */}\n            <div className=\"flex items-center justify-between p-6 border-b border-gray-200\">\n              <h2 className=\"text-xl font-semibold text-gray-900\">Checklist Incomplete</h2>\n              <button\n                onClick={() => {\n                  updateUiState({ showChecklistWarningModal: false });\n                  setChecklistWarningTask(null);\n                }}\n                className=\"p-2 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                <X className=\"w-5 h-5 text-gray-500\" />\n              </button>\n            </div>\n\n            {/* Content */}\n            <div className=\"p-6 space-y-4\">\n                                    <div className=\"flex items-center space-x-3\">\n                        <div className=\"w-12 h-12 bg-yellow-100 rounded-full flex items-center justify-center\">\n                          <AlertTriangle className=\"w-6 h-6 text-yellow-600\" />\n                        </div>\n                        <div>\n                          <p className=\"text-gray-900 font-medium\">Cannot Complete Task</p>\n                          <p className=\"text-sm text-gray-600 mt-1\">\n                            {!areAllChecklistItemsCompleted(checklistWarningTask) && !isUnitValid(checklistWarningTask) \n                              ? 'Both checklist items and unit value must be completed before marking this task as complete.'\n                              : !areAllChecklistItemsCompleted(checklistWarningTask)\n                              ? 'All checklist items must be completed before marking this task as complete.'\n                              : 'Unit value must be set before marking this task as complete.'\n                            }\n                          </p>\n                        </div>\n                      </div>\n              \n                              <div className=\"bg-yellow-50 border border-yellow-200 p-4 rounded-lg\">\n                  <div className=\"flex items-center space-x-2\">\n                    <AlertTriangle className=\"w-5 h-5 text-yellow-600\" />\n                    <p className=\"text-sm font-medium text-yellow-800\">Task: {checklistWarningTask.title}</p>\n                  </div>\n                  \n                  {/* Checklist Issues */}\n                  {checklistWarningTask.checklist && !areAllChecklistItemsCompleted(checklistWarningTask) && (\n                    <div className=\"mt-3\">\n                      <p className=\"text-sm font-medium text-yellow-800 mb-2\">Checklist Items:</p>\n                      <div className=\"space-y-1\">\n                        {checklistWarningTask.checklist.split('\\n').filter(item => item.trim() !== '').map((item, index) => (\n                          <div key={index} className=\"flex items-center space-x-2 text-sm text-yellow-700\">\n                            <div className=\"w-3 h-3 border-2 border-yellow-400 rounded-sm\"></div>\n                            <span>{item.trim()}</span>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                  \n                  {/* Unit Issues */}\n                  {!isUnitValid(checklistWarningTask) && (\n                    <div className=\"mt-3\">\n                      <p className=\"text-sm font-medium text-yellow-800 mb-2\">Unit Value:</p>\n                      <div className=\"flex items-center space-x-2 text-sm text-yellow-700\">\n                        <div className=\"w-3 h-3 border-2 border-yellow-400 rounded-sm\"></div>\n                        <span>Unit value is required and must be greater than 0</span>\n                      </div>\n                      <p className=\"text-sm text-yellow-700 mt-1\">\n                        Current value: {checklistWarningTask.unit || 'Not set'}\n                      </p>\n                    </div>\n                  )}\n                  \n                  <p className=\"text-sm text-yellow-700 mt-3\">\n                    {!areAllChecklistItemsCompleted(checklistWarningTask) && !isUnitValid(checklistWarningTask) \n                      ? 'Please complete all checklist items and set a valid unit value before marking this task as complete.'\n                      : !areAllChecklistItemsCompleted(checklistWarningTask)\n                      ? 'Please complete all checklist items before marking this task as complete.'\n                      : 'Please set a valid unit value before marking this task as complete.'\n                    }\n                  </p>\n                </div>\n            </div>\n\n            {/* Footer */}\n            <div className=\"flex justify-end space-x-3 p-6 border-t border-gray-200\">\n              <button\n                onClick={() => {\n                  updateUiState({ showChecklistWarningModal: false });\n                  setChecklistWarningTask(null);\n                }}\n                className=\"px-4 py-2 text-white bg-yellow-600 rounded-lg hover:bg-yellow-700 transition-colors\"\n              >\n                Got It\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Task Calculation Modal */}\n      <Modal\n        isOpen={showTaskCalculationModal}\n        onClose={() => updateUiState({ showTaskCalculationModal: false })}\n        title=\"Task Calculation & Scoring Configuration\"\n        size=\"6xl\"\n      >\n        <div className=\"space-y-6\">\n          {/* Scoring Weights Configuration */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Scoring Weights (%)</h3>\n            <div className=\"grid grid-cols-5 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Impact</label>\n                <input\n                  type=\"number\"\n                  value={scoringWeights.impact}\n                  onChange={(e) => updateScoringWeights({...scoringWeights, impact: parseInt(e.target.value) || 0})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Priority</label>\n                <input\n                  type=\"number\"\n                  value={scoringWeights.priority}\n                  onChange={(e) => updateScoringWeights({...scoringWeights, priority: parseInt(e.target.value) || 0})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Complexity</label>\n                <input\n                  type=\"number\"\n                  value={scoringWeights.complexity}\n                  onChange={(e) => updateScoringWeights({...scoringWeights, complexity: parseInt(e.target.value) || 0})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Effort</label>\n                <input\n                  type=\"number\"\n                  value={scoringWeights.effort}\n                  onChange={(e) => updateScoringWeights({...scoringWeights, effort: parseInt(e.target.value) || 0})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Labels</label>\n                <input\n                  type=\"number\"\n                  value={scoringWeights.labels}\n                  onChange={(e) => updateScoringWeights({...scoringWeights, labels: parseInt(e.target.value) || 0})}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n                  min=\"0\"\n                  max=\"100\"\n                />\n              </div>\n            </div>\n            <div className=\"mt-2 text-sm text-gray-600\">\n              Total: {Object.values(scoringWeights).reduce((sum, weight) => sum + weight, 0)}%\n            </div>\n          </div>\n\n          {/* Scoring Points Configuration */}\n          <div className=\"grid grid-cols-2 gap-6\">\n            {/* Impact Points */}\n            <div>\n              <h4 className=\"text-md font-medium text-gray-900 mb-3\">Impact Points</h4>\n              <div className=\"space-y-2\">\n                {Object.entries(scoringPoints.impact).map(([key, value]) => (\n                  <div key={key} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700\">{key}</span>\n                    <input\n                      type=\"number\"\n                      value={value}\n                      onChange={(e) => updateScoringPoints('impact', key, e.target.value)}\n                      className=\"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                      min=\"0\"\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Priority Points */}\n            <div>\n              <h4 className=\"text-md font-medium text-gray-900 mb-3\">Priority Points</h4>\n              <div className=\"space-y-2\">\n                {Object.entries(scoringPoints.priority).map(([key, value]) => (\n                  <div key={key} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700\">{key}</span>\n                    <input\n                      type=\"number\"\n                      value={value}\n                      onChange={(e) => updateScoringPoints('priority', key, e.target.value)}\n                      className=\"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                      min=\"0\"\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Complexity Points */}\n            <div>\n              <h4 className=\"text-md font-medium text-gray-900 mb-3\">Complexity Points</h4>\n              <div className=\"space-y-2\">\n                {Object.entries(scoringPoints.complexity).map(([key, value]) => (\n                  <div key={key} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700\">{key}</span>\n                    <input\n                      type=\"number\"\n                      value={value}\n                      onChange={(e) => updateScoringPoints('complexity', key, e.target.value)}\n                      className=\"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                      min=\"0\"\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Effort Points */}\n            <div>\n              <h4 className=\"text-md font-medium text-gray-900 mb-3\">Effort Points</h4>\n              <div className=\"space-y-2\">\n                {Object.entries(scoringPoints.effort).map(([key, value]) => (\n                  <div key={key} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700\">{key}</span>\n                    <input\n                      type=\"number\"\n                      value={value}\n                      onChange={(e) => updateScoringPoints('effort', key, e.target.value)}\n                      className=\"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                      min=\"0\"\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Labels Points */}\n            <div>\n              <h4 className=\"text-md font-medium text-gray-900 mb-3\">Labels Points</h4>\n              <div className=\"space-y-2\">\n                {Object.entries(scoringPoints.labels).map(([key, value]) => (\n                  <div key={key} className=\"flex items-center justify-between\">\n                    <span className=\"text-sm text-gray-700\">{key}</span>\n                    <input\n                      type=\"number\"\n                      value={value}\n                      onChange={(e) => updateScoringPoints('labels', key, e.target.value)}\n                      className=\"w-20 px-2 py-1 border border-gray-300 rounded text-sm focus:outline-none focus:ring-1 focus:ring-blue-500\"\n                      min=\"0\"\n                    />\n                  </div>\n                ))}\n              </div>\n            </div>\n          </div>\n\n          {/* Task Scores Table */}\n          <div>\n            <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Task Scores</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Task</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Score</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Category</th>\n                    <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Breakdown</th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {tasks.slice(0, 10).map((task) => {\n                    const score = calculateTaskScore(task);\n                    const breakdown = getScoreBreakdown(task);\n                    return (\n                      <tr key={task.id} className=\"hover:bg-gray-50\">\n                        <td className=\"px-6 py-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">{task.title}</div>\n                          <div className=\"text-sm text-gray-500\">{task.impact}  {task.priority}  {task.complexity}</div>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getScoreColor(score)}`}>\n                            {score}\n                          </span>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <span className=\"text-sm text-gray-900\">{getScoreCategory(score)}</span>\n                        </td>\n                        <td className=\"px-6 py-4\">\n                          <div className=\"text-xs text-gray-600 space-y-1\">\n                            <div>Impact: {breakdown.impact}</div>\n                            <div>Priority: {breakdown.priority}</div>\n                            <div>Complexity: {breakdown.complexity}</div>\n                            <div>Effort: {breakdown.effort}</div>\n                            <div>Labels: {breakdown.labels}</div>\n                          </div>\n                        </td>\n                      </tr>\n                    );\n                  })}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </Modal>\n\n      {/* Customize Columns Modal */}\n      <Modal\n        isOpen={showColumnModal}\n        onClose={() => updateUiState({ showColumnModal: false })}\n        title=\"Customize Table Columns\"\n        size=\"lg\"\n      >\n        <div className=\"space-y-6\">\n          <div>\n            <p className=\"text-sm text-gray-600 mb-4\">\n              Select which columns you want to display, customize their widths, and set their order:\n            </p>\n            \n            {/* Column Visibility */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Column Visibility</h3>\n              <div className=\"grid grid-cols-2 gap-3 max-h-64 overflow-y-auto\">\n                {getAllColumns().map(column => (\n                  <label key={column.key} className=\"flex items-center space-x-3 p-3 border rounded-lg hover:bg-gray-50 cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={visibleColumns[column.key]}\n                      onChange={() => toggleColumn(column.key)}\n                      className=\"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500\"\n                    />\n                    <span className=\"text-sm font-medium text-gray-700\">\n                      {column.name}\n                    </span>\n                  </label>\n                ))}\n              </div>\n            </div>\n\n            {/* Column Order */}\n            <div className=\"mb-6\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Column Order</h3>\n              <div className=\"space-y-2 max-h-64 overflow-y-auto\">\n                {columnOrder.map((columnKey, index) => \n                  visibleColumns[columnKey] && (\n                    <div key={columnKey} className=\"flex items-center justify-between p-3 border rounded-lg bg-gray-50\">\n                      <div className=\"flex items-center space-x-3\">\n                        <span className=\"text-sm text-gray-500 w-8 text-center\">#{index + 1}</span>\n                        <span className=\"text-sm font-medium text-gray-700\">\n                          {getAllColumns().find(col => col.key === columnKey)?.name || columnKey}\n                        </span>\n                      </div>\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => moveColumnUp(columnKey)}\n                          disabled={index === 0}\n                          className={`p-1 rounded ${index === 0 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-blue-100 text-blue-600 hover:bg-blue-200'}`}\n                          title=\"Move Up\"\n                        >\n                          \n                        </button>\n                        <button\n                          onClick={() => moveColumnDown(columnKey)}\n                          disabled={index === columnOrder.length - 1}\n                          className={`p-1 rounded ${index === columnOrder.length - 1 ? 'bg-gray-200 text-gray-400 cursor-not-allowed' : 'bg-blue-100 text-blue-600 hover:bg-blue-200'}`}\n                          title=\"Move Down\"\n                        >\n                          \n                        </button>\n                      </div>\n                    </div>\n                  )\n                )}\n              </div>\n            </div>\n\n            {/* Column Widths */}\n            <div>\n              <h3 className=\"text-lg font-medium text-gray-900 mb-3\">Column Widths</h3>\n              <div className=\"space-y-3\">\n                {getAllColumns().map(column => \n                  visibleColumns[column.key] && (\n                    <div key={column.key} className=\"flex items-center justify-between\">\n                      <span className=\"text-sm text-gray-700 w-32\">\n                        {column.name}\n                      </span>\n                      <div className=\"flex items-center space-x-2\">\n                        <input\n                          type=\"range\"\n                          min=\"60\"\n                          max=\"500\"\n                          value={columnWidths[column.key]}\n                          onChange={(e) => updateColumnWidth(column.key, parseInt(e.target.value))}\n                          className=\"w-32\"\n                        />\n                        <span className=\"text-sm text-gray-500 w-12 text-right\">\n                          {columnWidths[column.key]}px\n                        </span>\n                      </div>\n                    </div>\n                  )\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex justify-between items-center pt-4 border-t border-gray-200\">\n            <Button\n              variant=\"secondary\"\n              onClick={resetToDefault}\n            >\n              Reset to Default\n            </Button>\n            <div className=\"flex space-x-3\">\n              <Button variant=\"secondary\" onClick={() => updateUiState({ showColumnModal: false })}>\n                Cancel\n              </Button>\n              <Button onClick={() => updateUiState({ showColumnModal: false })}>\n                Apply\n              </Button>\n            </div>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n});\n\nTasks.displayName = 'Tasks';\n\nexport default Tasks; "],"names":["Plus","createLucideIcon","d","key","_ref","label","name","type","placeholder","required","disabled","defaultValue","className","onChange","error","props","_jsxs","children","htmlFor","_jsx","id","PenSquare","MoreVertical","cx","cy","r","onSelect","onEdit","onDelete","isErrorMenu","itemType","user","useAuth","isOpen","setIsOpen","useState","position","setPosition","top","left","buttonRef","useRef","useEffect","close","window","addEventListener","removeEventListener","specificPermissions","canView","canEdit","canDelete","console","log","_Fragment","ref","onClick","e","stopPropagation","current","rect","getBoundingClientRect","bottom","right","prev","title","size","style","role","preventDefault","Eye","Edit","Trash2","Upload","points","x1","x2","y1","y2","Play","performanceMonitor","constructor","this","metrics","isEnabled","process","startTiming","startTime","performance","now","endTime","duration","endTiming","metric","warn","toFixed","info","measureApiCall","url","fetchPromise","then","response","catch","getReport","report","Object","keys","forEach","clear","measureTaskLoading","measureTaskDetails","taskId","Tasks","memo","initialOpenTask","onConsumeInitialOpenTask","dataState","setDataState","tasks","departments","employees","labels","loading","uiState","setUiState","searchTerm","selectedTask","selectedTasks","Set","taskDetailTab","showModal","showImportModal","showFilterModal","showColumnModal","showDetailModal","showBulkStatusModal","showTaskCalculationModal","showStopTimerModal","showDeleteHistoryModal","showDeleteAllHistoryModal","showChecklistWarningModal","showExportModal","showUpdateModal","totalTasks","currentPage","hasMoreTasks","loadingMore","taskDetailState","setTaskDetailState","files","subtasks","comments","timesheet","timesheetTotal","notes","history","newComment","newSubtask","uploadedFile","editingSubtaskId","editingSubtaskTitle","editingCommentId","editingCommentText","taskTimesheetTotal","useMemo","reduce","total","entry","hours_logged_seconds","formState","setFormState","editingTask","importLoading","selectedFile","importResult","bulkStatus","newValues","impact","priority","complexity","effort","newScores","editingItem","editingScore","filterState","setFilterState","status","effortEstimateLabel","unit","target","department","assignedTo","responsible","accountable","consulted","informed","trained","timerState","setTimerState","activeTimers","intervals","tick","stopTimerTaskId","stopTimerMemo","stopTimerStartTime","stopTimerEndTime","stopTimerTotalTime","modalState","setModalState","historyToDelete","checklistWarningTask","checklistCompletion","taskChecklistCompletion","setTaskChecklistCompletion","visibleColumns","setVisibleColumns","saved","localStorage","getItem","defaultColumns","checkbox","task","task_category","project","start_date","due_date","without_due_date","assigned_to","description","label_id","milestones","effort_estimate_label","effortEstimate","time_estimate","make_private","share","repeat","is_dependent","validation_by","effort_label","checklist","workflow_guide","timer_started_at","logged_seconds","timer","created_at","updated_at","score","actions","parsed","JSON","parse","columnWidths","setColumnWidths","defaultWidths","columnOrder","setColumnOrder","defaultOrder","missingColumns","filter","col","includes","updateUiState","startTransition","loadTaskDetails","setItem","stringify","scoringWeights","scoringPoints","updateScoringPoints","useTaskConfig","updateDataState","useCallback","updates","updateTaskDetailState","updateFormState","updateFilterState","updateTimerState","updateModalState","taskFiles","taskSubtasks","taskComments","taskTimesheet","taskNotes","taskHistory","length","setFormData","changed","reconciled","map","item","hasEmployeeIdInLabel","value","startsWith","nameOnly","split","emp","find","toLowerCase","employee_id","setTaskFiles","setTaskComments","validComments","Array","isArray","setTaskSubtasks","validSubtasks","setTaskTimesheet","setTaskNotes","setTaskHistory","setNewComment","setNewSubtask","setEditingSubtaskId","setEditingSubtaskTitle","setEditingCommentId","setEditingCommentText","filterStatus","filterPriority","filterComplexity","filterImpact","filterEffortEstimateLabel","filterUnit","filterTarget","filterDepartment","filterAssignedTo","filterLabels","filterResponsible","filterAccountable","filterConsulted","filterInformed","filterTrained","timerIntervals","formData","taskCategory","startDate","dueDate","withoutDueDate","makePrivate","isDependent","validationBy","effortLabel","workflowGuide","timeEstimateHours","timeEstimateMinutes","fetchAllData","async","skipLoadingState","arguments","undefined","page","append","searchParams","tasksUrl","hasViewOwnTasks","permissions","params","URLSearchParams","user_id","employee_name","all","limit","search","toString","tasksHeaders","tasksResponse","departmentsResponse","employeesResponse","labelsResponse","Promise","fetch","headers","ok","tasksData","json","departmentsData","employeesData","labelsData","newTasks","data","pagination","hasMore","refreshTasksOnly","searchTimeoutRef","handleSearch","searchValue","clearTimeout","setTimeout","getLabelsFilterString","getAssignedToFilterString","getSearchFilterParams","fetchAllTasksForDashboard","allTasks","restoredIntervals","interval","setInterval","Date","values","clearInterval","attachmentsResponse","attachmentsData","attachments","comment","timestamp","completed","timesheetResponse","historyResponse","allSettled","timesheetData","totalSeconds","_ref2","_entry$hours_logged_s","hours_logged","setTaskTimesheetTotal","historyData","setAllTasks","allTasksData","idToName","Map","_item$value","candidateId","get","Boolean","join","getFilteredTasks","filteredTasks","allFilteredTasks","selectAll","every","has","completedTasks","inProgressTasks","overdueTasks","handleTaskClick","handleCancelEditComment","handleSaveEditComment","handleCommentEdit","commentId","newText","trim","handleSubtaskToggle","subtaskId","subtask","handleCancelEditSubtask","handleSaveEditSubtask","handleSubtaskEdit","newTitle","stringToEmployeeArray","str","employee","_emp$name","_emp$name2","replace","employeeArrayToString","arr","getUserActiveTimer","calculateTaskScore","contextCalculateTaskScore","getScoreCategory","getScoreColor","getScoreBreakdown","contextGetScoreBreakdown","startTimer","t","alert","canStartTimer","currentTime","toISOString","operation","method","body","user_name","newTimers","newIntervals","errorData","measureTimerOperation","stopTimerWithMemo","elapsedSeconds","Math","floor","getTime","max","toLocaleTimeString","hour12","stopTimer","canStopTimer","areAllChecklistItemsCompleted","checklistItems","localCompleted","completedItems","checklist_completed","isUnitValid","unitValue","parseFloat","isNaN","canTaskBeCompleted","updateChecklistCompletionOnServer","isChecklistItemCompleted","itemIndex","formatTime","seconds","hours","minutes","secs","padStart","getTimerDisplay","isActive","isActiveFromDB","activeTime","displayTime","canEditTask","_user$name","canDeleteTask","_user$name2","_user$name3","_user$name4","updateTaskStatus","newStatus","currentTask","oldStatus","validation","validateStatusChange","errorMessage","issues","push","isValid","message","old_status","handleSelectAll","allTaskIds","isAllSelected","handleCloseModal","getStatusColor","getPriorityColor","getComplexityColor","getImpactColor","Button","variant","Settings","Filter","Download","handleAdd","defaultAssignedTo","Briefcase","CheckCircle","Clock","AlertTriangle","Search","confirmMessage","confirm","selectedIds","from","ids","result","updatePromises","responses","Error","refreshTasksUrl","columnKey","_getAllColumns$find","width","checked","colSpan","_user$role","_user$role2","_user$role3","_user$role4","newSelectedTasks","delete","add","pointerEvents","zIndex","time_estimate_hours","time_estimate_minutes","Square","userActiveTimer","canStartTimerNow","ActionMenu","sanitizedDescription","desc","assignee","handleEdit","user_role","user_permissions","handleDelete","nextPage","Modal","onClose","onSubmit","apiData","errorText","text","Input","dept","MultiSelect","options","activeEmployees","unshift","searchPlaceholder","rows","option","min","parseInt","step","errorCount","errors","index","handleDownloadSample","sampleData","csvContent","row","header","blob","Blob","link","document","createElement","URL","createObjectURL","setAttribute","visibility","appendChild","click","removeChild","accept","FormData","handleClearFilters","handleApplyFilters","defaultChecked","viewBox","fill","fillRule","clipRule","checkedRadio","querySelector","format","a","href","download","revokeObjectURL","statusText","handleExport","isTimerActive","canStopTimerNow","closeDetailModal","X","charAt","toUpperCase","newCompletion","updatedCompletion","i","sort","b","handleChecklistItemToggle","newValue","updated","toLocaleDateString","weekday","day","month","year","tab","file","event","uploadButton","nextElementSibling","textContent","reloadError","innerHTML","uploadedAt","handleDownloadFile","fileId","handleRemoveFile","handleAddSubtask","onKeyPress","autoFocus","handleStartEditSubtask","currentTitle","stroke","strokeLinecap","strokeLinejoin","strokeWidth","handleSubtaskDelete","handleAddComment","toLocaleString","handleStartEditComment","currentText","handleCommentDelete","formatted_start_time","start_time","formatted_end_time","end_time","handleNotesChange","handleDeleteAllHistory","action","formatted_date","old_value","new_value","historyEntry","historyId","handleDeleteHistory","readOnly","loggedSeconds","currentLoggedSeconds","newLoggedSeconds","responseData","serverLoggedSeconds","updatedTasks","updatedTask","setChecklistWarningTask","updateScoringWeights","sum","weight","entries","_ref3","_ref4","_ref5","_ref6","_ref7","slice","breakdown","column","toggleColumn","_getAllColumns$find2","newOrder","currentIndex","indexOf","moveColumnUp","moveColumnDown","updateColumnWidth","resetToDefault","removeItem","displayName"],"sourceRoot":""}