{"version":3,"file":"static/js/31.c44710e6.chunk.js","mappings":"qRAQA,MAijBA,EAjjBoBA,KAClB,MAAOC,EAAaC,IAAkBC,EAAAA,EAAAA,UAAS,KACxCC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAChCG,EAAYC,IAAiBJ,EAAAA,EAAAA,UAAS,OACtCK,EAAYC,IAAiBN,EAAAA,EAAAA,UAAS,KACtCO,EAAcC,IAAmBR,EAAAA,EAAAA,WAAS,IAC1CS,EAAiBC,IAAsBV,EAAAA,EAAAA,WAAS,IAChDW,EAAmBC,IAAwBZ,EAAAA,EAAAA,UAAS,OACpDa,EAAUC,IAAed,EAAAA,EAAAA,UAAS,CACvCe,KAAM,GACNC,YAAa,GACbC,QAAS,GACTC,SAAU,GACVC,OAAQ,YAEHC,EAAQC,IAAarB,EAAAA,EAAAA,UAAS,CAAC,IAC/BsB,EAAcC,IAAmBvB,EAAAA,EAAAA,UAAS,OAC1CwB,EAAcC,IAAmBzB,EAAAA,EAAAA,UAAS,OAEjD0B,EAAAA,EAAAA,WAAU,KACRC,KACC,IAEH,MAAMA,EAAmBC,UACvB1B,GAAW,GACX,IACE,MAAM2B,QAAiBC,MAAM,oBAC7B,GAAID,EAASE,GAAI,CACf,MAAMC,QAAaH,EAASI,OAC5BlC,EAAeiC,EACjB,MACEE,QAAQC,MAAM,+BAEdC,MAAM,uDAEV,CAAE,MAAOD,GACPD,QAAQC,MAAM,8BAA+BA,GAE7CC,MAAM,gFACR,CAAC,QACClC,GAAW,EACb,GAGImC,EAAqBC,IACzB,MAAM,KAAEvB,EAAI,MAAEwB,GAAUD,EAAEE,OAC1B1B,EAAY2B,IAAI,IACXA,EACH,CAAC1B,GAAOwB,KAGNnB,EAAOL,IACTM,EAAUoB,IAAI,IACTA,EACH,CAAC1B,GAAO,OAkMR2B,EAAaA,KACjBlC,GAAgB,GAChBE,GAAmB,GACnBE,EAAqB,MACrBE,EAAY,CACVC,KAAM,GACNC,YAAa,GACbC,QAAS,GACTC,SAAU,GACVC,OAAQ,WAEVE,EAAU,CAAC,GACXE,EAAgB,MAChBE,EAAgB,OAGZkB,EAAsB7C,EAAY8C,OAAOC,IAAI,IAAAC,EAAAC,EAAA,OACjDF,EAAK9B,KAAKiC,cAAcC,SAAS5C,EAAW2C,iBAC5B,QAD0CF,EAC1DD,EAAK7B,mBAAW,IAAA8B,OAAA,EAAhBA,EAAkBE,cAAcC,SAAS5C,EAAW2C,kBACxC,QADsDD,EAClEF,EAAK5B,eAAO,IAAA8B,OAAA,EAAZA,EAAcC,cAAcC,SAAS5C,EAAW2C,kBAGlD,OAAI/C,GAEAiD,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wCAAuCC,UACpDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,gBAAeC,SAAC,8BAMnCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EAExBC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oCAAmCC,SAAA,EAChDC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,mCAAkCC,SAAC,iBACjDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gBAAeC,SAAC,+CAE/BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,iBAAgBC,SAAA,EAC7BC,EAAAA,EAAAA,MAACC,EAAAA,EAAM,CACLC,QAASA,IAAM7C,GAAmB,GAClC8C,QAAQ,YACRL,UAAU,8BAA6BC,SAAA,EAEvCF,EAAAA,EAAAA,KAACO,EAAAA,EAAM,CAACN,UAAU,aAClBD,EAAAA,EAAAA,KAAA,QAAAE,SAAM,eAERC,EAAAA,EAAAA,MAACC,EAAAA,EAAM,CACLC,QAASA,IAAM/C,GAAgB,GAC/B2C,UAAU,8BAA6BC,SAAA,EAEvCF,EAAAA,EAAAA,KAACQ,EAAAA,EAAI,CAACP,UAAU,aAChBD,EAAAA,EAAAA,KAAA,QAAAE,SAAM,6BAMZC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,WAAUC,SAAA,EACvBF,EAAAA,EAAAA,KAACS,EAAAA,EAAM,CAACR,UAAU,8EAClBD,EAAAA,EAAAA,KAAA,SACEU,KAAK,OACLC,YAAY,wBACZV,UAAU,yIACVZ,MAAOlC,EACPyD,SAAWxB,GAAMhC,EAAcgC,EAAEE,OAAOD,aAK5CW,EAAAA,EAAAA,KAAA,OAAKC,UAAU,6CAA4CC,UACzDF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,kBAAiBC,UAC9BC,EAAAA,EAAAA,MAAA,SAAOF,UAAU,sCAAqCC,SAAA,EACpDF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,aAAYC,UAC3BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iFAAgFC,SAAC,gBAG/FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iFAAgFC,SAAC,aAG/FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iFAAgFC,SAAC,cAG/FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iFAAgFC,SAAC,YAG/FF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iFAAgFC,SAAC,kBAKnGF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,oCAAmCC,SACjDT,EAAoBoB,OAAS,EAC5BpB,EAAoBqB,IAAKC,IACvBZ,EAAAA,EAAAA,MAAA,MAAwBF,UAAU,kCAAkCI,QAASA,IAAMW,OAAOC,cAAc,IAAIC,YAAY,4BAA6B,CAAEC,OAAQ,CAAEJ,iBAAiBb,SAAA,EAChLF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,8BAA6BC,UACzCC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,oCAAmCC,SAC/Ca,EAAWlD,OAEbkD,EAAWjD,cACVkC,EAAAA,EAAAA,KAAA,OAAKC,UAAU,wBAAuBC,SACnCa,EAAWjD,oBAKpBkC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oDAAmDC,SAC9Da,EAAWhD,SAAW,OAEzBiC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,oDAAmDC,SAC9Da,EAAW/C,UAAY,OAE1BgC,EAAAA,EAAAA,KAAA,MAAIC,UAAU,8BAA6BC,UACzCF,EAAAA,EAAAA,KAAA,QAAMC,UAAW,6DACO,WAAtBc,EAAW9C,OACP,8BACA,2BACHiC,SACAa,EAAW9C,YAGhB+B,EAAAA,EAAAA,KAAA,MAAIC,UAAU,kDAAiDC,UAC7DF,EAAAA,EAAAA,KAACoB,EAAAA,EAAU,CACTC,OAAQA,IA1QVN,KAClBrD,EAAqBqD,GACrBnD,EAAY,CACVC,KAAMkD,EAAWlD,KACjBC,YAAaiD,EAAWjD,aAAe,GACvCC,QAASgD,EAAWhD,SAAW,GAC/BC,SAAU+C,EAAW/C,UAAY,GACjCC,OAAQ8C,EAAW9C,SAErBX,GAAgB,IAiQkBgE,CAAWP,GACzBQ,SAAUA,IA/PX7C,WACnB,IAAKsC,OAAOQ,QAAQ,oDAClB,OAIF,GAAIvE,EACF,OAGFC,EAAcuE,GAGd,MAAMC,EAAkBhD,iBAA2B,IAApBiD,EAAUC,UAAAf,OAAA,QAAAgB,IAAAD,UAAA,GAAAA,UAAA,GAAG,EAC1C,IACE,MAAMjD,QAAiBC,MAAM,oBAAoB6C,IAAM,CACrDK,OAAQ,WAGV,GAAwB,MAApBnD,EAASV,OAAgB,CAE3B,GAAI0D,EAAa,EAGf,OAFA3C,QAAQ+C,IAAI,kBAAkBJ,EAAa,+BACrC,IAAIK,QAAQC,GAAWC,WAAWD,EAAS,KAAQN,EAAa,KAC/DD,EAAgBC,EAAa,GAEpC,MAAM,IAAIQ,MAAM,kDAEpB,CAEA,GAAIxD,EAASE,GAAI,OAET,IAAImD,QAAQC,GAAWC,WAAWD,EAAS,MAGjD,MAAMG,EAAiB,IAAIJ,QAAQ,CAACK,EAAGC,IACrCJ,WAAW,IAAMI,EAAO,IAAIH,MAAM,kBAAmB,YAGjDH,QAAQO,KAAK,CACjB9D,IACA2D,GAEJ,MACEpD,QAAQC,MAAM,+BAEdC,MAAM,iDAEV,CAAE,MAAOD,GAGP,GAFAD,QAAQC,MAAM,6BAA8BA,GAEtB,oDAAlBA,EAAMuD,QACRtD,MAAM,0EACD,GAAsB,kBAAlBD,EAAMuD,QAA6B,CAC5CtD,MAAM,+FAENlC,GAAW,GACX,UACQyB,GACR,CAAE,MAAOgE,GACPzD,QAAQC,MAAM,iCAAkCwD,GAChDzF,GAAW,EACb,CACF,MACEkC,MAAM,+CAEV,CACF,QAEMwC,IACNxE,EAAc,OAyLsBwF,CAAa3B,EAAWU,IACxCkB,SAAS,mBAhCN5B,EAAWU,MAsCtBzB,EAAAA,EAAAA,KAAA,MAAAE,UACEF,EAAAA,EAAAA,KAAA,MAAI4C,QAAQ,IAAI3C,UAAU,sCAAqCC,SAC5D/C,EAAa,6CAA+C,sCAU3E6C,EAAAA,EAAAA,KAAC6C,EAAAA,EAAK,CACJC,OAAQzF,EACR0F,QAASvD,EACTwD,MAAOvF,EAAoB,kBAAoB,qBAC/CwF,KAAK,KAAI/C,UAETC,EAAAA,EAAAA,MAAA,QAAM+C,SA3USxE,UAGnB,GAFAU,EAAE+D,iBAViBC,MACnB,MAAMC,EAAY,CAAC,EAKnB,OAJK1F,EAASE,KAAKyF,SACjBD,EAAUxF,KAAO,+BAEnBM,EAAUkF,GAC+B,IAAlCE,OAAOC,KAAKH,GAAWxC,QAMzBuC,GAEL,IACE,MAAMK,EAAMhG,EACR,oBAAoBA,EAAkBgE,KACtC,mBAEEK,EAASrE,EAAoB,MAAQ,cAEpBmB,MAAM6E,EAAK,CAChC3B,SACA4B,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAUlG,MAGVkB,UACLJ,IACNe,IACA5B,EAAY,CACVC,KAAM,GACNC,YAAa,GACbC,QAAS,GACTC,SAAU,GACVC,OAAQ,WAEVP,EAAqB,OAErBsB,QAAQC,MAAM,4BAElB,CAAE,MAAOA,GACPD,QAAQC,MAAM,2BAA4BA,EAC5C,GAuSkCgB,UAAU,YAAWC,SAAA,EACjDF,EAAAA,EAAAA,KAAC8D,EAAAA,EAAK,CACJC,MAAM,kBACNlG,KAAK,OACLwB,MAAO1B,EAASE,KAChB+C,SAAUzB,EACV6E,UAAQ,EACR/E,MAAOf,EAAOL,QAGhBsC,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,+CAA8CC,SAAC,iBAGhEF,EAAAA,EAAAA,KAAA,YACEnC,KAAK,cACLwB,MAAO1B,EAASG,YAChB8C,SAAUzB,EACV8E,KAAK,IACLhE,UAAU,6IACVU,YAAY,wCAIhBX,EAAAA,EAAAA,KAAC8D,EAAAA,EAAK,CACJC,MAAM,UACNlG,KAAK,UACLwB,MAAO1B,EAASI,QAChB6C,SAAUzB,EACVwB,YAAY,6BAGdX,EAAAA,EAAAA,KAAC8D,EAAAA,EAAK,CACJC,MAAM,WACNlG,KAAK,WACLwB,MAAO1B,EAASK,SAChB4C,SAAUzB,EACVwB,YAAY,yBAGdR,EAAAA,EAAAA,MAAA,OAAAD,SAAA,EACEF,EAAAA,EAAAA,KAAA,SAAOC,UAAU,+CAA8CC,SAAC,YAGhEC,EAAAA,EAAAA,MAAA,UACEtC,KAAK,SACLwB,MAAO1B,EAASM,OAChB2C,SAAUzB,EACVc,UAAU,6IAA4IC,SAAA,EAEtJF,EAAAA,EAAAA,KAAA,UAAQX,MAAM,SAAQa,SAAC,YACvBF,EAAAA,EAAAA,KAAA,UAAQX,MAAM,WAAUa,SAAC,oBAI7BC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,kCAAiCC,SAAA,EAC9CF,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CACLM,KAAK,SACLJ,QAAQ,YACRD,QAASb,EAAWU,SACrB,YAGDF,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACM,KAAK,SAAQR,SAClBzC,EAAoB,oBAAsB,4BAOnDuC,EAAAA,EAAAA,KAAC6C,EAAAA,EAAK,CACJC,OAAQvF,EACRwF,QAASvD,EACTwD,MAAM,qBACNC,KAAK,KAAI/C,UAETC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,YAAWC,SAAA,EACxBF,EAAAA,EAAAA,KAAA,OAAKC,UAAU,mBAAkBC,UAC/BF,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACE,QAAQ,UAAUD,QAjPP6D,KAC3B,MAIMC,EAAKC,EAAAA,GAAWC,aAJP,CACb,CAAC,OAAQ,cAAe,UAAW,WAAY,UAC/C,CAAC,gBAAiB,oCAAqC,aAAc,UAAW,YAG5EC,EAAKF,EAAAA,GAAWG,WACtBH,EAAAA,GAAWI,kBAAkBF,EAAIH,EAAI,eACrCC,EAAAA,GAAeE,EAAI,6BAyO6CpE,SAAC,2BAI1D5B,GACC6B,EAAAA,EAAAA,MAAA,OAAKF,UAAW,mBACd3B,EAAamG,WAAa,EAAI,+BAAiC,8BAC9DvE,SAAA,EACDF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,cAAaC,SAAE5B,EAAakE,UACxClE,EAAaJ,QAAUI,EAAaJ,OAAO2C,OAAS,IACnDV,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,cAAaC,SAAC,aAC3BF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,gCAA+BC,SAC1C5B,EAAaJ,OAAOwG,MAAM,EAAG,GAAG5D,IAAI,CAAC7B,EAAO0F,KAC3C3E,EAAAA,EAAAA,KAAA,MAAAE,SAAiBjB,GAAR0F,aAOnBxE,EAAAA,EAAAA,MAAAyE,EAAAA,SAAA,CAAA1E,SAAA,EACEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,oEAAmEC,SAAA,EAChFF,EAAAA,EAAAA,KAAC6E,EAAAA,EAAQ,CAAC5E,UAAU,qCACpBE,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAMC,SAAA,EACnBC,EAAAA,EAAAA,MAAA,SAAO2E,QAAQ,cAAc7E,UAAU,iBAAgBC,SAAA,EACrDF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,oDAAmDC,SAAC,0BAGpEF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,gBAAeC,SAAC,0BAElCF,EAAAA,EAAAA,KAAA,SACEyB,GAAG,cACH5D,KAAK,cACL6C,KAAK,OACLT,UAAU,UACV8E,OAAO,aACPnE,SAnUQxB,IACxB,MAAM4F,EAAO5F,EAAEE,OAAO2F,MAAM,IACxBD,GAAuB,sEAAdA,EAAKtE,MACU,6BAAdsE,EAAKtE,KAGjBxB,MAAM,oDAFNb,EAAgB2G,UAkUNhF,EAAAA,EAAAA,KAAA,KAAGC,UAAU,6BAA4BC,SAAC,sCAK3C9B,IACC4B,EAAAA,EAAAA,KAAA,OAAKC,UAAU,4BAA2BC,UACxCC,EAAAA,EAAAA,MAAA,KAAGF,UAAU,wBAAuBC,SAAA,CAAC,mBACpBF,EAAAA,EAAAA,KAAA,QAAMC,UAAU,cAAaC,SAAE9B,EAAaP,aAKjEsC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,4BAA2BC,SAAA,EACxCF,EAAAA,EAAAA,KAAA,MAAIC,UAAU,iCAAgCC,SAAC,4BAC/CC,EAAAA,EAAAA,MAAA,MAAIF,UAAU,kCAAiCC,SAAA,EAC7CC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAAEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,SAAa,oCAC3BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAAEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,gBAAoB,2CAClCC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAAEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,YAAgB,uCAC9BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAAEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,aAAiB,wCAC/BC,EAAAA,EAAAA,MAAA,MAAAD,SAAA,CAAI,WAAEF,EAAAA,EAAAA,KAAA,UAAAE,SAAQ,WAAe,6CAIjCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,6BAA4BC,SAAA,EACzCF,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CAACE,QAAQ,YAAYD,QAASb,EAAWU,SAAC,YAGjDF,EAAAA,EAAAA,KAACI,EAAAA,EAAM,CACLC,QAzVK3B,UACnB,IAAKN,EAEH,YADAc,MAAM,8BAIR,MAAMvB,EAAW,IAAIuH,SACrBvH,EAASwH,OAAO,OAAQ/G,GAExB,IACE,MAAMO,QAAiBC,MAAM,0BAA2B,CACtDkD,OAAQ,OACR6B,KAAMhG,IAGR,GAAIgB,EAASE,GAAI,CACf,MAAMuG,QAAezG,EAASI,OAC9BR,EAAgB6G,SACV3G,IACNJ,EAAgB,MAChB6D,WAAW,KACT1E,GAAmB,GACnBe,EAAgB,OACf,IACL,KAAO,CACL,MAAMU,QAAcN,EAASI,OAC7BC,QAAQC,MAAM,gBAAiBA,GAC/BC,MAAM,kBAAkBD,EAAMA,OAAS,2BACzC,CACF,CAAE,MAAOA,GACPD,QAAQC,MAAM,+BAAgCA,GAC9CC,MAAM,6DACR,GA0TcmG,UAAWjH,EAAa8B,SACzB,qC,uDC3iBjB,MA4CA,EA5CcoF,IAYP,IAZQ,MACbvB,EAAK,KACLlG,EAAI,KACJ6C,EAAO,OAAM,YACbC,EAAc,GAAE,SAChBqD,GAAW,EAAK,SAChBqB,GAAW,EAAK,aAChBE,EAAe,GAAE,UACjBtF,EAAY,GAAE,SACdW,EAAQ,MACR3B,KACGuG,GACJF,EACC,OACEnF,EAAAA,EAAAA,MAAA,OAAKF,UAAWA,EAAUC,SAAA,CACvB6D,IACC5D,EAAAA,EAAAA,MAAA,SAAO2E,QAASjH,EAAMoC,UAAU,+CAA8CC,SAAA,CAC3E6D,EACAC,IAAYhE,EAAAA,EAAAA,KAAA,QAAMC,UAAU,oBAAmBC,SAAC,UAGrDF,EAAAA,EAAAA,KAAA,SACEyB,GAAI5D,EACJA,KAAMA,EACN6C,KAAMA,EACNC,YAAaA,EACbqD,SAAUA,EACVqB,SAAUA,EACVzE,SAAUA,EACVX,UAAW,sOAIPhB,EAAQ,yDAA2D,kBAEnEuG,IAELvG,IACCe,EAAAA,EAAAA,KAAA,KAAGC,UAAU,4BAA2BC,SAAEjB,O,gDC3B5C,MAAAwG,GAAeC,E,QAAAA,GAAiB,eAAgB,CACpD,CAAC,SAAU,CAAEC,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKC,IAAK,WAC9C,CAAC,SAAU,CAAEH,GAAI,KAAMC,GAAI,IAAKC,EAAG,IAAKC,IAAK,WAC7C,CAAC,SAAU,CAAEH,GAAI,KAAMC,GAAI,KAAMC,EAAG,IAAKC,IAAK,a,qDCZhD,MAyIA,EAzImBR,IAA6E,IAA5E,SAAES,EAAQ,OAAE1E,EAAM,SAAEE,EAAQ,YAAEyE,GAAc,EAAK,SAAErD,EAAW,QAAQ2C,EACxF,MAAM,KAAEW,IAASC,EAAAA,EAAAA,MACVpD,EAAQqD,IAAarJ,EAAAA,EAAAA,WAAS,IAC9BsJ,EAAUC,IAAevJ,EAAAA,EAAAA,UAAS,CAAEwJ,IAAK,EAAGC,KAAM,IACnDC,GAAYC,EAAAA,EAAAA,QAAO,OAczBjI,EAAAA,EAAAA,WAAU,KACR,MAAMkI,EAAQA,IAAMP,GAAU,GAK9B,OAJIrD,IACF9B,OAAO2F,iBAAiB,QAASD,GACjC1F,OAAO2F,iBAAiB,SAAUD,GAAO,IAEpC,KACL1F,OAAO4F,oBAAoB,QAASF,GACpC1F,OAAO4F,oBAAoB,SAAUF,GAAO,KAE7C,CAAC5D,IAGJ,MAaM+D,EAPG,CACLC,SAAS,EACTC,SAAS,EACTC,WAAW,GAcf,OAPAhI,QAAQ+C,IAAI,uCAA8B8E,GAC1C7H,QAAQ+C,IAAI,yBAAgB8E,EAAoBC,SAChD9H,QAAQ+C,IAAI,yBAAgB8E,EAAoBE,SAChD/H,QAAQ+C,IAAI,2BAAkB8E,EAAoBG,YAKhD7G,EAAAA,EAAAA,MAAAyE,EAAAA,SAAA,CAAA1E,SAAA,EACEF,EAAAA,EAAAA,KAAA,UACEiH,IAAKT,EACLnG,QApDgBjB,IAEpB,GADAA,EAAE8H,kBACEV,EAAUW,QAAS,CACrB,MAAMC,EAAOZ,EAAUW,QAAQE,wBAC/BhB,EAAY,CACVC,IAAKc,EAAKE,OAAS,EACnBf,KAAMa,EAAKG,MAAQ,KAEvB,CACApB,EAAU5G,IAASA,IA4CfU,UAAU,uDACV+C,MAAM,UAAS9C,UAEfF,EAAAA,EAAAA,KAACyF,EAAY,CAACxC,KAAM,OAGrBH,IACC9C,EAAAA,EAAAA,KAAA,OACEwH,MAAO,CACLpB,SAAU,QACVE,IAAK,GAAGF,EAASE,QACjBC,KAAM,GAAGH,EAASG,UAEpBtG,UAAU,2EACVI,QAAUjB,GAAMA,EAAE8H,kBAAkBhH,UAEpCC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,OAAOwH,KAAK,OAAO,mBAAiB,WAAUvH,SAAA,EAEzD8F,GAAea,EAAoBC,SAAWf,IAC9C5F,EAAAA,EAAAA,MAAA,UACEE,QAAUjB,IACRA,EAAE+D,iBACF4C,IACAI,GAAU,IAEZlG,UAAU,+FACVwH,KAAK,WAAUvH,SAAA,EAEfF,EAAAA,EAAAA,KAAC0H,EAAAA,EAAG,CAACzE,KAAM,GAAIhD,UAAU,uBAAsB,UAMlD4G,EAAoBE,SAAW1F,IAC9BlB,EAAAA,EAAAA,MAAA,UACEE,QAAUjB,IACRA,EAAE+D,iBACF9B,IACA8E,GAAU,IAEZlG,UAAU,+FACVwH,KAAK,WAAUvH,SAAA,EAEfF,EAAAA,EAAAA,KAAC2H,EAAAA,EAAI,CAAC1E,KAAM,GAAIhD,UAAU,uBAAsB,UAMnD4G,EAAoBG,WAAazF,IAChCpB,EAAAA,EAAAA,MAAA,UACEE,QAAUjB,IACRA,EAAE+D,iBACF5B,IACA4E,GAAU,IAEZlG,UAAU,8FACVwH,KAAK,WAAUvH,SAAA,EAEfF,EAAAA,EAAAA,KAAC4H,EAAAA,EAAM,CAAC3E,KAAM,GAAIhD,UAAU,uBAAsB,aAMpD4G,EAAoBC,UAAYD,EAAoBE,UAAYF,EAAoBG,YACpFhH,EAAAA,EAAAA,KAAA,OAAKC,UAAU,yCAAwCC,SAAC,iC","sources":["components/views/Departments.js","components/ui/Input.js","../node_modules/lucide-react/src/icons/more-vertical.ts","components/ui/ActionMenu.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Upload, Search, Edit, Trash2, Building } from 'lucide-react';\nimport Button from '../ui/Button';\nimport Input from '../ui/Input';\nimport Modal from '../ui/Modal';\nimport ActionMenu from '../ui/ActionMenu';\nimport * as XLSX from 'xlsx';\n\nconst Departments = () => {\n  const [departments, setDepartments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [deletingId, setDeletingId] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showAddModal, setShowAddModal] = useState(false);\n  const [showImportModal, setShowImportModal] = useState(false);\n  const [editingDepartment, setEditingDepartment] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    manager: '',\n    location: '',\n    status: 'Active'\n  });\n  const [errors, setErrors] = useState({});\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [importResult, setImportResult] = useState(null);\n\n  useEffect(() => {\n    fetchDepartments();\n  }, []);\n\n  const fetchDepartments = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch('/api/departments');\n      if (response.ok) {\n        const data = await response.json();\n        setDepartments(data);\n      } else {\n        console.error('Failed to fetch departments');\n        // Show user-friendly error\n        alert('Failed to load departments. Please refresh the page.');\n      }\n    } catch (error) {\n      console.error('Error fetching departments:', error);\n      // Show user-friendly error\n      alert('Error loading departments. Please check your connection and refresh the page.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.name.trim()) {\n      newErrors.name = 'Department name is required';\n    }\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) return;\n\n    try {\n      const url = editingDepartment \n        ? `/api/departments/${editingDepartment.id}`\n        : '/api/departments';\n      \n      const method = editingDepartment ? 'PUT' : 'POST';\n\n      const response = await fetch(url, {\n        method,\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(formData),\n      });\n\n      if (response.ok) {\n        await fetchDepartments();\n        closeModal();\n        setFormData({\n          name: '',\n          description: '',\n          manager: '',\n          location: '',\n          status: 'Active'\n        });\n        setEditingDepartment(null);\n      } else {\n        console.error('Failed to save department');\n      }\n    } catch (error) {\n      console.error('Error saving department:', error);\n    }\n  };\n\n  const handleEdit = (department) => {\n    setEditingDepartment(department);\n    setFormData({\n      name: department.name,\n      description: department.description || '',\n      manager: department.manager || '',\n      location: department.location || '',\n      status: department.status\n    });\n    setShowAddModal(true);\n  };\n\n  const handleDelete = async (id) => {\n    if (!window.confirm('Are you sure you want to delete this department?')) {\n      return;\n    }\n\n    // Prevent multiple rapid delete clicks\n    if (deletingId) {\n      return;\n    }\n\n    setDeletingId(id);\n    \n    // Retry mechanism for delete operation\n    const deleteWithRetry = async (retryCount = 0) => {\n      try {\n        const response = await fetch(`/api/departments/${id}`, {\n          method: 'DELETE',\n        });\n\n        if (response.status === 503) {\n          // Database connection lost, retry after delay\n          if (retryCount < 3) {\n            console.log(`Delete attempt ${retryCount + 1} failed, retrying...`);\n            await new Promise(resolve => setTimeout(resolve, 1000 * (retryCount + 1)));\n            return deleteWithRetry(retryCount + 1);\n          } else {\n            throw new Error('Database connection lost after multiple retries');\n          }\n        }\n\n        if (response.ok) {\n          // Add a small delay to ensure the delete operation completes\n          await new Promise(resolve => setTimeout(resolve, 100));\n          \n          // Fetch updated departments with timeout protection\n          const timeoutPromise = new Promise((_, reject) => \n            setTimeout(() => reject(new Error('Fetch timeout')), 10000)\n          );\n          \n          await Promise.race([\n            fetchDepartments(),\n            timeoutPromise\n          ]);\n        } else {\n          console.error('Failed to delete department');\n          // Show user-friendly error\n          alert('Failed to delete department. Please try again.');\n        }\n      } catch (error) {\n        console.error('Error deleting department:', error);\n        \n        if (error.message === 'Database connection lost after multiple retries') {\n          alert('Database connection issue. Please refresh the page and try again.');\n        } else if (error.message === 'Fetch timeout') {\n          alert('Department deleted but there was a delay loading the updated list. Please refresh the page.');\n          // Force refresh the departments list\n          setLoading(true);\n          try {\n            await fetchDepartments();\n          } catch (refreshError) {\n            console.error('Failed to refresh departments:', refreshError);\n            setLoading(false);\n          }\n        } else {\n          alert('Error deleting department. Please try again.');\n        }\n      }\n    };\n\n    await deleteWithRetry();\n    setDeletingId(null);\n  };\n\n  const handleFileSelect = (e) => {\n    const file = e.target.files[0];\n    if (file && (file.type === 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' || \n                  file.type === 'application/vnd.ms-excel')) {\n      setSelectedFile(file);\n    } else {\n      alert('Please select a valid Excel file (.xlsx or .xls)');\n    }\n  };\n\n  const handleImport = async () => {\n    if (!selectedFile) {\n      alert('Please select a file first');\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append('file', selectedFile);\n\n    try {\n      const response = await fetch('/api/departments/import', {\n        method: 'POST',\n        body: formData,\n      });\n\n      if (response.ok) {\n        const result = await response.json();\n        setImportResult(result);\n        await fetchDepartments();\n        setSelectedFile(null);\n        setTimeout(() => {\n          setShowImportModal(false);\n          setImportResult(null);\n        }, 5000);\n      } else {\n        const error = await response.json();\n        console.error('Import error:', error);\n        alert(`Import failed: ${error.error || 'Unknown error occurred'}`);\n      }\n    } catch (error) {\n      console.error('Error importing departments:', error);\n      alert('Import failed. Please check your connection and try again.');\n    }\n  };\n\n  const handleDownloadSample = () => {\n    const wsData = [\n      ['Name', 'Description', 'Manager', 'Location', 'Status'],\n      ['IT Department', 'Information Technology Department', 'John Smith', 'Floor 2', 'Active'],\n    ];\n    const ws = XLSX.utils.aoa_to_sheet(wsData);\n    const wb = XLSX.utils.book_new();\n    XLSX.utils.book_append_sheet(wb, ws, 'Departments');\n    XLSX.writeFile(wb, 'department_template.xlsx');\n  };\n\n  const closeModal = () => {\n    setShowAddModal(false);\n    setShowImportModal(false);\n    setEditingDepartment(null);\n    setFormData({\n      name: '',\n      description: '',\n      manager: '',\n      location: '',\n      status: 'Active'\n    });\n    setErrors({});\n    setSelectedFile(null);\n    setImportResult(null);\n  };\n\n  const filteredDepartments = departments.filter(dept =>\n    dept.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    dept.description?.toLowerCase().includes(searchTerm.toLowerCase()) ||\n    dept.manager?.toLowerCase().includes(searchTerm.toLowerCase())\n  );\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500\">Loading departments...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-bold text-gray-900\">Departments</h1>\n          <p className=\"text-gray-600\">Manage your organization's departments</p>\n        </div>\n        <div className=\"flex space-x-3\">\n          <Button\n            onClick={() => setShowImportModal(true)}\n            variant=\"secondary\"\n            className=\"flex items-center space-x-2\"\n          >\n            <Upload className=\"w-4 h-4\" />\n            <span>Import</span>\n          </Button>\n          <Button\n            onClick={() => setShowAddModal(true)}\n            className=\"flex items-center space-x-2\"\n          >\n            <Plus className=\"w-4 h-4\" />\n            <span>Add Department</span>\n          </Button>\n        </div>\n      </div>\n\n      {/* Search */}\n      <div className=\"relative\">\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\" />\n        <input\n          type=\"text\"\n          placeholder=\"Search departments...\"\n          className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n          value={searchTerm}\n          onChange={(e) => setSearchTerm(e.target.value)}\n        />\n      </div>\n\n      {/* Departments Table */}\n      <div className=\"bg-white rounded-lg shadow overflow-hidden\">\n        <div className=\"overflow-x-auto\">\n          <table className=\"min-w-full divide-y divide-gray-200\">\n            <thead className=\"bg-gray-50\">\n              <tr>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Department\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Manager\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Location\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Status\n                </th>\n                <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Actions\n                </th>\n              </tr>\n            </thead>\n            <tbody className=\"bg-white divide-y divide-gray-200\">\n              {filteredDepartments.length > 0 ? (\n                filteredDepartments.map((department) => (\n                  <tr key={department.id} className=\"hover:bg-gray-50 cursor-pointer\" onClick={() => window.dispatchEvent(new CustomEvent('open-department-dashboard', { detail: { department } }))}>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div>\n                        <div className=\"text-sm font-medium text-gray-900\">\n                          {department.name}\n                        </div>\n                        {department.description && (\n                          <div className=\"text-sm text-gray-500\">\n                            {department.description}\n                          </div>\n                        )}\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {department.manager || '-'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                      {department.location || '-'}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                        department.status === 'Active' \n                          ? 'bg-green-100 text-green-800' \n                          : 'bg-red-100 text-red-800'\n                      }`}>\n                        {department.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <ActionMenu\n                        onEdit={() => handleEdit(department)}\n                        onDelete={() => handleDelete(department.id)}\n                        itemType=\"department\"\n                      />\n                    </td>\n                  </tr>\n                ))\n              ) : (\n                <tr>\n                  <td colSpan=\"5\" className=\"px-6 py-4 text-center text-gray-500\">\n                    {searchTerm ? 'No departments found matching your search.' : 'No departments found.'}\n                  </td>\n                </tr>\n              )}\n            </tbody>\n          </table>\n        </div>\n      </div>\n\n      {/* Add/Edit Department Modal */}\n      <Modal\n        isOpen={showAddModal}\n        onClose={closeModal}\n        title={editingDepartment ? 'Edit Department' : 'Add New Department'}\n        size=\"md\"\n      >\n        <form onSubmit={handleSubmit} className=\"space-y-4\">\n          <Input\n            label=\"Department Name\"\n            name=\"name\"\n            value={formData.name}\n            onChange={handleInputChange}\n            required\n            error={errors.name}\n          />\n          \n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Description\n            </label>\n            <textarea\n              name=\"description\"\n              value={formData.description}\n              onChange={handleInputChange}\n              rows=\"3\"\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n              placeholder=\"Enter department description...\"\n            />\n          </div>\n\n          <Input\n            label=\"Manager\"\n            name=\"manager\"\n            value={formData.manager}\n            onChange={handleInputChange}\n            placeholder=\"Department manager name\"\n          />\n\n          <Input\n            label=\"Location\"\n            name=\"location\"\n            value={formData.location}\n            onChange={handleInputChange}\n            placeholder=\"Department location\"\n          />\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n              Status\n            </label>\n            <select\n              name=\"status\"\n              value={formData.status}\n              onChange={handleInputChange}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\"\n            >\n              <option value=\"Active\">Active</option>\n              <option value=\"Inactive\">Inactive</option>\n            </select>\n          </div>\n\n          <div className=\"flex justify-end space-x-3 pt-4\">\n            <Button\n              type=\"button\"\n              variant=\"secondary\"\n              onClick={closeModal}\n            >\n              Cancel\n            </Button>\n            <Button type=\"submit\">\n              {editingDepartment ? 'Update Department' : 'Add Department'}\n            </Button>\n          </div>\n        </form>\n      </Modal>\n\n      {/* Import Modal */}\n      <Modal\n        isOpen={showImportModal}\n        onClose={closeModal}\n        title=\"Import Departments\"\n        size=\"md\"\n      >\n        <div className=\"space-y-4\">\n          <div className=\"flex justify-end\">\n            <Button variant=\"outline\" onClick={handleDownloadSample}>\n              Download Sample File\n            </Button>\n          </div>\n          {importResult ? (\n            <div className={`p-4 rounded-lg ${\n              importResult.errorCount > 0 ? 'bg-yellow-50 text-yellow-800' : 'bg-green-50 text-green-800'\n            }`}>\n              <p className=\"font-medium\">{importResult.message}</p>\n              {importResult.errors && importResult.errors.length > 0 && (\n                <div className=\"mt-2\">\n                  <p className=\"font-medium\">Errors:</p>\n                  <ul className=\"list-disc list-inside text-sm\">\n                    {importResult.errors.slice(0, 5).map((error, index) => (\n                      <li key={index}>{error}</li>\n                    ))}\n                  </ul>\n                </div>\n              )}\n            </div>\n          ) : (\n            <>\n              <div className=\"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center\">\n                <Building className=\"mx-auto h-12 w-12 text-gray-400\" />\n                <div className=\"mt-4\">\n                  <label htmlFor=\"file-upload\" className=\"cursor-pointer\">\n                    <span className=\"text-indigo-600 hover:text-indigo-500 font-medium\">\n                      Choose an Excel file\n                    </span>\n                    <span className=\"text-gray-500\"> or drag and drop</span>\n                  </label>\n                  <input\n                    id=\"file-upload\"\n                    name=\"file-upload\"\n                    type=\"file\"\n                    className=\"sr-only\"\n                    accept=\".xlsx,.xls\"\n                    onChange={handleFileSelect}\n                  />\n                </div>\n                <p className=\"text-xs text-gray-500 mt-2\">\n                  Excel files only (.xlsx, .xls)\n                </p>\n              </div>\n\n              {selectedFile && (\n                <div className=\"bg-gray-50 p-3 rounded-lg\">\n                  <p className=\"text-sm text-gray-700\">\n                    Selected file: <span className=\"font-medium\">{selectedFile.name}</span>\n                  </p>\n                </div>\n              )}\n\n              <div className=\"bg-blue-50 p-4 rounded-lg\">\n                <h4 className=\"font-medium text-blue-900 mb-2\">Expected Excel Format:</h4>\n                <ul className=\"text-sm text-blue-800 space-y-1\">\n                  <li>‚Ä¢ <strong>Name</strong> (required) - Department name</li>\n                  <li>‚Ä¢ <strong>Description</strong> (optional) - Department description</li>\n                  <li>‚Ä¢ <strong>Manager</strong> (optional) - Department manager</li>\n                  <li>‚Ä¢ <strong>Location</strong> (optional) - Department location</li>\n                  <li>‚Ä¢ <strong>Status</strong> (optional) - Active or Inactive</li>\n                </ul>\n              </div>\n\n              <div className=\"flex justify-end space-x-3\">\n                <Button variant=\"secondary\" onClick={closeModal}>\n                  Cancel\n                </Button>\n                <Button\n                  onClick={handleImport}\n                  disabled={!selectedFile}\n                >\n                  Import Departments\n                </Button>\n              </div>\n            </>\n          )}\n        </div>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Departments; ","import React from 'react';\n\nconst Input = ({ \n  label, \n  name, \n  type = 'text', \n  placeholder = '', \n  required = false, \n  disabled = false,\n  defaultValue = '',\n  className = '',\n  onChange,\n  error,\n  ...props \n}) => {\n  return (\n    <div className={className}>\n      {label && (\n        <label htmlFor={name} className=\"block text-sm font-medium text-gray-700 mb-1\">\n          {label}\n          {required && <span className=\"text-red-500 ml-1\">*</span>}\n        </label>\n      )}\n      <input\n        id={name}\n        name={name}\n        type={type}\n        placeholder={placeholder}\n        required={required}\n        disabled={disabled}\n        onChange={onChange}\n        className={`\n          w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm\n          focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500\n          disabled:bg-gray-50 disabled:text-gray-500\n          ${error ? 'border-red-500 focus:ring-red-500 focus:border-red-500' : ''}\n        `}\n        {...props}\n      />\n      {error && (\n        <p className=\"mt-1 text-sm text-red-600\">{error}</p>\n      )}\n    </div>\n  );\n};\n\nexport default Input; ","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name MoreVertical\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxIiAvPgogIDxjaXJjbGUgY3g9IjEyIiBjeT0iNSIgcj0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjE5IiByPSIxIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/more-vertical\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst MoreVertical = createLucideIcon('MoreVertical', [\n  ['circle', { cx: '12', cy: '12', r: '1', key: '41hilf' }],\n  ['circle', { cx: '12', cy: '5', r: '1', key: 'gxeob9' }],\n  ['circle', { cx: '12', cy: '19', r: '1', key: 'lyex9k' }],\n]);\n\nexport default MoreVertical;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { MoreVertical, Eye, Edit, Trash2 } from 'lucide-react';\nimport { useAuth } from '../../contexts/AuthContext';\n\nconst ActionMenu = ({ onSelect, onEdit, onDelete, isErrorMenu = false, itemType = 'item' }) => {\n  const { user } = useAuth();\n  const [isOpen, setIsOpen] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const buttonRef = useRef(null);\n\n  const handleToggle = (e) => {\n    e.stopPropagation();\n    if (buttonRef.current) {\n      const rect = buttonRef.current.getBoundingClientRect();\n      setPosition({ \n        top: rect.bottom + 2, \n        left: rect.right - 160 \n      });\n    }\n    setIsOpen(prev => !prev);\n  };\n\n  useEffect(() => {\n    const close = () => setIsOpen(false);\n    if (isOpen) {\n      window.addEventListener('click', close);\n      window.addEventListener('scroll', close, true);\n    }\n    return () => {\n      window.removeEventListener('click', close);\n      window.removeEventListener('scroll', close, true);\n    };\n  }, [isOpen]);\n\n  // All actions are accessible (no permission restrictions)\n  const canView = true;\n  const canEdit = true;\n  const canDelete = true;\n\n  // All permissions are granted (no restrictions)\n  const getSpecificPermissions = () => {\n    return {\n      canView: true,\n      canEdit: true,\n      canDelete: true\n    };\n  };\n\n  const specificPermissions = getSpecificPermissions();\n\n  // Debug the final permission check\n  console.log('üîç Final Permission Check:', specificPermissions);\n  console.log('üîç Can View:', specificPermissions.canView);\n  console.log('üîç Can Edit:', specificPermissions.canEdit);\n  console.log('üîç Can Delete:', specificPermissions.canDelete);\n\n  // Always show the menu (no permission restrictions)\n\n  return (\n    <>\n      <button \n        ref={buttonRef} \n        onClick={handleToggle} \n        className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n        title=\"Actions\"\n      >\n        <MoreVertical size={16} />\n      </button>\n      \n      {isOpen && (\n        <div \n          style={{ \n            position: 'fixed', \n            top: `${position.top}px`, \n            left: `${position.left}px` \n          }} \n          className=\"w-40 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 z-50\" \n          onClick={(e) => e.stopPropagation()}\n        >\n          <div className=\"py-1\" role=\"menu\" aria-orientation=\"vertical\">\n            {/* View Action */}\n            {!isErrorMenu && specificPermissions.canView && onSelect && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onSelect(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Eye size={14} className=\"mr-3 flex-shrink-0\"/> \n                View\n              </button>\n            )}\n            \n            {/* Edit Action */}\n            {specificPermissions.canEdit && onEdit && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onEdit(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Edit size={14} className=\"mr-3 flex-shrink-0\"/> \n                Edit\n              </button>\n            )}\n            \n            {/* Delete Action */}\n            {specificPermissions.canDelete && onDelete && (\n              <button\n                onClick={(e) => { \n                  e.preventDefault(); \n                  onDelete(); \n                  setIsOpen(false); \n                }} \n                className=\"flex items-center w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 transition-colors\" \n                role=\"menuitem\"\n              >\n                <Trash2 size={14} className=\"mr-3 flex-shrink-0\"/> \n                Delete\n              </button>\n            )}\n            \n            {/* Show message if no actions available */}\n            {!specificPermissions.canView && !specificPermissions.canEdit && !specificPermissions.canDelete && (\n              <div className=\"px-4 py-2 text-sm text-gray-500 italic\">\n                No actions available\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default ActionMenu;\n"],"names":["Departments","departments","setDepartments","useState","loading","setLoading","deletingId","setDeletingId","searchTerm","setSearchTerm","showAddModal","setShowAddModal","showImportModal","setShowImportModal","editingDepartment","setEditingDepartment","formData","setFormData","name","description","manager","location","status","errors","setErrors","selectedFile","setSelectedFile","importResult","setImportResult","useEffect","fetchDepartments","async","response","fetch","ok","data","json","console","error","alert","handleInputChange","e","value","target","prev","closeModal","filteredDepartments","filter","dept","_dept$description","_dept$manager","toLowerCase","includes","_jsx","className","children","_jsxs","Button","onClick","variant","Upload","Plus","Search","type","placeholder","onChange","length","map","department","window","dispatchEvent","CustomEvent","detail","ActionMenu","onEdit","handleEdit","onDelete","confirm","id","deleteWithRetry","retryCount","arguments","undefined","method","log","Promise","resolve","setTimeout","Error","timeoutPromise","_","reject","race","message","refreshError","handleDelete","itemType","colSpan","Modal","isOpen","onClose","title","size","onSubmit","preventDefault","validateForm","newErrors","trim","Object","keys","url","headers","body","JSON","stringify","Input","label","required","rows","handleDownloadSample","ws","XLSX","aoa_to_sheet","wb","book_new","book_append_sheet","errorCount","slice","index","_Fragment","Building","htmlFor","accept","file","files","FormData","append","result","disabled","_ref","defaultValue","props","MoreVertical","createLucideIcon","cx","cy","r","key","onSelect","isErrorMenu","user","useAuth","setIsOpen","position","setPosition","top","left","buttonRef","useRef","close","addEventListener","removeEventListener","specificPermissions","canView","canEdit","canDelete","ref","stopPropagation","current","rect","getBoundingClientRect","bottom","right","style","role","Eye","Edit","Trash2"],"sourceRoot":""}